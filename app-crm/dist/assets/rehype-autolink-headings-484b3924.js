import{e as f}from"./extend-b3232017.js";import{c as N}from"./hast-util-is-element-4fe6b149.js";import{v,S as l}from"./unist-util-visit-f72c27b5.js";import{h as j}from"./hast-util-heading-rank-1ca6eaab.js";import{h as w}from"./hast-util-has-property-acd5f273.js";const H={type:"element",tagName:"span",properties:{className:["icon","icon-link"]},children:[]};function E(n={}){let i=n.properties;const s=n.behaviour||n.behavior||"prepend",h=n.content||H,m=n.group,b=N(n.test);let a;return s==="wrap"?a=k:s==="before"||s==="after"?a=A:(i||(i={ariaHidden:"true",tabIndex:-1}),a=d),r=>{v(r,"element",(e,t,o)=>{if(j(e)&&w(e,"id")&&b(e,t,o))return a(e,t,o)})};function d(r){return r.children[s==="prepend"?"unshift":"push"](p(r,f(!0,{},i),y(h,r))),[l]}function A(r,e,t){if(typeof e!="number"||!t)return;const o=p(r,f(!0,{},i),y(h,r));let u=s==="before"?[o,r]:[r,o];if(m){const c=g(m,r);c&&!Array.isArray(c)&&c.type==="element"&&(c.children=u,u=[c])}return t.children.splice(e,1,...u),[l,e+u.length]}function k(r){return r.children=[p(r,f(!0,{},i),r.children)],[l]}function y(r,e){const t=g(r,e);return Array.isArray(t)?t:[t]}function g(r,e){return typeof r=="function"?r(e):f(!0,Array.isArray(r)?[]:{},r)}function p(r,e,t){return{type:"element",tagName:"a",properties:Object.assign({},e,{href:"#"+(r.properties||{}).id}),children:t}}}export{E as r};
