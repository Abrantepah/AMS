import{j as t}from"./react-f83171f6.js";import{p as P,b as S}from"./@refinedev-e19195c0.js";import{P as v,D,a as W,T as r,V as o,I as Q,S as z}from"./@react-pdf-ad8a37e1.js";import{Q as E,c as l}from"./index-4113e83e.js";import"./dayjs-ccdc21e7.js";import{b as R}from"./react-router-286b5268.js";import{a as F,q}from"./antd-8dc53e1b.js";import{bg as B}from"./@ant-design-b3fb01a5.js";import"./@algolia-6bb98d1b.js";import"./sunflower-antd-b7c52e64.js";import"./tslib-133e1b7a.js";import"./react-markdown-ecaefd3d.js";import"./vfile-6404f5ee.js";import"./vfile-message-36a63b7e.js";import"./unist-util-stringify-position-c1d0da3a.js";import"./unified-a4a02247.js";import"./bail-6c55de42.js";import"./extend-b3232017.js";import"./trough-cd0b4d6d.js";import"./remark-parse-85ac6e81.js";import"./mdast-util-from-markdown-d6783c52.js";import"./micromark-7d81d632.js";import"./mdast-util-to-string-4033e385.js";import"./remark-rehype-9a2032e2.js";import"./mdast-util-to-hast-8e9d18d8.js";import"./mdurl-bfa3a10b.js";import"./unist-builder-069018de.js";import"./unist-util-visit-parents-a8973bb3.js";import"./unist-util-is-ed1fe220.js";import"./unist-util-generated-8c2ee601.js";import"./mdast-util-definitions-f967f126.js";import"./prop-types-30de2bcf.js";import"./property-information-0004ac0d.js";import"./xtend-2b056f5a.js";import"./react-is-8d9ddb1f.js";import"./space-separated-tokens-d6f14c6f.js";import"./comma-separated-tokens-a05230ef.js";import"./style-to-object-b28dc10f.js";import"./inline-style-parser-e2a37bce.js";import"./remark-gfm-e694efbd.js";import"./micromark-extension-gfm-39dd3ef5.js";import"./micromark-extension-gfm-autolink-literal-edb0f204.js";import"./micromark-extension-gfm-table-29daca91.js";import"./micromark-extension-gfm-task-list-item-d37fdbb4.js";import"./micromark-extension-gfm-strikethrough-dd4f2228.js";import"./mdast-util-gfm-4ff8096f.js";import"./mdast-util-gfm-autolink-literal-ea729c86.js";import"./mdast-util-find-and-replace-195d46af.js";import"./escape-string-regexp-348311e6.js";import"./mdast-util-gfm-strikethrough-bb347af8.js";import"./mdast-util-to-markdown-f2181906.js";import"./repeat-string-d22006ec.js";import"./mdast-util-gfm-table-86d8b2fd.js";import"./markdown-table-c51853ae.js";import"./mdast-util-gfm-task-list-item-bb68c4e9.js";import"./@tanstack-87345ecd.js";import"./react-dom-e9b5ed0c.js";import"./use-sync-external-store-45a4f913.js";import"./lodash-ded28814.js";import"./error-stack-parser-8a325f08.js";import"./stackframe-d613cda2.js";import"./qs-533703aa.js";import"./side-channel-2b67a7a3.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-480ee363.js";import"./crypto-js-223de2bb.js";import"./lodash-es-7c8d70fb.js";import"./warn-once-02798694.js";import"./pluralize-aac65ede.js";import"./papaparse-42281dbe.js";import"./react-router-dom-3db48442.js";import"./@remix-run-8247d2bc.js";import"./graphql-3565279e.js";import"./cross-fetch-e3cbbbc3.js";import"./camelcase-a877ba3b.js";import"./gql-query-builder-55751dde.js";import"./graphql-tag-b0ed4b27.js";import"./@babel-1b4b41ae.js";import"./queue-d3dfa02c.js";import"./inherits-2c87d58f.js";import"./events-f5832a60.js";import"./fontkit-f1ed714c.js";import"./restructure-6f8f6eda.js";import"./fast-deep-equal-6d4638a9.js";import"./unicode-properties-3a0207b5.js";import"./base64-js-50a5cdf9.js";import"./unicode-trie-894e387b.js";import"./tiny-inflate-883f742a.js";import"./dfa-b9f8a3a8.js";import"./clone-e61c0028.js";import"./brotli-56847cf1.js";import"./@swc-1764bf98.js";import"./abs-svg-path-87553aa1.js";import"./parse-svg-path-4ed76410.js";import"./normalize-svg-path-a13571e8.js";import"./svg-arc-to-cubic-bezier-d12fe6e6.js";import"./color-string-0b04a96e.js";import"./color-name-b7949e8c.js";import"./simple-swizzle-58fb3c22.js";import"./pako-1c4281a4.js";import"./jay-peg-bd9fd04f.js";import"./postcss-value-parser-8f4e359f.js";import"./hsl-to-hex-dc4b21a5.js";import"./hsl-to-rgb-for-reals-282984f4.js";import"./media-engine-a14eba61.js";import"./bidi-js-b480259a.js";import"./hyphen-3b638ef5.js";import"./yoga-layout-05693f85.js";import"./emoji-regex-a1456128.js";import"./object-assign-4df68cb4.js";import"./scheduler-f4563fbe.js";import"./axios-a342f982.js";import"./graphql-ws-6dcf2f9d.js";import"./algoliasearch-fa1a6be7.js";import"./classnames-25d76406.js";import"./react-instantsearch-core-78b5f298.js";import"./instantsearch.js-acc6351b.js";import"./algoliasearch-helper-1f51e904.js";import"./@dnd-kit-915f3bb4.js";import"./rc-util-c5d9a97a.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./swr-b4b4bea7.js";import"./@ctrl-fb5a5473.js";import"./rc-resize-observer-e44fcb90.js";import"./@emotion-c0b5c018.js";import"./stylis-5efc5547.js";import"./@antv-0cee95de.js";import"./detect-browser-4b5d6ec2.js";import"./gl-matrix-54a6b629.js";import"./d3-ease-e4d6dab1.js";import"./d3-interpolate-ca1e460c.js";import"./d3-color-6502c434.js";import"./d3-timer-4c6100d9.js";import"./fecha-59c3c944.js";import"./size-sensor-a627fda7.js";import"./d3-regression-45fb9454.js";import"./d3-hierarchy-187e1b2d.js";import"./fmin-0c78f753.js";import"./pdfast-a451494d.js";import"./react-content-loader-64a5b8dd.js";import"./rc-motion-d3441b18.js";import"./rc-notification-fe76982d.js";import"./rc-overflow-7a102792.js";import"./rc-picker-08f8db9f.js";import"./@rc-component-cd4aaefc.js";import"./rc-tabs-aa40fa60.js";import"./rc-dropdown-a7e16339.js";import"./rc-menu-479eb022.js";import"./rc-select-d6e555cc.js";import"./rc-virtual-list-75ccf576.js";import"./rc-input-number-47067811.js";import"./rc-input-813e1b90.js";import"./rc-collapse-80ac144a.js";import"./rc-drawer-4623e45d.js";import"./rc-field-form-628030e8.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-582d6ca4.js";import"./compute-scroll-into-view-e3f0ecc2.js";import"./rc-image-a155e2e3.js";import"./rc-dialog-a5b29123.js";import"./rc-tooltip-fb4190ca.js";import"./rc-table-a60f2689.js";import"./rc-tree-c57a14ed.js";import"./rc-checkbox-5033fea8.js";import"./rc-pagination-9f434a85.js";import"./throttle-debounce-87e7e444.js";import"./copy-to-clipboard-3f887352.js";import"./toggle-selection-93f4ad84.js";import"./rc-textarea-ad67d466.js";import"./rc-upload-290ca40f.js";import"./rc-progress-6fd91520.js";const ro=()=>{const{modalProps:c,show:x}=P(),h=R(),{data:m,isLoading:j,isFetching:y,refetch:b}=S({resource:"quotes",id:h.id,liveMode:"off",meta:{gqlQuery:E}}),{title:a,tax:f,total:u,subTotal:g,items:s,description:C,company:e,contact:d,salesOwner:n}=(m==null?void 0:m.data)||{},w=j||y,T=async()=>{await b(),x()};return t.jsxs(t.Fragment,{children:[t.jsx(F,{loading:w,onClick:T,type:"primary",icon:t.jsx(B,{}),children:"Convert to PDF"}),t.jsx(q,{...c,destroyOnClose:!0,width:"80%",footer:null,children:t.jsx(v,{style:i.viewer,children:t.jsx(D,{title:`Quote of ${a}`,children:t.jsxs(W,{style:i.page,size:"A4",children:[t.jsx(r,{style:{fontSize:24},children:a}),t.jsxs(o,{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",gap:"16px",marginTop:32},children:[t.jsxs(o,{style:{display:"flex",flexDirection:"row",gap:"16px"},children:[t.jsx(Q,{style:{width:"64px",height:"64px"},src:"https://avatars.githubusercontent.com/u/104967037?s=200&v=4"}),t.jsxs(o,{style:{display:"flex",gap:"4px"},children:[t.jsx(r,{children:e==null?void 0:e.name}),t.jsx(r,{children:e==null?void 0:e.country}),t.jsx(r,{children:e==null?void 0:e.website})]})]}),t.jsxs(o,{style:{display:"flex",minWidth:"160",gap:"16px"},children:[t.jsxs(o,{children:[t.jsx(r,{children:"Prepared by:"}),t.jsx(r,{children:d==null?void 0:d.name})]}),t.jsxs(o,{children:[t.jsx(r,{children:"Prepared for:"}),t.jsx(r,{children:n==null?void 0:n.name})]})]})]}),t.jsx(o,{style:i.divider}),t.jsx(r,{style:{fontSize:20},children:"Products / Services"}),t.jsxs(o,{style:i.table,children:[t.jsxs(o,{style:i.tableRow,children:[t.jsx(o,{style:i.tableCol,children:t.jsx(r,{style:i.tableCell,children:"Title"})}),t.jsx(o,{style:i.tableCol,children:t.jsx(r,{style:i.tableCell,children:"Unit Price"})}),t.jsx(o,{style:i.tableCol,children:t.jsx(r,{style:i.tableCell,children:"Quantity"})}),t.jsx(o,{style:i.tableCol,children:t.jsx(r,{style:i.tableCell,children:"Discout"})}),t.jsx(o,{style:i.tableCol,children:t.jsx(r,{style:i.tableCell,children:"Total Price"})})]}),s==null?void 0:s.map(p=>t.jsxs(o,{style:i.tableRow,children:[t.jsx(o,{style:i.tableCol,children:t.jsx(r,{style:i.tableCell,children:p.title})}),t.jsx(o,{style:i.tableCol,children:t.jsx(r,{style:i.tableCell,children:l(p.unitPrice)})}),t.jsx(o,{style:i.tableCol,children:t.jsx(r,{style:i.tableCell,children:p.quantity})}),t.jsx(o,{style:i.tableCol,children:t.jsxs(r,{style:i.tableCell,children:["%",p.discount]})}),t.jsx(o,{style:i.tableCol,children:t.jsx(r,{style:i.tableCell,children:l(p.totalPrice)})})]},p.title))]}),t.jsxs(o,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginTop:12},children:[t.jsxs(o,{style:{width:"80px",display:"flex",gap:8},children:[t.jsx(r,{children:"Subtotal"}),t.jsx(r,{children:"Sales tax"}),t.jsx(r,{children:"Total value"})]}),t.jsxs(o,{style:{display:"flex",gap:8},children:[t.jsx(r,{children:l(g||0)}),t.jsxs(r,{children:["%",f||0]}),t.jsx(r,{children:l(u||0)})]})]}),t.jsx(o,{style:i.divider}),t.jsx(r,{style:{fontSize:12},children:C})]})})})})]})},i=z.create({viewer:{paddingTop:32,width:"100%",height:"80vh",border:"none"},page:{display:"flex",padding:"0.4in 0.4in",fontSize:12,color:"#333",backgroundColor:"#fff"},table:{display:"flex",width:"auto",borderStyle:"solid",borderWidth:1,borderRightWidth:0,borderBottomWidth:0,marginTop:24},tableRow:{margin:"auto",flexDirection:"row"},tableCol:{width:"20%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCell:{margin:"auto",paddingTop:4,paddingBottom:4,fontSize:10},divider:{width:"100%",height:1,marginTop:32,marginBottom:32,backgroundColor:"#D9D9D9"}});export{ro as default};
