import{d as on}from"./direction-ad776bdc.js";import{t as rn}from"./hast-util-to-string-00227f59.js";import{v as an,E as un,S as sn}from"./unist-util-visit-f72c27b5.js";import{z as j}from"./zwitch-18fef54d.js";import{h as d}from"./hast-util-has-property-acd5f273.js";import{e as cn}from"./bcp-47-match-575b2c5d.js";import{w as pn}from"./hast-util-whitespace-aa13952a.js";import{n as U}from"./nth-check-75195840.js";import{C as dn}from"./css-selector-parser-ca05af30.js";class w{constructor(e,l,t){this.property=e,this.normal=l,t&&(this.space=t)}}w.prototype.property={};w.prototype.normal={};w.prototype.space=null;function V(n,e){const l={},t={};let o=-1;for(;++o<n.length;)Object.assign(l,n[o].property),Object.assign(t,n[o].normal);return new w(l,t,e)}function _(n){return n.toLowerCase()}class h{constructor(e,l){this.property=e,this.attribute=l}}h.prototype.space=null;h.prototype.boolean=!1;h.prototype.booleanish=!1;h.prototype.overloadedBoolean=!1;h.prototype.number=!1;h.prototype.commaSeparated=!1;h.prototype.spaceSeparated=!1;h.prototype.commaOrSpaceSeparated=!1;h.prototype.mustUseProperty=!1;h.prototype.defined=!1;let gn=0;const i=k(),p=k(),W=k(),r=k(),s=k(),x=k(),f=k();function k(){return 2**++gn}const R=Object.freeze(Object.defineProperty({__proto__:null,boolean:i,booleanish:p,commaOrSpaceSeparated:f,commaSeparated:x,number:r,overloadedBoolean:W,spaceSeparated:s},Symbol.toStringTag,{value:"Module"})),M=Object.keys(R);class T extends h{constructor(e,l,t,o){let a=-1;if(super(e,l),B(this,"space",o),typeof t=="number")for(;++a<M.length;){const u=M[a];B(this,M[a],(t&R[u])===R[u])}}}T.prototype.defined=!0;function B(n,e,l){l&&(n[e]=l)}const fn={}.hasOwnProperty;function S(n){const e={},l={};let t;for(t in n.properties)if(fn.call(n.properties,t)){const o=n.properties[t],a=new T(t,n.transform(n.attributes||{},t),o,n.space);n.mustUseProperty&&n.mustUseProperty.includes(t)&&(a.mustUseProperty=!0),e[t]=a,l[_(t)]=t,l[_(a.attribute)]=t}return new w(e,l,n.space)}const K=S({space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),X=S({space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function $(n,e){return e in n?n[e]:e}function Y(n,e){return $(n,e.toLowerCase())}const Q=S({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Y,properties:{xmlns:null,xmlnsXLink:null}}),Z=S({transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:p,ariaAutoComplete:null,ariaBusy:p,ariaChecked:p,ariaColCount:r,ariaColIndex:r,ariaColSpan:r,ariaControls:s,ariaCurrent:null,ariaDescribedBy:s,ariaDetails:null,ariaDisabled:p,ariaDropEffect:s,ariaErrorMessage:null,ariaExpanded:p,ariaFlowTo:s,ariaGrabbed:p,ariaHasPopup:null,ariaHidden:p,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:s,ariaLevel:r,ariaLive:null,ariaModal:p,ariaMultiLine:p,ariaMultiSelectable:p,ariaOrientation:null,ariaOwns:s,ariaPlaceholder:null,ariaPosInSet:r,ariaPressed:p,ariaReadOnly:p,ariaRelevant:null,ariaRequired:p,ariaRoleDescription:s,ariaRowCount:r,ariaRowIndex:r,ariaRowSpan:r,ariaSelected:p,ariaSetSize:r,ariaSort:null,ariaValueMax:r,ariaValueMin:r,ariaValueNow:r,ariaValueText:null,role:null}}),hn=S({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Y,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:x,acceptCharset:s,accessKey:s,action:null,allow:null,allowFullScreen:i,allowPaymentRequest:i,allowUserMedia:i,alt:null,as:null,async:i,autoCapitalize:null,autoComplete:s,autoFocus:i,autoPlay:i,blocking:s,capture:null,charSet:null,checked:i,cite:null,className:s,cols:r,colSpan:null,content:null,contentEditable:p,controls:i,controlsList:s,coords:r|x,crossOrigin:null,data:null,dateTime:null,decoding:null,default:i,defer:i,dir:null,dirName:null,disabled:i,download:W,draggable:p,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:i,formTarget:null,headers:s,height:r,hidden:i,high:r,href:null,hrefLang:null,htmlFor:s,httpEquiv:s,id:null,imageSizes:null,imageSrcSet:null,inert:i,inputMode:null,integrity:null,is:null,isMap:i,itemId:null,itemProp:s,itemRef:s,itemScope:i,itemType:s,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:i,low:r,manifest:null,max:null,maxLength:r,media:null,method:null,min:null,minLength:r,multiple:i,muted:i,name:null,nonce:null,noModule:i,noValidate:i,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:i,optimum:r,pattern:null,ping:s,placeholder:null,playsInline:i,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:i,referrerPolicy:null,rel:s,required:i,reversed:i,rows:r,rowSpan:r,sandbox:s,scope:null,scoped:i,seamless:i,selected:i,shadowRootDelegatesFocus:i,shadowRootMode:null,shape:null,size:r,sizes:null,slot:null,span:r,spellCheck:p,src:null,srcDoc:null,srcLang:null,srcSet:null,start:r,step:null,style:null,tabIndex:r,target:null,title:null,translate:null,type:null,typeMustMatch:i,useMap:null,value:p,width:r,wrap:null,align:null,aLink:null,archive:s,axis:null,background:null,bgColor:null,border:r,borderColor:null,bottomMargin:r,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:i,declare:i,event:null,face:null,frame:null,frameBorder:null,hSpace:r,leftMargin:r,link:null,longDesc:null,lowSrc:null,marginHeight:r,marginWidth:r,noResize:i,noHref:i,noShade:i,noWrap:i,object:null,profile:null,prompt:null,rev:null,rightMargin:r,rules:null,scheme:null,scrolling:p,standby:null,summary:null,text:null,topMargin:r,valueType:null,version:null,vAlign:null,vLink:null,vSpace:r,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:i,disableRemotePlayback:i,prefix:null,property:null,results:r,security:null,unselectable:null}}),mn=S({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:$,properties:{about:f,accentHeight:r,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:r,amplitude:r,arabicForm:null,ascent:r,attributeName:null,attributeType:null,azimuth:r,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:r,by:null,calcMode:null,capHeight:r,className:s,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:r,diffuseConstant:r,direction:null,display:null,dur:null,divisor:r,dominantBaseline:null,download:i,dx:null,dy:null,edgeMode:null,editable:null,elevation:r,enableBackground:null,end:null,event:null,exponent:r,externalResourcesRequired:null,fill:null,fillOpacity:r,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:x,g2:x,glyphName:x,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:r,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:r,horizOriginX:r,horizOriginY:r,id:null,ideographic:r,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:r,k:r,k1:r,k2:r,k3:r,k4:r,kernelMatrix:f,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:r,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:r,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:r,overlineThickness:r,paintOrder:null,panose1:null,path:null,pathLength:r,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:s,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:r,pointsAtY:r,pointsAtZ:r,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:f,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:f,rev:f,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:f,requiredFeatures:f,requiredFonts:f,requiredFormats:f,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:r,specularExponent:r,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:r,strikethroughThickness:r,string:null,stroke:null,strokeDashArray:f,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:r,strokeOpacity:r,strokeWidth:null,style:null,surfaceScale:r,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:f,tabIndex:r,tableValues:null,target:null,targetX:r,targetY:r,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:f,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:r,underlineThickness:r,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:r,values:null,vAlphabetic:r,vMathematical:r,vectorEffect:null,vHanging:r,vIdeographic:r,version:null,vertAdvY:r,vertOriginX:r,vertOriginY:r,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:r,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),yn=/^data[-\w.:]+$/i,z=/-[a-z]/g,vn=/[A-Z]/g;function bn(n,e){const l=_(e);let t=e,o=h;if(l in n.normal)return n.property[n.normal[l]];if(l.length>4&&l.slice(0,4)==="data"&&yn.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(z,xn);t="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!z.test(a)){let u=a.replace(vn,kn);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}o=T}return new o(t,e)}function kn(n){return"-"+n.toLowerCase()}function xn(n){return n.charAt(1).toUpperCase()}const Sn=V([X,K,Q,Z,hn],"html"),J=V([X,K,Q,Z,mn],"svg");function Cn(n,e){const l=n.schema,t=n.language,o=n.direction,a=n.editableOrEditingHost;let u;if(e.type==="element"&&e.properties){const c=e.properties.xmlLang||e.properties.lang,v=e.properties.type||"text",b=H(e);c!=null&&(n.language=String(c)),l&&l.space==="html"?(e.properties.contentEditable==="true"&&(n.editableOrEditingHost=!0),e.tagName==="svg"&&(n.schema=J),b==="rtl"?u=b:b==="ltr"||b!=="auto"&&e.tagName==="html"||b!=="auto"&&e.tagName==="input"&&v==="tel"?u="ltr":(b==="auto"||e.tagName==="bdi")&&(e.tagName==="textarea"?u=D(rn(e)):e.tagName==="input"&&(v==="email"||v==="search"||v==="tel"||v==="text")?u=e.properties.value?D(e.properties.value):"ltr":an(e,m)),u&&(n.direction=u)):n.editableOrEditingHost&&(n.editableOrEditingHost=!1)}return g;function g(){n.schema=l,n.language=t,n.direction=o,n.editableOrEditingHost=a}function m(c){if(c.type==="text")return u=D(c.value),u?un:void 0;if(c!==e&&c.type==="element"&&(c.tagName==="bdi"||c.tagName==="script"||c.tagName==="style"||c.tagName==="textare"||H(c)))return sn}}function D(n){const e=on(n);return e==="neutral"?void 0:e}function H(n){const e=n.type==="element"&&n.properties&&typeof n.properties.dir=="string"?n.properties.dir.toLowerCase():void 0;return e==="auto"||e==="ltr"||e==="rtl"?e:void 0}function wn(n){const e=[],l=String(n||"");let t=l.indexOf(","),o=0,a=!1;for(;!a;){t===-1&&(t=l.length,a=!0);const u=l.slice(o,t).trim();(u||!a)&&e.push(u),o=t+1,t=l.indexOf(",",o)}return e}function On(n,e){const l=e||{};return(n[n.length-1]===""?[...n,""]:n).join((l.padRight?" ":"")+","+(l.padLeft===!1?"":" ")).trim()}function Pn(n){return n.join(" ").trim()}const Ln=j("operator",{unknown:An,invalid:Dn,handlers:{"=":En,"~=":_n,"|=":Rn,"^=":Nn,"$=":Tn,"*=":In}});function Mn(n,e,l){const t=n.attrs;let o=-1;for(;++o<t.length;)if(!Ln(t[o],e,bn(l,t[o].name)))return!1;return!0}function Dn(n,e,l){return d(e,l.property)}function En(n,e,l){return!!(d(e,l.property)&&e.properties&&C(e.properties[l.property],l)===n.value)}function _n(n,e,l){const t=e.properties&&e.properties[l.property];return!l.commaSeparated&&t&&typeof t=="object"&&n.value&&t.includes(n.value)||d(e,l.property)&&C(t,l)===n.value}function Rn(n,e,l){const t=C(e.properties&&e.properties[l.property],l);return!!(d(e,l.property)&&n.value&&(t===n.value||t.slice(0,n.value.length)===n.value&&t.charAt(n.value.length)==="-"))}function Nn(n,e,l){return!!(d(e,l.property)&&e.properties&&n.value&&C(e.properties[l.property],l).slice(0,n.value.length)===n.value)}function Tn(n,e,l){return!!(d(e,l.property)&&e.properties&&n.value&&C(e.properties[l.property],l).slice(-n.value.length)===n.value)}function In(n,e,l){return!!(d(e,l.property)&&e.properties&&n.value&&C(e.properties[l.property],l).includes(n.value))}function An(n){throw new Error("Unknown operator `"+n.operator+"`")}function C(n,e){return typeof n=="boolean"?e.attribute:Array.isArray(n)?(e.commaSeparated?On:Pn)(n):String(n)}function Un(n,e){const l=e.properties.className||[];let t=-1;if(n.classNames){for(;++t<n.classNames.length;)if(!l.includes(n.classNames[t]))return!1}return!0}function Bn(n,e){return!!(e.properties&&e.properties.id===n.id)}function zn(n,e){return n.tagName==="*"||n.tagName===e.tagName}const Hn=U.default||U,Fn=j("name",{unknown:de,invalid:pe,handlers:{any:N,"any-link":jn,blank:Vn,checked:Wn,dir:Kn,disabled:q,empty:Xn,enabled:$n,"first-child":Yn,"first-of-type":Qn,has:Zn,lang:Jn,"last-child":Gn,"last-of-type":qn,matches:N,not:ne,"nth-child":ee,"nth-last-child":le,"nth-of-type":oe,"nth-last-of-type":te,"only-child":re,"only-of-type":ae,optional:ie,"read-only":ue,"read-write":nn,required:en,root:se,scope:ce}});G.needsIndex=["any","first-child","first-of-type","last-child","last-of-type","matches","not","nth-child","nth-last-child","nth-of-type","nth-last-of-type","only-child","only-of-type"];function G(n,e,l,t,o){const a=n.pseudos;let u=-1;for(;++u<a.length;)if(!Fn(a[u],e,l,t,o))return!1;return!0}function jn(n,e){return(e.tagName==="a"||e.tagName==="area"||e.tagName==="link")&&d(e,"href")}function Vn(n,e){return!ln(e,l);function l(t){return t.type==="element"||t.type==="text"&&!pn(t)}}function Wn(n,e){return e.tagName==="input"||e.tagName==="menuitem"?!!(e.properties&&(e.properties.type==="checkbox"||e.properties.type==="radio")&&d(e,"checked")):e.tagName==="option"?d(e,"selected"):!1}function Kn(n,e,l,t,o){return o.direction===n.value}function q(n,e){return(e.tagName==="button"||e.tagName==="input"||e.tagName==="select"||e.tagName==="textarea"||e.tagName==="optgroup"||e.tagName==="option"||e.tagName==="menuitem"||e.tagName==="fieldset")&&d(e,"disabled")}function Xn(n,e){return!ln(e,l);function l(t){return t.type==="element"||t.type==="text"}}function $n(n,e){return!q(n,e)}function Yn(n,e,l,t,o){return y(o,n),o.elementIndex===0}function Qn(n,e,l,t,o){return y(o,n),o.typeIndex===0}function Zn(n,e,l,t,o){const a={...o,found:!1,shallow:!1,one:!0,scopeElements:[e],results:[],rootQuery:I(n.value)};return A(a,{type:"root",children:e.children}),a.results.length>0}function Jn(n,e,l,t,o){return o.language!==""&&o.language!==void 0&&cn(o.language,wn(n.value)).length>0}function Gn(n,e,l,t,o){return y(o,n),!!(o.elementCount&&o.elementIndex===o.elementCount-1)}function qn(n,e,l,t,o){return y(o,n),typeof o.typeIndex=="number"&&typeof o.typeCount=="number"&&o.typeIndex===o.typeCount-1}function N(n,e,l,t,o){const a={...o,found:!1,shallow:!1,one:!0,scopeElements:[e],results:[],rootQuery:I(n.value)};return A(a,e),a.results[0]===e}function ne(n,e,l,t,o){return!N(n,e,l,t,o)}function ee(n,e,l,t,o){const a=P(n);return y(o,n),typeof o.elementIndex=="number"&&a(o.elementIndex)}function le(n,e,l,t,o){const a=P(n);return y(o,n),!!(typeof o.elementCount=="number"&&typeof o.elementIndex=="number"&&a(o.elementCount-o.elementIndex-1))}function te(n,e,l,t,o){const a=P(n);return y(o,n),typeof o.typeCount=="number"&&typeof o.typeIndex=="number"&&a(o.typeCount-1-o.typeIndex)}function oe(n,e,l,t,o){const a=P(n);return y(o,n),typeof o.typeIndex=="number"&&a(o.typeIndex)}function re(n,e,l,t,o){return y(o,n),o.elementCount===1}function ae(n,e,l,t,o){return y(o,n),o.typeCount===1}function ie(n,e){return!en(n,e)}function ue(n,e,l,t,o){return!nn(n,e,l,t,o)}function nn(n,e,l,t,o){return e.tagName==="input"||e.tagName==="textarea"?!d(e,"readOnly")&&!d(e,"disabled"):!!o.editableOrEditingHost}function en(n,e){return(e.tagName==="input"||e.tagName==="textarea"||e.tagName==="select")&&d(e,"required")}function se(n,e,l,t,o){return!!((!t||t.type==="root")&&o.schema&&(o.schema.space==="html"||o.schema.space==="svg")&&(e.tagName==="html"||e.tagName==="svg"))}function ce(n,e,l,t,o){return o.scopeElements.includes(e)}function pe(){throw new Error("Invalid pseudo-selector")}function de(n){throw n.name?new Error("Unknown pseudo-selector `"+n.name+"`"):new Error("Unexpected pseudo-element or empty pseudo-class")}function ln(n,e){const l=n.children;let t=-1;for(;++t<l.length;)if(e(l[t]))return!0;return!1}function y(n,e){if(n.shallow)throw new Error("Cannot use `:"+e.name+"` without parent")}function P(n){let e=n._cachedFn;return e||(e=Hn(n.value),n._cachedFn=e),e}function ge(n,e,l,t,o){return!!((!n.tagName||zn(n,e))&&(!n.classNames||Un(n,e))&&(!n.id||Bn(n,e))&&(!n.attrs||Mn(n,e,o.schema))&&(!n.pseudos||G(n,e,l,t,o)))}const fe=[];function I(n){return n===null?{type:"selectors",selectors:[]}:n.type==="ruleSet"?{type:"selectors",selectors:[n]}:n}function A(n,e){e&&tn(n,[],e,void 0,void 0)}function tn(n,e,l,t,o){let a={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};const u=Cn(n,l);return l.type==="element"&&(a=me(n,O(e,n.rootQuery.selectors),l,t,o)),"children"in l&&!n.shallow&&!(n.one&&n.found)&&he(n,a,l),u(),a}function he(n,e,l){const t=O(e.descendant,e.directChild);let o,a=-1;const u={count:0,types:new Map},g={count:0,types:new Map};for(;++a<l.children.length;)F(u,l.children[a]);for(a=-1;++a<l.children.length;){const m=l.children[a],c=m.type==="element"?m.tagName.toUpperCase():void 0;if(n.elementIndex=g.count,n.typeIndex=c&&g.types.get(c)||0,n.elementCount=u.count,n.typeCount=c?u.types.get(c):0,"children"in m){const v=O(t,o),b=tn(n,v,l.children[a],a,l);o=O(b.generalSibling,b.adjacentSibling)}if(n.one&&n.found)break;F(g,l.children[a])}}function me(n,e,l,t,o){const a={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};let u=-1;for(;++u<e.length;){const g=e[u];if(n.one&&n.found)break;if(n.shallow&&g.rule.rule)throw new Error("Expected selector without nesting");if(ge(g.rule,l,t,o,n)){const m=g.rule.rule;if(m){const c={type:"ruleSet",rule:m},v=m.nestingOperator==="+"?"adjacentSibling":m.nestingOperator==="~"?"generalSibling":m.nestingOperator===">"?"directChild":"descendant";E(a,v,c)}else n.found=!0,n.results.includes(l)||n.results.push(l)}g.rule.nestingOperator===null?E(a,"descendant",g):g.rule.nestingOperator==="~"&&E(a,"generalSibling",g)}return a}function O(n,e){return n&&e&&n.length>0&&e.length>0?[...n,...e]:n&&n.length>0?n:e&&e.length>0?e:fe}function E(n,e,l){const t=n[e];t?t.push(l):n[e]=[l]}function F(n,e){if(e.type==="element"){const l=e.tagName.toUpperCase(),t=(n.types.get(l)||0)+1;n.count++,n.types.set(l,t)}}const L=new dn;L.registerAttrEqualityMods("~","|","^","$","*");L.registerSelectorPseudos("any","matches","not","has");L.registerNestingOperators(">","+","~");function ye(n){if(typeof n!="string")throw new TypeError("Expected `string` as selector, not `"+n+"`");return L.parse(n)}function Me(n,e,l){const t=ve(n,e,l);return A(t,e||void 0),t.results}function ve(n,e,l){return{rootQuery:I(ye(n)),results:[],scopeElements:e?e.type==="root"?e.children:[e]:[],one:!1,shallow:!1,found:!1,schema:l==="svg"?J:Sn,language:void 0,direction:"ltr",editableOrEditingHost:!1,typeIndex:void 0,elementIndex:void 0,typeCount:void 0,elementCount:void 0}}export{Me as s};
