import{a as r,r as T}from"./react-f83171f6.js";import{F as se,G as vt,P as Ia,W as Ar,a as le,b as Wn,M as Me,D as Rr,L as me,C as Kn,S as Le,T as ce,A as Ur,t as Ze,c as jn,r as Qn,d as zr,e as gt,f as Hn,i as Vn,g as Aa,N as Gn,R as Dt,h as qt,I as it,j as Ba,k as Ra,B as _n}from"./antd-8dc53e1b.js";import{u as Ua,a as Zn}from"./sunflower-antd-b7c52e64.js";import{d as Ut,y as Yn}from"./dayjs-ccdc21e7.js";import{v as Xn}from"./react-markdown-ecaefd3d.js";import{L as Jn}from"./remark-gfm-e694efbd.js";import{u as eo,U as Lt,L as Wr,D as Kr,B as nr,R as za,a as Wa,P as Ka,E as to,b as ro,$ as ao,c as no,d as oo,O as io,n as lo,e as so,C as uo,w as co,I as mo,i as po,l as vo,T as go,f as fo,h as yo,g as ho,j as Eo,k as bo,S as Co,m as wo}from"./@ant-design-b3fb01a5.js";import{u as ft,a as We,b as we,c as Po,Q as pa,d as xo}from"./@tanstack-87345ecd.js";import"./react-dom-e9b5ed0c.js";import{L as va}from"./lodash-ded28814.js";import"./error-stack-parser-8a325f08.js";import{X as Et,l as Sr}from"./qs-533703aa.js";import{f as So,z as ko,u as ja,d as kt,a as mt,b as Qa,c as Fo,g as ga,e as Lo}from"./lodash-es-7c8d70fb.js";import{n as bt}from"./warn-once-02798694.js";import{k as ar,p as ge}from"./pluralize-aac65ede.js";import{p as Ha}from"./papaparse-42281dbe.js";import{L as To}from"./react-router-dom-3db48442.js";import{u as Wt,a as fa,b as No,N as Va,c as $o}from"./react-router-286b5268.js";import{m as Do}from"./@remix-run-8247d2bc.js";import{a as jr}from"./@algolia-6bb98d1b.js";import{p as qo,a as Mo,v as Ga}from"./graphql-3565279e.js";import{f as kr,C as Oo,b as ya}from"./cross-fetch-e3cbbbc3.js";import{p as ie}from"./camelcase-a877ba3b.js";import{q as Bt,m as Yt,s as Qr}from"./gql-query-builder-55751dde.js";import{g as Rt}from"./graphql-tag-b0ed4b27.js";function re(e,t){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}var Io=Object.defineProperty,p=(e,t)=>Io(e,"name",{value:t,configurable:!0}),Fr=p(e=>e/1e3,"userFriendlySecond"),Ao=p((e,t=a=>a)=>{let[a,...n]=e;return n.map(o=>So(ko(a,o))).map((o,i,l)=>t.call(void 0,o,i,l))},"importCSVMapper"),Bo=p((e="",t)=>{let a=un(e);return t==="singular"?ar.singular(a):ar.plural(a)},"userFriendlyResourceName");p((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams");var K=p((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");function Je(e,t){return e.findIndex((a,n)=>n<=e.length-t.length&&t.every((o,i)=>e[n+i]===o))}p(Je,"arrayFindIndex");function _a(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let a={...t[2]};return delete a.method,delete a.url,[t[0],t[1],t[2].method,t[2].url,a]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(Je(e,["auth","login"])!==-1)return["useLogin"];if(Je(e,["auth","logout"])!==-1)return["useLogout"];if(Je(e,["auth","identity"])!==-1)return["getUserIdentity"];if(Je(e,["auth","register"])!==-1)return["useRegister"];if(Je(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(Je(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(Je(e,["auth","onError"])!==-1)return["useCheckError"];if(Je(e,["auth","permissions"])!==-1)return["usePermissions"];if(Je(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}p(_a,"convertToLegacy");var Be=class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return _a(this.segments)}get(e){return e?this.legacy():this.segments}};p(Be,"BaseKeyBuilder");var ut=class extends Be{params(e){return new Be([...this.segments,e])}};p(ut,"ParamsKeyBuilder");var Za=class extends Be{id(e){return new ut([...this.segments,e?String(e):void 0])}};p(Za,"DataIdRequiringKeyBuilder");var Ya=class extends Be{ids(...e){return new ut([...this.segments,...e.length?[e.map(t=>String(t))]:[]])}};p(Ya,"DataIdsRequiringKeyBuilder");var Xa=class extends Be{action(e){if(e==="one")return new Za([...this.segments,e]);if(e==="many")return new Ya([...this.segments,e]);if(["list","infinite"].includes(e))return new ut([...this.segments,e]);throw new Error("Invalid action type")}};p(Xa,"DataResourceKeyBuilder");var Ja=class extends Be{resource(e){return new Xa([...this.segments,e])}mutation(e){return new ut([...e==="custom"?this.segments:[this.segments[0]],e])}};p(Ja,"DataKeyBuilder");var en=class extends Be{action(e){return new ut([...this.segments,e])}};p(en,"AuthKeyBuilder");var tn=class extends Be{action(e){return new ut([...this.segments,e])}};p(tn,"AccessResourceKeyBuilder");var rn=class extends Be{resource(e){return new tn([...this.segments,e])}};p(rn,"AccessKeyBuilder");var an=class extends Be{action(e){return new ut([...this.segments,e])}};p(an,"AuditActionKeyBuilder");var nn=class extends Be{resource(e){return new an([...this.segments,e])}action(e){return new ut([...this.segments,e])}};p(nn,"AuditKeyBuilder");var on=class extends Be{data(e){return new Ja(["data",e||"default"])}auth(){return new en(["auth"])}access(){return new rn(["access"])}audit(){return new nn(["audit"])}};p(on,"KeyBuilder");var ht=p(()=>new on([]),"keys"),Ro=p((e,t,a,n)=>{let o=t||"default",i={all:[o],resourceAll:[o,e||""],list:l=>[...i.resourceAll,"list",{...l,...K(a,n)||{}}],many:l=>[...i.resourceAll,"getMany",l==null?void 0:l.map(String),{...K(a,n)||{}}].filter(s=>s!==void 0),detail:l=>[...i.resourceAll,"detail",l==null?void 0:l.toString(),{...K(a,n)||{}}],logList:l=>["logList",e,l,n].filter(s=>s!==void 0)};return i},"queryKeys"),or=p(e=>(t,a,n,o)=>{let i=a||"default";return{all:ht().data(i).get(e),resourceAll:ht().data(a).resource(t??"").get(e),list:l=>ht().data(a).resource(t??"").action("list").params({...l,...K(n,o)||{}}).get(e),many:l=>ht().data(a).resource(t??"").action("many").ids(...l??[]).params({...K(n,o)||{}}).get(e),detail:l=>ht().data(a).resource(t??"").action("one").id(l??"").params({...K(n,o)||{}}).get(e),logList:l=>[...ht().audit().resource(t).action("list").params(l).get(e),o].filter(s=>s!==void 0)}},"queryKeysReplacement"),Uo=p((e,t)=>!e||!t?!1:!!e.find(a=>a===t),"hasPermission"),Hr=p(e=>e.startsWith(":"),"isParameter"),Tt=p(e=>e.split("/").filter(t=>t!==""),"splitToSegments"),zo=p((e,t)=>{let a=Tt(e),n=Tt(t);return a.length===n.length},"isSegmentCountsSame"),lt=p(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),Wo=p((e,t)=>{let a=lt(e),n=lt(t);if(!zo(a,n))return!1;let o=Tt(a);return Tt(n).every((i,l)=>Hr(i)||i===o[l])},"checkBySegments"),Ko=p((e,t,a)=>{let n=lt(a||""),o=`${n}${n?"/":""}${e}`;return t==="list"?o=`${o}`:t==="create"?o=`${o}/create`:t==="edit"?o=`${o}/edit/:id`:t==="show"?o=`${o}/show/:id`:t==="clone"&&(o=`${o}/clone/:id`),`/${o.replace(/^\//,"")}`},"getDefaultActionPath"),pt=p((e,t)=>{var a,n;let o=K((a=e.meta)==null?void 0:a.parent,(n=e.options)==null?void 0:n.parent,e.parentName);return o?t.find(i=>(i.identifier??i.name)===o)??{name:o}:void 0},"getParentResource"),ln=p((e,t,a)=>{let n=[],o=pt(e,t);for(;o;)n.push(o),o=pt(o,t);if(n.length!==0)return`/${n.reverse().map(i=>{var l;let s=a?((l=i.options)==null?void 0:l.route)??i.name:i.name;return lt(s)}).join("/")}`},"getParentPrefixForResource"),Ae=p((e,t,a)=>{let n=[],o=["list","show","edit","create","clone"],i=ln(e,t,a);return o.forEach(l=>{var s,u;let c=a&&l==="clone"?e.create:e[l],d;typeof c=="function"||a?d=Ko(a?((s=e.meta)==null?void 0:s.route)??((u=e.options)==null?void 0:u.route)??e.name:e.name,l,a?i:void 0):typeof c=="string"?d=c:typeof c=="object"&&(d=c.path),d&&n.push({action:l,resource:e,route:`/${d.replace(/^\//,"")}`})}),n},"getActionRoutesFromResource"),jo=p(e=>{var t;if(e.length===0)return;if(e.length===1)return e[0];let a=e.map(i=>({...i,splitted:Tt(lt(i.route))})),n=((t=a[0])==null?void 0:t.splitted.length)??0,o=[...a];for(let i=0;i<n;i++){let l=o.filter(s=>!Hr(s.splitted[i]));if(l.length!==0){if(l.length===1){o=l;break}o=l}}return o[0]},"pickMatchedRoute"),sn=p((e,t)=>{let a=t.flatMap(o=>Ae(o,t)).filter(o=>Wo(e,o.route)),n=jo(a);return{found:!!n,resource:n==null?void 0:n.resource,action:n==null?void 0:n.action,matchedRoute:n==null?void 0:n.route}},"matchResourceFromRoute"),Qo=p((e,t)=>{var a;let n,o=ln(e,t,!0);if(o){let i=K(e.meta,e.options);n=`${o}/${(i==null?void 0:i.route)??e.name}`}else n=((a=e.options)==null?void 0:a.route)??e.name;return`/${n.replace(/^\//,"")}`},"routeGenerator");p(e=>{var t;let a=[],n={},o={},i,l;for(let s=0;s<e.length;s++){i=e[s];let u=i.route??((t=K(i==null?void 0:i.meta,i.options))==null?void 0:t.route)??"";n[u]=i,n[u].children=[],o[i.name]=i,o[i.name].children=[]}for(let s in n)Object.hasOwn(n,s)&&(l=n[s],l.parentName&&o[l.parentName]?o[l.parentName].children.push(l):a.push(l));return a},"createTreeView");var un=p(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString"),cn=p(({children:e})=>r.createElement("div",null,e),"DefaultLayout"),Oe={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:un,plural:ar.plural,singular:ar.singular},disableServerSideValidation:!1},yt=r.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:cn,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Oe}),Ho=p(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:a,syncWithLocation:n,undoableTimeout:o,children:i,DashboardPage:l,Title:s,Layout:u=cn,Header:c,Sider:d,Footer:v,OffLayoutArea:g,LoginPage:m=zi,catchAll:y,liveMode:E="off",onLiveEvent:f,options:C})=>r.createElement(yt.Provider,{value:{__initialized:!0,hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:a,syncWithLocation:n,Title:s,undoableTimeout:o,Layout:u,Header:c,Sider:d,Footer:v,OffLayoutArea:g,DashboardPage:l,LoginPage:m,catchAll:y,liveMode:E,onLiveEvent:f,options:C}},i),"RefineContextProvider"),Vo=p(({options:e,disableTelemetry:t,liveMode:a,mutationMode:n,reactQueryClientConfig:o,reactQueryDevtoolConfig:i,syncWithLocation:l,undoableTimeout:s,warnWhenUnsavedChanges:u}={})=>{var c,d,v,g,m,y,E,f;let C={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??n??Oe.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??s??Oe.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??l??Oe.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??u??Oe.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??a??Oe.liveMode,redirect:{afterCreate:((c=e==null?void 0:e.redirect)==null?void 0:c.afterCreate)??Oe.redirect.afterCreate,afterClone:((d=e==null?void 0:e.redirect)==null?void 0:d.afterClone)??Oe.redirect.afterClone,afterEdit:((v=e==null?void 0:e.redirect)==null?void 0:v.afterEdit)??Oe.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Oe.overtime,textTransformers:{humanize:((g=e==null?void 0:e.textTransformers)==null?void 0:g.humanize)??Oe.textTransformers.humanize,plural:((m=e==null?void 0:e.textTransformers)==null?void 0:m.plural)??Oe.textTransformers.plural,singular:((y=e==null?void 0:e.textTransformers)==null?void 0:y.singular)??Oe.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Oe.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},h=(e==null?void 0:e.disableTelemetry)??t??!1,P={clientConfig:((E=e==null?void 0:e.reactQuery)==null?void 0:E.clientConfig)??o??{},devtoolConfig:((f=e==null?void 0:e.reactQuery)==null?void 0:f.devtoolConfig)??i??{}};return{optionsWithDefaults:C,disableTelemetryWithDefault:h,reactQueryWithDefaults:P}},"handleRefineOptions"),Go=p(({redirectFromProps:e,action:t,redirectOptions:a})=>{if(e||e===!1)return e;switch(t){case"clone":return a.afterClone;case"create":return a.afterCreate;case"edit":return a.afterEdit;default:return!1}},"redirectPage"),ha=p(async(e,t,a)=>{let n=[];for(let[o,i]of e.entries())try{let l=await i();n.push(t(l,o))}catch(l){n.push(a(l,o))}return n},"sequentialPromises"),$e=p((e,t=[],a=!1)=>{if(!e)return;if(a)return t.find(i=>lt(i.route??"")===lt(e))||t.find(i=>i.name===e);let n=t.find(o=>o.identifier===e);return n||(n=t.find(o=>o.name===e)),n},"pickResource"),te=p((e,t,a)=>{if(t)return t;let n=$e(e,a),o=K(n==null?void 0:n.meta,n==null?void 0:n.options);return o!=null&&o.dataProviderName?o.dataProviderName:"default"},"pickDataProvider"),ir=p(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple"),_o=p(e=>{let{pagination:t,cursor:a}=e;if(a!=null&&a.next)return a.next;let n=(t==null?void 0:t.current)||1,o=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/o);return n<i?Number(n)+1:void 0},"getNextPageParam"),Zo=p(e=>{let{pagination:t,cursor:a}=e;if(a!=null&&a.prev)return a.prev;let n=(t==null?void 0:t.current)||1;return n===1?void 0:n-1},"getPreviousPageParam"),Yo=p(e=>{let t=[];return e.forEach(a=>{var n,o;t.push({...a,label:((n=a.meta)==null?void 0:n.label)??((o=a.options)==null?void 0:o.label),route:Qo(a,e),canCreate:!!a.create,canEdit:!!a.edit,canShow:!!a.show,canDelete:a.canDelete})}),t},"legacyResourceTransform"),Xo=p(e=>Tt(lt(e)).flatMap(t=>Hr(t)?[t.slice(1)]:[]),"pickRouteParams"),Jo=p((e,t={})=>e.reduce((a,n)=>{let o=t[n];return typeof o<"u"&&(a[n]=o),a},{}),"prepareRouteParams"),ze=p((e,t={},a={},n={})=>{let o=Xo(e),i=Jo(o,{...t,...typeof(a==null?void 0:a.id)<"u"?{id:a.id}:{},...typeof(a==null?void 0:a.action)<"u"?{action:a.action}:{},...typeof(a==null?void 0:a.resource)<"u"?{resource:a.resource}:{},...a==null?void 0:a.params,...n});return e.replace(/:([^\/]+)/g,(l,s)=>{let u=i[s];return typeof u<"u"?`${u}`:l})},"composeRoute"),dn=r.createContext({}),ei=p(({children:e,isProvided:t,...a})=>{let{replace:n}=Pe(),o=p(async u=>{var c;try{return await((c=a.login)==null?void 0:c.call(a,u))}catch(d){return Promise.reject(d)}},"loginFunc"),i=p(async u=>{var c;try{return await((c=a.register)==null?void 0:c.call(a,u))}catch(d){return Promise.reject(d)}},"registerFunc"),l=p(async u=>{var c;try{return await((c=a.logout)==null?void 0:c.call(a,u))}catch(d){return Promise.reject(d)}},"logoutFunc"),s=p(async u=>{var c;try{return await((c=a.checkAuth)==null?void 0:c.call(a,u)),Promise.resolve()}catch(d){return d!=null&&d.redirectPath&&n(d.redirectPath),Promise.reject(d)}},"checkAuthFunc");return r.createElement(dn.Provider,{value:{...a,login:o,logout:l,checkAuth:s,register:i,isProvided:t}},e)},"LegacyAuthContextProvider"),mn=r.createContext({}),ti=p(({children:e,isProvided:t,...a})=>{let n=p(async c=>{var d;try{return await((d=a.login)==null?void 0:d.call(a,c))}catch(v){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleLogin"),o=p(async c=>{var d;try{return await((d=a.register)==null?void 0:d.call(a,c))}catch(v){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleRegister"),i=p(async c=>{var d;try{return await((d=a.logout)==null?void 0:d.call(a,c))}catch(v){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleLogout"),l=p(async c=>{var d;try{let v=await((d=a.check)==null?void 0:d.call(a,c));return Promise.resolve(v)}catch(v){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleCheck"),s=p(async c=>{var d;try{let v=await((d=a.forgotPassword)==null?void 0:d.call(a,c));return Promise.resolve(v)}catch(v){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleForgotPassword"),u=p(async c=>{var d;try{let v=await((d=a.updatePassword)==null?void 0:d.call(a,c));return Promise.resolve(v)}catch(v){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",v),Promise.reject(v)}},"handleUpdatePassword");return r.createElement(mn.Provider,{value:{...a,login:n,logout:i,check:l,register:o,forgotPassword:s,updatePassword:u,isProvided:t}},e)},"AuthBindingsContextProvider"),Ke=p(()=>r.useContext(dn),"useLegacyAuthContext"),Ye=p(()=>r.useContext(mn),"useAuthBindingsContext"),de=p(()=>{let e=Ke(),t=Ye();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider"),pn=p(({hasPagination:e,pagination:t,configPagination:a}={})=>{let n=e===!1?"off":"server",o=(t==null?void 0:t.mode)??n,i=K(t==null?void 0:t.current,a==null?void 0:a.current)??1,l=K(t==null?void 0:t.pageSize,a==null?void 0:a.pageSize)??10;return{current:i,pageSize:l,mode:o}},"handlePaginationParams"),Ea=p(e=>{let[t,a]=T.useState(!1);return T.useEffect(()=>{let n=window.matchMedia(e);n.matches!==t&&a(n.matches);let o=p(()=>a(n.matches),"listener");return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[t,e]),t},"useMediaQuery"),Lr=p((e,t,a,n)=>{let o=n?e(t,n,a):e(t,a);return o===t||typeof o>"u"?a??t:o},"safeTranslate");function vn(e,t,a,n,o){var i;let l={create:"Create new ",clone:`#${n??""} Clone `,edit:`#${n??""} Edit `,show:`#${n??""} Show `,list:""},s=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),u=(t==null?void 0:t.label)??((i=t==null?void 0:t.meta)==null?void 0:i.label)??Bo(s,a==="list"?"plural":"singular"),c=o??u,d=Lr(e,"documentTitle.default","refine"),v=Lr(e,"documentTitle.suffix"," | refine"),g=d;return a&&s&&(g=Lr(e,`documentTitle.${s}.${a}`,`${l[a]??""}${c}${v}`,{id:n})),g}p(vn,"generateDefaultDocumentTitle");var Ct=p(()=>{let{mutationMode:e,undoableTimeout:t}=T.useContext(yt);return{mutationMode:e,undoableTimeout:t}},"useMutationMode"),gn=r.createContext({}),ri=p(({children:e})=>{let[t,a]=T.useState(!1);return r.createElement(gn.Provider,{value:{warnWhen:t,setWarnWhen:a}},e)},"UnsavedWarnContextProvider"),et=p(()=>{let{warnWhenUnsavedChanges:e}=T.useContext(yt),{warnWhen:t,setWarnWhen:a}=T.useContext(gn);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:a??(()=>{})}},"useWarnAboutChange"),ai=p(()=>{let{syncWithLocation:e}=T.useContext(yt);return{syncWithLocation:e}},"useSyncWithLocation"),Vr=p(()=>{let{Title:e}=T.useContext(yt);return e},"useTitle"),he=p(()=>{let{Footer:e,Header:t,Layout:a,OffLayoutArea:n,Sider:o,Title:i,hasDashboard:l,mutationMode:s,syncWithLocation:u,undoableTimeout:c,warnWhenUnsavedChanges:d,DashboardPage:v,LoginPage:g,catchAll:m,options:y,__initialized:E}=T.useContext(yt);return{__initialized:E,Footer:e,Header:t,Layout:a,OffLayoutArea:n,Sider:o,Title:i,hasDashboard:l,mutationMode:s,syncWithLocation:u,undoableTimeout:c,warnWhenUnsavedChanges:d,DashboardPage:v,LoginPage:g,catchAll:m,options:y}},"useRefineContext"),ct=p(()=>{let{options:{textTransformers:e}}=he();return p((t="",a)=>{let n=e.humanize(t);return a==="singular"?e.singular(n):e.plural(n)},"getFriendlyName")},"useUserFriendlyName"),ba=p(e=>typeof e=="object"&&e!==null,"isNested"),ni=p(e=>Array.isArray(e),"isArray"),Br=p((e,t="")=>ba(e)?Object.keys(e).reduce((a,n)=>{let o=t.length?`${t}.`:"";return ba(e[n])&&Object.keys(e[n]).length&&(ni(e[n])&&e[n].length?e[n].forEach((i,l)=>{Object.assign(a,Br(i,`${o+n}.${l}`))}):Object.assign(a,Br(e[n],o+n))),a[o+n]=e[n],a},{}):{[t]:e},"flattenObjectKeys"),Ca=p(e=>e.split(".").map(t=>Number.isNaN(Number(t))?t:Number(t)),"propertyPathToArray"),oi=p((e,t,a)=>{if(typeof window>"u")return;let n=new Blob([t],{type:a}),o=document.createElement("a");o.setAttribute("visibility","hidden"),o.download=e;let i=URL.createObjectURL(n);o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),setTimeout(()=>{URL.revokeObjectURL(i)})},"downloadInBrowser"),fn=p(e=>{let{current:t,pageSize:a,sorter:n,sorters:o,filters:i}=Et.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:a&&Number(a),parsedSorter:K(o,n)??[],parsedFilters:i??[]}},"parseTableParams");p(e=>{let t=Et.stringify(e);return fn(`/${t}`)},"parseTableParamsFromQuery");var wa=p(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:a,sorter:n,sorters:o,filters:i,...l}=e;return Et.stringify({...l,...a||{},sorters:K(o,n),filters:i},t)},"stringifyTableParams"),yn=p((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)===("field"in t?t.field:void 0)&&e.operator===t.operator:("key"in e?e.key:void 0)===("key"in t?t.key:void 0)&&e.operator===t.operator,"compareFilters"),hn=p((e,t)=>e.field===t.field,"compareSorters"),Xt=p((e,t,a=[])=>(t.filter(n=>(n.operator==="or"||n.operator==="and")&&!n.key).length>1&&bt(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),ja(e,t,a,yn).filter(n=>n.value!==void 0&&n.value!==null&&(n.operator!=="or"||n.operator==="or"&&n.value.length!==0)&&(n.operator!=="and"||n.operator==="and"&&n.value.length!==0))),"unionFilters"),Pa=p((e,t)=>ja(e,t,hn).filter(a=>a.order!==void 0&&a.order!==null),"unionSorters"),xa=p((e,t)=>[...kt(t,e,yn),...e],"setInitialFilters"),Sa=p((e,t)=>[...kt(t,e,hn),...e],"setInitialSorters"),ii=p((e,t)=>{if(!t)return;let a=t.find(n=>n.field===e);if(a)return a.order},"getDefaultSortOrder"),li=p((e,t,a="eq")=>{let n=t==null?void 0:t.find(o=>{if(o.operator!=="or"&&o.operator!=="and"&&"field"in o){let{operator:i,field:l}=o;return l===e&&i===a}});if(n)return n.value||[]},"getDefaultFilter");p(e=>new Promise((t,a)=>{let n=new FileReader,o=p(()=>{n.result&&(n.removeEventListener("load",o,!1),t(n.result))},"resultHandler");n.addEventListener("load",o,!1),n.readAsDataURL(e.originFileObj),n.onerror=i=>(n.removeEventListener("load",o,!1),a(i))}),"file2Base64");var pe=p(()=>{let{options:{useNewQueryKeys:e}}=he();return{keys:ht,preferLegacyKeys:!e}},"useKeys");function si({v3LegacyAuthProviderCompatible:e=!1,options:t,params:a}={}){let{getPermissions:n}=Ke(),{getPermissions:o}=Ye(),{keys:i,preferLegacyKeys:l}=pe(),s=We({queryKey:i().auth().action("permissions").get(l),queryFn:o?()=>o(a):()=>Promise.resolve(void 0),enabled:!e&&!!o,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...re()}}),u=We({queryKey:[...i().auth().action("permissions").get(l),"v3LegacyAuthProviderCompatible"],queryFn:n?()=>n(a):()=>Promise.resolve(void 0),enabled:e&&!!n,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...re()}});return e?u:s}p(si,"usePermissions");function Kt({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:a}=Ke(),{getIdentity:n}=Ye(),{keys:o,preferLegacyKeys:i}=pe(),l=We({queryKey:o().auth().action("identity").get(i),queryFn:n??(()=>Promise.resolve({})),enabled:!e&&!!n,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...re()}}),s=We({queryKey:[...o().auth().action("identity").get(i),"v3LegacyAuthProviderCompatible"],queryFn:a??(()=>Promise.resolve({})),enabled:e&&!!a,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...re()}});return e?s:l}p(Kt,"useGetIdentity");var Gr=p(()=>{let e=ft(),{keys:t,preferLegacyKeys:a}=pe();return p(async()=>{await Promise.all(["check","identity","permissions"].map(n=>e.invalidateQueries(t().auth().action(n).get(a))))},"invalidate")},"useInvalidateAuthStore");function Nt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let a=Gr(),n=ee(),o=qe(),{push:i}=Pe(),{open:l,close:s}=wt(),{logout:u}=Ke(),{logout:c}=Ye(),{keys:d,preferLegacyKeys:v}=pe(),g=we({mutationKey:d().auth().action("logout").get(v),mutationFn:c,onSuccess:async(y,E)=>{let{success:f,error:C,redirectTo:h,successNotification:P}=y,{redirectPath:b}=E??{},F=b??h;f&&(s==null||s("useLogout-error"),P&&(l==null||l(ui(P)))),(C||!f)&&(l==null||l(Tr(C))),F!==!1&&(n==="legacy"?i(F??"/login"):F&&o({to:F})),await a()},onError:y=>{l==null||l(Tr(y))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...re()}}),m=we({mutationKey:[...d().auth().action("logout").get(v),"v3LegacyAuthProviderCompatible"],mutationFn:u,onSuccess:async(y,E)=>{let f=(E==null?void 0:E.redirectPath)??y;if(f!==!1){if(f){n==="legacy"?i(f):o({to:f});return}n==="legacy"?i("/login"):o({to:"/login"}),await a()}},onError:y=>{l==null||l(Tr(y))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...re()}});return e?m:g}p(Nt,"useLogout");var Tr=p(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),ui=p(e=>({message:e.message,description:e.description,key:"logout-success",type:"success"}),"buildSuccessNotification");function jt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let a=Gr(),n=ee(),o=qe(),{replace:i}=Pe(),l=Re(),{useLocation:s}=ue(),{search:u}=s(),{close:c,open:d}=wt(),{login:v}=Ke(),{login:g}=Ye(),{keys:m,preferLegacyKeys:y}=pe(),E=r.useMemo(()=>{var h;return n==="legacy"?Et.parse(u,{ignoreQueryPrefix:!0}).to:(h=l.params)==null?void 0:h.to},[n,l.params,u]),f=we({mutationKey:m().auth().action("login").get(y),mutationFn:g,onSuccess:async({success:h,redirectTo:P,error:b,successNotification:F})=>{h&&(c==null||c("login-error"),F&&(d==null||d(ci(F)))),(b||!h)&&(d==null||d(Nr(b))),E&&h?n==="legacy"?i(E):o({to:E,type:"replace"}):P?n==="legacy"?i(P):o({to:P,type:"replace"}):n==="legacy"&&i("/"),await a()},onError:h=>{d==null||d(Nr(h))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...re()}}),C=we({mutationKey:[...m().auth().action("login").get(y),"v3LegacyAuthProviderCompatible"],mutationFn:v,onSuccess:async h=>{E&&i(E),h!==!1&&!E&&(typeof h=="string"?n==="legacy"?i(h):o({to:h,type:"replace"}):n==="legacy"?i("/"):o({to:"/",type:"replace"})),await a(),c==null||c("login-error")},onError:h=>{d==null||d(Nr(h))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...re()}});return e?C:f}p(jt,"useLogin");var Nr=p(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),ci=p(e=>({message:e.message,description:e.description,key:"login-success",type:"success"}),"buildSuccessNotification");function _r({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let a=Gr(),n=ee(),o=qe(),{replace:i}=Pe(),{register:l}=Ke(),{register:s}=Ye(),{close:u,open:c}=wt(),{keys:d,preferLegacyKeys:v}=pe(),g=we({mutationKey:d().auth().action("register").get(v),mutationFn:s,onSuccess:async({success:y,redirectTo:E,error:f,successNotification:C})=>{y&&(u==null||u("register-error"),C&&(c==null||c(di(C)))),(f||!y)&&(c==null||c($r(f))),E?n==="legacy"?i(E):o({to:E,type:"replace"}):n==="legacy"&&i("/"),await a()},onError:y=>{c==null||c($r(y))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...re()}}),m=we({mutationKey:[...d().auth().action("register").get(v),"v3LegacyAuthProviderCompatible"],mutationFn:l,onSuccess:async y=>{y!==!1&&(y?n==="legacy"?i(y):o({to:y,type:"replace"}):n==="legacy"?i("/"):o({to:"/",type:"replace"}),await a(),u==null||u("register-error"))},onError:y=>{c==null||c($r(y))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...re()}});return e?m:g}p(_r,"useRegister");var $r=p(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),di=p(e=>({message:e.message,description:e.description,key:"register-success",type:"success"}),"buildSuccessNotification");function Zr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let a=ee(),n=qe(),{replace:o}=Pe(),{forgotPassword:i}=Ke(),{forgotPassword:l}=Ye(),{close:s,open:u}=wt(),{keys:c,preferLegacyKeys:d}=pe(),v=we({mutationKey:c().auth().action("forgotPassword").get(d),mutationFn:l,onSuccess:({success:m,redirectTo:y,error:E,successNotification:f})=>{m&&(s==null||s("forgot-password-error"),f&&(u==null||u(mi(f)))),(E||!m)&&(u==null||u(Dr(E))),y&&(a==="legacy"?o(y):n({to:y,type:"replace"}))},onError:m=>{u==null||u(Dr(m))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...re()}}),g=we({mutationKey:[...c().auth().action("forgotPassword").get(d),"v3LegacyAuthProviderCompatible"],mutationFn:i,onSuccess:m=>{m!==!1&&m&&(a==="legacy"?o(m):n({to:m,type:"replace"})),s==null||s("forgot-password-error")},onError:m=>{u==null||u(Dr(m))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...re()}});return e?g:v}p(Zr,"useForgotPassword");var Dr=p(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),mi=p(e=>({message:e.message,description:e.description,key:"forgot-password-success",type:"success"}),"buildSuccessNotification");function Yr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let a=ee(),n=qe(),{replace:o}=Pe(),{updatePassword:i}=Ke(),{updatePassword:l}=Ye(),{close:s,open:u}=wt(),{keys:c,preferLegacyKeys:d}=pe(),v=Re(),{useLocation:g}=ue(),{search:m}=g(),y=r.useMemo(()=>a==="legacy"?Et.parse(m,{ignoreQueryPrefix:!0})??{}:v.params??{},[m,v,a]),E=we({mutationKey:c().auth().action("updatePassword").get(d),mutationFn:async C=>l==null?void 0:l({...y,...C}),onSuccess:({success:C,redirectTo:h,error:P,successNotification:b})=>{C&&(s==null||s("update-password-error"),b&&(u==null||u(pi(b)))),(P||!C)&&(u==null||u(qr(P))),h&&(a==="legacy"?o(h):n({to:h,type:"replace"}))},onError:C=>{u==null||u(qr(C))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...re()}}),f=we({mutationKey:[...c().auth().action("updatePassword").get(d),"v3LegacyAuthProviderCompatible"],mutationFn:async C=>i==null?void 0:i({...y,...C}),onSuccess:C=>{C!==!1&&C&&(a==="legacy"?o(C):n({to:C,type:"replace"})),s==null||s("update-password-error")},onError:C=>{u==null||u(qr(C))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...re()}});return e?f:E}p(Yr,"useUpdatePassword");var qr=p(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),pi=p(e=>({message:e.message,description:e.description,key:"update-password-success",type:"success"}),"buildSuccessNotification");function En({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:a}=Ke(),{check:n}=Ye(),{keys:o,preferLegacyKeys:i}=pe(),l=We({queryKey:o().auth().action("check").params(t).get(i),queryFn:async()=>await(n==null?void 0:n(t))??{},retry:!1,enabled:!e,meta:{...re()}}),s=We({queryKey:[...o().auth().action("check").params(t).get(i),"v3LegacyAuthProviderCompatible"],queryFn:async()=>await(a==null?void 0:a(t))??{},retry:!1,enabled:e,meta:{...re()}});return e?s:l}p(En,"useIsAuthenticated");function je({v3LegacyAuthProviderCompatible:e=!1}={}){let t=ee(),a=qe(),{replace:n}=Pe(),{checkError:o}=Ke(),{onError:i}=Ye(),{keys:l,preferLegacyKeys:s}=pe(),{mutate:u}=Nt({v3LegacyAuthProviderCompatible:!!e}),{mutate:c}=Nt({v3LegacyAuthProviderCompatible:!!e}),d=we({mutationKey:l().auth().action("onError").get(s),mutationFn:i,onSuccess:({logout:g,redirectTo:m})=>{if(g){c({redirectPath:m});return}if(m){t==="legacy"?n(m):a({to:m,type:"replace"});return}},meta:{...re()}}),v=we({mutationKey:[...l().auth().action("onError").get(s),"v3LegacyAuthProviderCompatible"],mutationFn:o,onError:g=>{u({redirectPath:g})},meta:{...re()}});return e?v:d}p(je,"useOnError");var lr=p(()=>{let{isProvided:e}=Ke(),{isProvided:t}=Ye();return!!(t||e)},"useIsExistAuthentication"),De=p(({isLoading:e,interval:t,onInterval:a})=>{let[n,o]=T.useState(void 0),{options:i}=he(),{overtime:l}=i,s=t??l.interval,u=a??(l==null?void 0:l.onInterval);return T.useEffect(()=>{let c;return e&&(c=setInterval(()=>{o(d=>d===void 0?s:d+s)},s)),()=>{clearInterval(c),o(void 0)}},[e,s]),T.useEffect(()=>{u&&n&&u(n)},[n]),{elapsedTime:n}},"useLoadingOvertime"),bn=p(({resource:e,config:t,filters:a,hasPagination:n,pagination:o,sorters:i,queryOptions:l,successNotification:s,errorNotification:u,meta:c,metaData:d,liveMode:v,onLiveEvent:g,liveParams:m,dataProviderName:y,overtimeOptions:E}={})=>{let{resources:f,resource:C,identifier:h}=Z(e),P=Ie(),b=_(),F=de(),{mutate:x}=je({v3LegacyAuthProviderCompatible:!!(F!=null&&F.isLegacy)}),w=Qe(),$=Te(),{keys:L,preferLegacyKeys:D}=pe(),M=te(h,y,f),S=K(c,d),k=K(a,t==null?void 0:t.filters),q=K(i,t==null?void 0:t.sort),O=K(n,t==null?void 0:t.hasPagination),B=pn({pagination:o,configPagination:t==null?void 0:t.pagination,hasPagination:O}),N=B.mode==="server",z=$({resource:C,meta:S}),W={meta:z,metaData:z,filters:k,hasPagination:N,pagination:B,sorters:q,config:{...t,sort:q}},I=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,{getList:Q}=P(M);sr({resource:h,types:["*"],params:{meta:z,metaData:z,pagination:B,hasPagination:N,sort:q,sorters:q,filters:k,subscriptionType:"useList",...m},channel:`resources/${C==null?void 0:C.name}`,enabled:I,liveMode:v,onLiveEvent:g,dataProviderName:M,meta:{...c,dataProviderName:y}});let R=We({queryKey:L().data(M).resource(h??"").action("list").params({...S||{},filters:k,hasPagination:N,...N&&{pagination:B},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(D),queryFn:({queryKey:U,pageParam:H,signal:V})=>Q({resource:(C==null?void 0:C.name)??"",pagination:B,hasPagination:N,filters:k,sort:q,sorters:q,meta:{...z,queryContext:{queryKey:U,pageParam:H,signal:V}},metaData:{...z,queryContext:{queryKey:U,pageParam:H,signal:V}}}),...l,enabled:typeof(l==null?void 0:l.enabled)<"u"?l==null?void 0:l.enabled:!!(C!=null&&C.name),select:U=>{var H;let V=U,{current:Y,mode:J,pageSize:G}=B;return J==="client"&&(V={...V,data:V.data.slice((Y-1)*G,Y*G),total:V.total}),l!=null&&l.select?(H=l==null?void 0:l.select)==null?void 0:H.call(l,V):V},onSuccess:U=>{var H;(H=l==null?void 0:l.onSuccess)==null||H.call(l,U);let V=typeof s=="function"?s(U,W,h):s;w(V)},onError:U=>{var H;x(U),(H=l==null?void 0:l.onError)==null||H.call(l,U);let V=typeof u=="function"?u(U,W,h):u;w(V,{key:`${h}-useList-notification`,message:b("notifications.error",{statusCode:U.statusCode},`Error (status code: ${U.statusCode})`),description:U.message,type:"error"})},meta:{...l==null?void 0:l.meta,...re()}}),{elapsedTime:j}=De({isLoading:R.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...R,overtime:{elapsedTime:j}}},"useList"),Cn=p(({resource:e,id:t,queryOptions:a,successNotification:n,errorNotification:o,meta:i,metaData:l,liveMode:s,onLiveEvent:u,liveParams:c,dataProviderName:d,overtimeOptions:v})=>{let{resources:g,resource:m,identifier:y}=Z(e),E=Ie(),f=_(),C=de(),{mutate:h}=je({v3LegacyAuthProviderCompatible:!!(C!=null&&C.isLegacy)}),P=Qe(),b=Te(),{keys:F,preferLegacyKeys:x}=pe(),w=K(i,l),$=te(y,d,g),{getOne:L}=E($),D=b({resource:m,meta:w});sr({resource:y,types:["*"],channel:`resources/${m==null?void 0:m.name}`,params:{ids:t?[t]:[],id:t,meta:D,metaData:D,subscriptionType:"useOne",...c},enabled:typeof(a==null?void 0:a.enabled)<"u"?a==null?void 0:a.enabled:typeof(m==null?void 0:m.name)<"u"&&typeof t<"u",liveMode:s,onLiveEvent:u,dataProviderName:$,meta:{...i,dataProviderName:d}});let M=We({queryKey:F().data($).resource(y??"").action("one").id(t??"").params({...w||{}}).get(x),queryFn:({queryKey:k,pageParam:q,signal:O})=>L({resource:(m==null?void 0:m.name)??"",id:t,meta:{...D,queryContext:{queryKey:k,pageParam:q,signal:O}},metaData:{...D,queryContext:{queryKey:k,pageParam:q,signal:O}}}),...a,enabled:typeof(a==null?void 0:a.enabled)<"u"?a==null?void 0:a.enabled:typeof t<"u",onSuccess:k=>{var q;(q=a==null?void 0:a.onSuccess)==null||q.call(a,k);let O=typeof n=="function"?n(k,{id:t,...D},y):n;P(O)},onError:k=>{var q;h(k),(q=a==null?void 0:a.onError)==null||q.call(a,k);let O=typeof o=="function"?o(k,{id:t,...D},y):o;P(O,{key:`${t}-${y}-getOne-notification`,message:f("notifications.error",{statusCode:k.statusCode},`Error (status code: ${k.statusCode})`),description:k.message,type:"error"})},meta:{...a==null?void 0:a.meta,...re()}}),{elapsedTime:S}=De({isLoading:M.isFetching,interval:v==null?void 0:v.interval,onInterval:v==null?void 0:v.onInterval});return{...M,overtime:{elapsedTime:S}}},"useOne"),vi=p(({resource:e,ids:t,queryOptions:a,successNotification:n,errorNotification:o,meta:i,metaData:l,liveMode:s,onLiveEvent:u,liveParams:c,dataProviderName:d,overtimeOptions:v})=>{let{resources:g,resource:m,identifier:y}=Z(e),E=Ie(),f=_(),C=de(),{mutate:h}=je({v3LegacyAuthProviderCompatible:!!(C!=null&&C.isLegacy)}),P=Qe(),b=Te(),{keys:F,preferLegacyKeys:x}=pe(),w=K(i,l),$=te(y,d,g),L=(a==null?void 0:a.enabled)===void 0||(a==null?void 0:a.enabled)===!0,{getMany:D,getOne:M}=E($),S=b({resource:m,meta:w});sr({resource:y,types:["*"],params:{ids:t,meta:S,metaData:S,subscriptionType:"useMany",...c},channel:`resources/${m.name}`,enabled:L,liveMode:s,onLiveEvent:u,dataProviderName:$,meta:{...i,dataProviderName:d}});let k=We({queryKey:F().data($).resource(y).action("many").ids(...t).params({...w||{}}).get(x),queryFn:({queryKey:O,pageParam:B,signal:N})=>D?D({resource:m==null?void 0:m.name,ids:t,meta:{...S,queryContext:{queryKey:O,pageParam:B,signal:N}},metaData:{...S,queryContext:{queryKey:O,pageParam:B,signal:N}}}):ir(t.map(z=>M({resource:m==null?void 0:m.name,id:z,meta:{...S,queryContext:{queryKey:O,pageParam:B,signal:N}},metaData:{...S,queryContext:{queryKey:O,pageParam:B,signal:N}}}))),...a,onSuccess:O=>{var B;(B=a==null?void 0:a.onSuccess)==null||B.call(a,O);let N=typeof n=="function"?n(O,t,y):n;P(N)},onError:O=>{var B;h(O),(B=a==null?void 0:a.onError)==null||B.call(a,O);let N=typeof o=="function"?o(O,t,y):o;P(N,{key:`${t[0]}-${y}-getMany-notification`,message:f("notifications.error",{statusCode:O.statusCode},`Error (status code: ${O.statusCode})`),description:O.message,type:"error"})},meta:{...a==null?void 0:a.meta,...re()}}),{elapsedTime:q}=De({isLoading:k.isFetching,interval:v==null?void 0:v.interval,onInterval:v==null?void 0:v.onInterval});return{...k,overtime:{elapsedTime:q}}},"useMany"),wn=r.createContext({notifications:[],notificationDispatch:()=>!1}),gi=[],fi=p((e,t)=>{switch(t.type){case"ADD":return[...e.filter(a=>!(mt(a.id,t.payload.id)&&a.resource===t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(a=>!(mt(a.id,t.payload.id)&&a.resource===t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(a=>mt(a.id,t.payload.id)&&a.resource===t.payload.resource?{...a,seconds:t.payload.seconds-1e3}:a);default:return e}},"undoableQueueReducer"),yi=p(({children:e})=>{let[t,a]=T.useReducer(fi,gi),n={notifications:t,notificationDispatch:a};return r.createElement(wn.Provider,{value:n},e,typeof window<"u"&&t.map(o=>r.createElement(cl,{key:`${o.id}-${o.resource}-queue`,notification:o})))},"UndoableQueueContextProvider"),ka=p(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:a,select:n}=Z(),o=ft(),i=Ie(),{mutationMode:l,undoableTimeout:s}=Ct(),u=_(),c=de(),{mutate:d}=je({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),v=Mt(),{log:g}=It(),{notificationDispatch:m}=Gt(),y=Qe(),E=Xe(),f=Te(),{options:{textTransformers:C}}=he(),{keys:h,preferLegacyKeys:P}=pe(),b=we({mutationFn:({id:x,values:w,resource:$,mutationMode:L,undoableTimeout:D,onCancel:M,meta:S,metaData:k,dataProviderName:q})=>{let{resource:O,identifier:B}=n($),N=f({resource:O,meta:K(S,k)}),z=L??l,W=D??s;return z!=="undoable"?i(te(B,q,a)).update({resource:O.name,id:x,variables:w,meta:N,metaData:N}):new Promise((I,Q)=>{let R=p(()=>{i(te(B,q,a)).update({resource:O.name,id:x,variables:w,meta:N,metaData:N}).then(U=>I(U)).catch(U=>Q(U))},"doMutation"),j=p(()=>{Q({message:"mutationCancelled"})},"cancelMutation");M&&M(j),m({type:"ADD",payload:{id:x,resource:B,cancelMutation:j,doMutation:R,seconds:W,isSilent:!!M}})})},onMutate:async({resource:x,id:w,mutationMode:$,values:L,dataProviderName:D,meta:M,metaData:S,optimisticUpdateMap:k={list:!0,many:!0,detail:!0}})=>{let{identifier:q}=n(x),{gqlMutation:O,gqlQuery:B,...N}=K(M,S)??{},z=or(P)(q,te(q,D,a),N),W=h().data(te(q,D,a)).resource(q),I=o.getQueriesData(W.get(P)),Q=$??l;return await o.cancelQueries(W.get(P),void 0,{silent:!0}),Q!=="pessimistic"&&(k.list&&o.setQueriesData(W.action("list").params(N??{}).get(P),R=>{if(typeof k.list=="function")return k.list(R,L,w);if(!R)return null;let j=R.data.map(U=>{var H;return((H=U.id)==null?void 0:H.toString())===(w==null?void 0:w.toString())?{id:w,...U,...L}:U});return{...R,data:j}}),k.many&&o.setQueriesData(W.action("many").get(P),R=>{if(typeof k.many=="function")return k.many(R,L,w);if(!R)return null;let j=R.data.map(U=>{var H;return((H=U.id)==null?void 0:H.toString())===(w==null?void 0:w.toString())&&(U={id:w,...U,...L}),U});return{...R,data:j}}),k.detail&&o.setQueriesData(W.action("one").id(w).params(N??{}).get(P),R=>typeof k.detail=="function"?k.detail(R,L,w):R?{...R,data:{...R.data,...L}}:null)),{previousQueries:I,queryKey:z}},onSettled:(x,w,{id:$,resource:L,dataProviderName:D,invalidates:M=["list","many","detail"]})=>{let{identifier:S}=n(L);E({resource:S,dataProviderName:te(S,D,a),invalidates:M,id:$}),m({type:"REMOVE",payload:{id:$,resource:S}})},onSuccess:(x,{id:w,resource:$,successNotification:L,dataProviderName:D,values:M,meta:S,metaData:k},q)=>{var O;let{resource:B,identifier:N}=n($),z=C.singular(N),W=te(N,D,a),I=f({resource:B,meta:K(S,k)}),Q=typeof L=="function"?L(x,{id:w,values:M},N):L;y(Q,{key:`${w}-${N}-notification`,description:u("notifications.success","Successful"),message:u("notifications.editSuccess",{resource:u(`${N}.${N}`,z)},`Successfully updated ${z}`),type:"success"}),v==null||v({channel:`resources/${B.name}`,type:"updated",payload:{ids:(O=x.data)!=null&&O.id?[x.data.id]:void 0},date:new Date,meta:{...I,dataProviderName:W}});let R;if(q){let Y=o.getQueryData(q.queryKey.detail(w));R=Object.keys(M||{}).reduce((J,G)=>{var X;return J[G]=(X=Y==null?void 0:Y.data)==null?void 0:X[G],J},{})}let{fields:j,operation:U,variables:H,...V}=I||{};g==null||g.mutate({action:"update",resource:B.name,data:M,previousData:R,meta:{id:w,dataProviderName:W,...V}})},onError:(x,{id:w,resource:$,errorNotification:L,values:D},M)=>{let{identifier:S}=n($);if(M)for(let k of M.previousQueries)o.setQueryData(k[0],k[1]);if(x.message!=="mutationCancelled"){d==null||d(x);let k=C.singular(S),q=typeof L=="function"?L(x,{id:w,values:D},S):L;y(q,{key:`${w}-${S}-notification`,message:u("notifications.editError",{resource:u(`${S}.${S}`,k),statusCode:x.statusCode},`Error when updating ${k} (status code: ${x.statusCode})`),description:x.message,type:"error"})}},mutationKey:h().data().mutation("update").get(P),...e,meta:{...e==null?void 0:e.meta,...re()}}),{elapsedTime:F}=De({isLoading:b.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...b,overtime:{elapsedTime:F}}},"useUpdate"),Pn=p(({mutationOptions:e,overtimeOptions:t}={})=>{let a=de(),{mutate:n}=je({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),o=Ie(),i=Xe(),{resources:l,select:s}=Z(),u=_(),c=Mt(),{log:d}=It(),v=Qe(),g=Te(),{options:{textTransformers:m}}=he(),{keys:y,preferLegacyKeys:E}=pe(),f=we({mutationFn:({resource:h,values:P,meta:b,metaData:F,dataProviderName:x})=>{let{resource:w,identifier:$}=s(h),L=g({resource:w,meta:K(b,F)});return o(te($,x,l)).create({resource:w.name,variables:P,meta:L,metaData:L})},onSuccess:(h,{resource:P,successNotification:b,dataProviderName:F,invalidates:x=["list","many"],values:w,meta:$,metaData:L})=>{var D,M;let{resource:S,identifier:k}=s(P),q=m.singular(k),O=te(k,F,l),B=g({resource:S,meta:K($,L)}),N=typeof b=="function"?b(h,w,k):b;v(N,{key:`create-${k}-notification`,message:u("notifications.createSuccess",{resource:u(`${k}.${k}`,q)},`Successfully created ${q}`),description:u("notifications.success","Success"),type:"success"}),i({resource:k,dataProviderName:O,invalidates:x}),c==null||c({channel:`resources/${S.name}`,type:"created",payload:{ids:(D=h==null?void 0:h.data)!=null&&D.id?[h.data.id]:void 0},date:new Date,meta:{...B,dataProviderName:O}});let{fields:z,operation:W,variables:I,...Q}=B||{};d==null||d.mutate({action:"create",resource:S.name,data:w,meta:{dataProviderName:O,id:((M=h==null?void 0:h.data)==null?void 0:M.id)??void 0,...Q}})},onError:(h,{resource:P,errorNotification:b,values:F})=>{n(h);let{identifier:x}=s(P),w=m.singular(x),$=typeof b=="function"?b(h,F,x):b;v($,{key:`create-${x}-notification`,description:h.message,message:u("notifications.createError",{resource:u(`${x}.${x}`,w),statusCode:h.statusCode},`There was an error creating ${w} (status code: ${h.statusCode})`),type:"error"})},mutationKey:y().data().mutation("create").get(E),...e,meta:{...e==null?void 0:e.meta,...re()}}),{elapsedTime:C}=De({isLoading:f.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...f,overtime:{elapsedTime:C}}},"useCreate"),hi=p(({mutationOptions:e,overtimeOptions:t}={})=>{let a=de(),{mutate:n}=je({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),o=Ie(),{resources:i,select:l}=Z(),s=ft(),{mutationMode:u,undoableTimeout:c}=Ct(),{notificationDispatch:d}=Gt(),v=_(),g=Mt(),{log:m}=It(),y=Qe(),E=Xe(),f=Te(),{options:{textTransformers:C}}=he(),{keys:h,preferLegacyKeys:P}=pe(),b=we({mutationFn:({id:x,mutationMode:w,undoableTimeout:$,resource:L,onCancel:D,meta:M,metaData:S,dataProviderName:k,values:q})=>{let{resource:O,identifier:B}=l(L),N=f({resource:O,meta:K(M,S)}),z=w??u,W=$??c;return z!=="undoable"?o(te(B,k,i)).deleteOne({resource:O.name,id:x,meta:N,metaData:N,variables:q}):new Promise((I,Q)=>{let R=p(()=>{o(te(B,k,i)).deleteOne({resource:O.name,id:x,meta:N,metaData:N,variables:q}).then(U=>I(U)).catch(U=>Q(U))},"doMutation"),j=p(()=>{Q({message:"mutationCancelled"})},"cancelMutation");D&&D(j),d({type:"ADD",payload:{id:x,resource:B,cancelMutation:j,doMutation:R,seconds:W,isSilent:!!D}})})},onMutate:async({id:x,resource:w,mutationMode:$,dataProviderName:L,meta:D,metaData:M})=>{let{identifier:S}=l(w),{gqlMutation:k,gqlQuery:q,...O}=K(D,M)??{},B=or(P)(S,te(S,L,i),O),N=h().data(te(S,L,i)).resource(S),z=$??u;await s.cancelQueries(N.get(P),void 0,{silent:!0});let W=s.getQueriesData(N.get(P));return z!=="pessimistic"&&(s.setQueriesData(N.action("list").params(O??{}).get(P),I=>I?{data:I.data.filter(Q=>{var R;return((R=Q.id)==null?void 0:R.toString())!==x.toString()}),total:I.total-1}:null),s.setQueriesData(N.action("many").get(P),I=>{if(!I)return null;let Q=I.data.filter(R=>{var j;return((j=R.id)==null?void 0:j.toString())!==(x==null?void 0:x.toString())});return{...I,data:Q}})),{previousQueries:W,queryKey:B}},onSettled:(x,w,{id:$,resource:L,dataProviderName:D,invalidates:M=["list","many"]})=>{let{identifier:S}=l(L);E({resource:S,dataProviderName:te(S,D,i),invalidates:M}),d({type:"REMOVE",payload:{id:$,resource:S}})},onSuccess:(x,{id:w,resource:$,successNotification:L,dataProviderName:D,meta:M,metaData:S},k)=>{let{resource:q,identifier:O}=l($),B=C.singular(O),N=te(O,D,i),z=f({resource:q,meta:K(M,S)});s.removeQueries(k==null?void 0:k.queryKey.detail(w));let W=typeof L=="function"?L(x,w,O):L;y(W,{key:`${w}-${O}-notification`,description:v("notifications.success","Success"),message:v("notifications.deleteSuccess",{resource:v(`${O}.${O}`,B)},`Successfully deleted a ${B}`),type:"success"}),g==null||g({channel:`resources/${q.name}`,type:"deleted",payload:{ids:[w]},date:new Date,meta:{...z,dataProviderName:N}});let{fields:I,operation:Q,variables:R,...j}=z||{};m==null||m.mutate({action:"delete",resource:q.name,meta:{id:w,dataProviderName:N,...j}}),s.removeQueries(k==null?void 0:k.queryKey.detail(w))},onError:(x,{id:w,resource:$,errorNotification:L},D)=>{let{identifier:M}=l($);if(D)for(let S of D.previousQueries)s.setQueryData(S[0],S[1]);if(x.message!=="mutationCancelled"){n(x);let S=C.singular(M),k=typeof L=="function"?L(x,w,M):L;y(k,{key:`${w}-${M}-notification`,message:v("notifications.deleteError",{resource:S,statusCode:x.statusCode},`Error (status code: ${x.statusCode})`),description:x.message,type:"error"})}},mutationKey:h().data().mutation("delete").get(P),...e,meta:{...e==null?void 0:e.meta,...re()}}),{elapsedTime:F}=De({isLoading:b.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...b,overtime:{elapsedTime:F}}},"useDelete"),Ei=p(({mutationOptions:e,overtimeOptions:t}={})=>{let a=Ie(),{resources:n,select:o}=Z(),i=_(),l=Mt(),s=Qe(),u=Xe(),{log:c}=It(),d=Te(),{options:{textTransformers:v}}=he(),{keys:g,preferLegacyKeys:m}=pe(),y=we({mutationFn:({resource:f,values:C,meta:h,metaData:P,dataProviderName:b})=>{let{resource:F,identifier:x}=o(f),w=d({resource:F,meta:K(h,P)}),$=a(te(x,b,n));return $.createMany?$.createMany({resource:F.name,variables:C,meta:w,metaData:w}):ir(C.map(L=>$.create({resource:F.name,variables:L,meta:w,metaData:w})))},onSuccess:(f,{resource:C,successNotification:h,dataProviderName:P,invalidates:b=["list","many"],values:F,meta:x,metaData:w})=>{let{resource:$,identifier:L}=o(C),D=v.plural(L),M=te(L,P,n),S=d({resource:$,meta:K(x,w)}),k=typeof h=="function"?h(f,F,L):h;s(k,{key:`createMany-${L}-notification`,message:i("notifications.createSuccess",{resource:i(`${L}.${L}`,L)},`Successfully created ${D}`),description:i("notifications.success","Success"),type:"success"}),u({resource:L,dataProviderName:M,invalidates:b});let q=f==null?void 0:f.data.filter(W=>(W==null?void 0:W.id)!==void 0).map(W=>W.id);l==null||l({channel:`resources/${$.name}`,type:"created",payload:{ids:q},date:new Date,meta:{...S,dataProviderName:M}});let{fields:O,operation:B,variables:N,...z}=S||{};c==null||c.mutate({action:"createMany",resource:$.name,data:F,meta:{dataProviderName:M,ids:q,...z}})},onError:(f,{resource:C,errorNotification:h,values:P})=>{let{identifier:b}=o(C),F=typeof h=="function"?h(f,P,b):h;s(F,{key:`createMany-${b}-notification`,description:f.message,message:i("notifications.createError",{resource:i(`${b}.${b}`,b),statusCode:f.statusCode},`There was an error creating ${b} (status code: ${f.statusCode}`),type:"error"})},mutationKey:g().data().mutation("createMany").get(m),...e,meta:{...e==null?void 0:e.meta,...re()}}),{elapsedTime:E}=De({isLoading:y.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...y,overtime:{elapsedTime:E}}},"useCreateMany"),cu=p(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:a,select:n}=Z(),o=ft(),i=Ie(),l=_(),{mutationMode:s,undoableTimeout:u}=Ct(),c=de(),{mutate:d}=je({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),{notificationDispatch:v}=Gt(),g=Mt(),m=Qe(),y=Xe(),{log:E}=It(),f=Te(),{options:{textTransformers:C}}=he(),{keys:h,preferLegacyKeys:P}=pe(),b=we({mutationFn:({ids:x,values:w,resource:$,onCancel:L,mutationMode:D,undoableTimeout:M,meta:S,metaData:k,dataProviderName:q})=>{let{resource:O,identifier:B}=n($),N=f({resource:O,meta:K(S,k)}),z=D??s,W=M??u,I=i(te(B,q,a)),Q=p(()=>I.updateMany?I.updateMany({resource:O.name,ids:x,variables:w,meta:N,metaData:N}):ir(x.map(R=>I.update({resource:O.name,id:R,variables:w,meta:N,metaData:N}))),"mutationFn");return z!=="undoable"?Q():new Promise((R,j)=>{let U=p(()=>{Q().then(V=>R(V)).catch(V=>j(V))},"doMutation"),H=p(()=>{j({message:"mutationCancelled"})},"cancelMutation");L&&L(H),v({type:"ADD",payload:{id:x,resource:B,cancelMutation:H,doMutation:U,seconds:W,isSilent:!!L}})})},onMutate:async({resource:x,ids:w,values:$,mutationMode:L,dataProviderName:D,meta:M,metaData:S,optimisticUpdateMap:k={list:!0,many:!0,detail:!0}})=>{let{identifier:q}=n(x),{gqlMutation:O,gqlQuery:B,...N}=K(M,S)??{},z=or(P)(q,te(q,D,a),N),W=h().data(te(q,D,a)).resource(q),I=L??s;await o.cancelQueries(W.get(P),void 0,{silent:!0});let Q=o.getQueriesData(W.get(P));if(I!=="pessimistic"&&(k.list&&o.setQueriesData(W.action("list").params(N??{}).get(P),R=>{if(typeof k.list=="function")return k.list(R,$,w);if(!R)return null;let j=R.data.map(U=>U.id!==void 0&&w.filter(H=>H!==void 0).map(String).includes(U.id.toString())?{...U,...$}:U);return{...R,data:j}}),k.many&&o.setQueriesData(W.action("many").get(P),R=>{if(typeof k.many=="function")return k.many(R,$,w);if(!R)return null;let j=R.data.map(U=>U.id!==void 0&&w.filter(H=>H!==void 0).map(String).includes(U.id.toString())?{...U,...$}:U);return{...R,data:j}}),k.detail))for(let R of w)o.setQueriesData(W.action("one").id(R).params(N??{}).get(P),j=>{if(typeof k.detail=="function")return k.detail(j,$,R);if(!j)return null;let U={...j.data,...$};return{...j,data:U}});return{previousQueries:Q,queryKey:z}},onSettled:(x,w,{ids:$,resource:L,dataProviderName:D})=>{let{identifier:M}=n(L);y({resource:M,invalidates:["list","many"],dataProviderName:te(M,D,a)}),$.forEach(S=>y({resource:M,invalidates:["detail"],dataProviderName:te(M,D,a),id:S})),v({type:"REMOVE",payload:{id:$,resource:M}})},onSuccess:(x,{ids:w,resource:$,meta:L,metaData:D,dataProviderName:M,successNotification:S,values:k},q)=>{let{resource:O,identifier:B}=n($),N=C.singular(B),z=te(B,M,a),W=f({resource:O,meta:K(L,D)}),I=typeof S=="function"?S(x,{ids:w,values:k},B):S;m(I,{key:`${w}-${B}-notification`,description:l("notifications.success","Successful"),message:l("notifications.editSuccess",{resource:l(`${B}.${B}`,B)},`Successfully updated ${N}`),type:"success"}),g==null||g({channel:`resources/${O.name}`,type:"updated",payload:{ids:w.map(String)},date:new Date,meta:{...W,dataProviderName:z}});let Q=[];q&&w.forEach(V=>{let Y=o.getQueryData(q.queryKey.detail(V));Q.push(Object.keys(k||{}).reduce((J,G)=>{var X;return J[G]=(X=Y==null?void 0:Y.data)==null?void 0:X[G],J},{}))});let{fields:R,operation:j,variables:U,...H}=W||{};E==null||E.mutate({action:"updateMany",resource:O.name,data:k,previousData:Q,meta:{ids:w,dataProviderName:z,...H}})},onError:(x,{ids:w,resource:$,errorNotification:L,values:D},M)=>{let{identifier:S}=n($);if(M)for(let k of M.previousQueries)o.setQueryData(k[0],k[1]);if(x.message!=="mutationCancelled"){d==null||d(x);let k=C.singular(S),q=typeof L=="function"?L(x,{ids:w,values:D},S):L;m(q,{key:`${w}-${S}-updateMany-error-notification`,message:l("notifications.editError",{resource:k,statusCode:x.statusCode},`Error when updating ${k} (status code: ${x.statusCode})`),description:x.message,type:"error"})}},mutationKey:h().data().mutation("updateMany").get(P),...e,meta:{...e==null?void 0:e.meta,...re()}}),{elapsedTime:F}=De({isLoading:b.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...b,overtime:{elapsedTime:F}}},"useUpdateMany");p(({mutationOptions:e,overtimeOptions:t}={})=>{let a=de(),{mutate:n}=je({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),{mutationMode:o,undoableTimeout:i}=Ct(),l=Ie(),{notificationDispatch:s}=Gt(),u=_(),c=Mt(),d=Qe(),v=Xe(),{log:g}=It(),{resources:m,select:y}=Z(),E=ft(),f=Te(),{options:{textTransformers:C}}=he(),{keys:h,preferLegacyKeys:P}=pe(),b=we({mutationFn:({resource:x,ids:w,mutationMode:$,undoableTimeout:L,onCancel:D,meta:M,metaData:S,dataProviderName:k,values:q})=>{let{resource:O,identifier:B}=y(x),N=f({resource:O,meta:K(M,S)}),z=$??o,W=L??i,I=l(te(B,k,m)),Q=p(()=>I.deleteMany?I.deleteMany({resource:O.name,ids:w,meta:N,metaData:N,variables:q}):ir(w.map(R=>I.deleteOne({resource:O.name,id:R,meta:N,metaData:N,variables:q}))),"mutationFn");return z!=="undoable"?Q():new Promise((R,j)=>{let U=p(()=>{Q().then(V=>R(V)).catch(V=>j(V))},"doMutation"),H=p(()=>{j({message:"mutationCancelled"})},"cancelMutation");D&&D(H),s({type:"ADD",payload:{id:w,resource:B,cancelMutation:H,doMutation:U,seconds:W,isSilent:!!D}})})},onMutate:async({ids:x,resource:w,mutationMode:$,dataProviderName:L,meta:D,metaData:M})=>{let{identifier:S}=y(w),{gqlMutation:k,gqlQuery:q,...O}=K(D,M)??{},B=or(P)(S,te(S,L,m),O),N=h().data(te(S,L,m)).resource(S),z=$??o;await E.cancelQueries(N.get(P),void 0,{silent:!0});let W=E.getQueriesData(N.get(P));if(z!=="pessimistic"){E.setQueriesData(N.action("list").params(O??{}).get(P),I=>I?{data:I.data.filter(Q=>Q.id&&!x.map(String).includes(Q.id.toString())),total:I.total-1}:null),E.setQueriesData(N.action("many").get(P),I=>{if(!I)return null;let Q=I.data.filter(R=>R.id?!x.map(String).includes(R.id.toString()):!1);return{...I,data:Q}});for(let I of x)E.setQueriesData(N.action("one").id(I).params(O).get(P),Q=>!Q||Q.data.id===I?null:{...Q})}return{previousQueries:W,queryKey:B}},onSettled:(x,w,{resource:$,ids:L,dataProviderName:D,invalidates:M=["list","many"]})=>{let{identifier:S}=y($);v({resource:S,dataProviderName:te(S,D,m),invalidates:M}),s({type:"REMOVE",payload:{id:L,resource:S}})},onSuccess:(x,{ids:w,resource:$,meta:L,metaData:D,dataProviderName:M,successNotification:S},k)=>{let{resource:q,identifier:O}=y($),B=te(O,M,m),N=f({resource:q,meta:K(L,D)});w.forEach(j=>E.removeQueries(k==null?void 0:k.queryKey.detail(j)));let z=typeof S=="function"?S(x,w,O):S;d(z,{key:`${w}-${O}-notification`,description:u("notifications.success","Success"),message:u("notifications.deleteSuccess",{resource:u(`${O}.${O}`,O)},`Successfully deleted ${O}`),type:"success"}),c==null||c({channel:`resources/${q.name}`,type:"deleted",payload:{ids:w},date:new Date,meta:{...N,dataProviderName:B}});let{fields:W,operation:I,variables:Q,...R}=N||{};g==null||g.mutate({action:"deleteMany",resource:q.name,meta:{ids:w,dataProviderName:B,...R}}),w.forEach(j=>E.removeQueries(k==null?void 0:k.queryKey.detail(j)))},onError:(x,{ids:w,resource:$,errorNotification:L},D)=>{let{identifier:M}=y($);if(D)for(let S of D.previousQueries)E.setQueryData(S[0],S[1]);if(x.message!=="mutationCancelled"){n(x);let S=C.singular(M),k=typeof L=="function"?L(x,w,M):L;d(k,{key:`${w}-${M}-notification`,message:u("notifications.deleteError",{resource:S,statusCode:x.statusCode},`Error (status code: ${x.statusCode})`),description:x.message,type:"error"})}},mutationKey:h().data().mutation("deleteMany").get(P),...e,meta:{...e==null?void 0:e.meta,...re()}}),{elapsedTime:F}=De({isLoading:b.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...b,overtime:{elapsedTime:F}}},"useDeleteMany");p(e=>{var t;let a=Ie(),{resource:n}=Z(),{getApiUrl:o}=a(e??((t=K(n==null?void 0:n.meta,n==null?void 0:n.options))==null?void 0:t.dataProviderName));return o()},"useApiUrl");var du=p(({url:e,method:t,config:a,queryOptions:n,successNotification:o,errorNotification:i,meta:l,metaData:s,dataProviderName:u,overtimeOptions:c})=>{let d=Ie(),v=de(),{mutate:g}=je({v3LegacyAuthProviderCompatible:!!(v!=null&&v.isLegacy)}),m=_(),y=Qe(),E=Te(),{keys:f,preferLegacyKeys:C}=pe(),h=K(l,s),{custom:P}=d(u),b=E({meta:h});if(P){let F=We({queryKey:f().data(u).mutation("custom").params({method:t,url:e,...a,...h||{}}).get(C),queryFn:({queryKey:w,pageParam:$,signal:L})=>P({url:e,method:t,...a,meta:{...b,queryContext:{queryKey:w,pageParam:$,signal:L}},metaData:{...b,queryContext:{queryKey:w,pageParam:$,signal:L}}}),...n,onSuccess:w=>{var $;($=n==null?void 0:n.onSuccess)==null||$.call(n,w);let L=typeof o=="function"?o(w,{...a,...b}):o;y(L)},onError:w=>{var $;g(w),($=n==null?void 0:n.onError)==null||$.call(n,w);let L=typeof i=="function"?i(w,{...a,...b}):i;y(L,{key:`${t}-notification`,message:m("notifications.error",{statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})},meta:{...n==null?void 0:n.meta,...re()}}),{elapsedTime:x}=De({isLoading:F.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{...F,overtime:{elapsedTime:x}}}throw Error("Not implemented custom on data provider.")},"useCustom");p(({mutationOptions:e,overtimeOptions:t}={})=>{let a=de(),{mutate:n}=je({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),o=Qe(),i=Ie(),l=_(),s=Te(),{keys:u,preferLegacyKeys:c}=pe(),d=we(({url:g,method:m,values:y,meta:E,metaData:f,dataProviderName:C,config:h})=>{let P=s({meta:K(E,f)}),{custom:b}=i(C);if(b)return b({url:g,method:m,payload:y,meta:P,metaData:P,headers:{...h==null?void 0:h.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(g,{successNotification:m,config:y,meta:E,metaData:f})=>{let C=typeof m=="function"?m(g,{...y,...K(E,f)||{}}):m;o(C)},onError:(g,{errorNotification:m,method:y,config:E,meta:f,metaData:C})=>{n(g);let h=typeof m=="function"?m(g,{...E,...K(f,C)||{}}):m;o(h,{key:`${y}-notification`,message:l("notifications.error",{statusCode:g.statusCode},`Error (status code: ${g.statusCode})`),description:g.message,type:"error"})},mutationKey:u().data().mutation("customMutation").get(c),...e,meta:{...e==null?void 0:e.meta,...re()}}),{elapsedTime:v}=De({isLoading:d.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...d,overtime:{elapsedTime:v}}},"useCustomMutation");var bi=p(()=>({}),"defaultDataProvider"),Xr=r.createContext(bi()),Ci=p(({children:e,...t})=>{let a;return!t.getList||!t.getOne?a=t:a={default:t},r.createElement(Xr.Provider,{value:a},e)},"DataContextProvider"),Ie=p(()=>{let e=T.useContext(Xr);return T.useCallback(t=>{if(t){if(!(e!=null&&e[t]))throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider");p(({resource:e,config:t,filters:a,hasPagination:n,pagination:o,sorters:i,queryOptions:l,successNotification:s,errorNotification:u,meta:c,metaData:d,liveMode:v,onLiveEvent:g,liveParams:m,dataProviderName:y,overtimeOptions:E})=>{let{resources:f,resource:C,identifier:h}=Z(e),P=Ie(),b=_(),F=de(),{mutate:x}=je({v3LegacyAuthProviderCompatible:!!(F!=null&&F.isLegacy)}),w=Qe(),$=Te(),{keys:L,preferLegacyKeys:D}=pe(),M=te(h,y,f),S=K(c,d),k=K(a,t==null?void 0:t.filters),q=K(i,t==null?void 0:t.sort),O=K(n,t==null?void 0:t.hasPagination),B=pn({pagination:o,configPagination:t==null?void 0:t.pagination,hasPagination:O}),N=B.mode==="server",z={meta:S,metaData:S,filters:k,hasPagination:N,pagination:B,sorters:q,config:{...t,sort:q}},W=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,I=$({resource:C,meta:S}),{getList:Q}=P(M);sr({resource:h,types:["*"],params:{meta:I,metaData:I,pagination:B,hasPagination:N,sort:q,sorters:q,filters:k,subscriptionType:"useList",...m},channel:`resources/${C.name}`,enabled:W,liveMode:v,onLiveEvent:g,dataProviderName:M,meta:{...I,dataProviderName:y}});let R=Po({queryKey:L().data(M).resource(h).action("infinite").params({...S||{},filters:k,hasPagination:N,...N&&{pagination:B},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(D),queryFn:({queryKey:U,pageParam:H,signal:V})=>{let Y={...B,current:H};return Q({resource:C.name,pagination:Y,hasPagination:N,filters:k,sort:q,sorters:q,meta:{...I,queryContext:{queryKey:U,pageParam:H,signal:V}},metaData:{...I,queryContext:{queryKey:U,pageParam:H,signal:V}}}).then(({data:J,total:G,...X})=>({data:J,total:G,pagination:Y,...X}))},getNextPageParam:U=>_o(U),getPreviousPageParam:U=>Zo(U),...l,onSuccess:U=>{var H;(H=l==null?void 0:l.onSuccess)==null||H.call(l,U);let V=typeof s=="function"?s(U,z,h):s;w(V)},onError:U=>{var H;x(U),(H=l==null?void 0:l.onError)==null||H.call(l,U);let V=typeof u=="function"?u(U,z,h):u;w(V,{key:`${h}-useInfiniteList-notification`,message:b("notifications.error",{statusCode:U.statusCode},`Error (status code: ${U.statusCode})`),description:U.message,type:"error"})},meta:{...l==null?void 0:l.meta,...re()}}),{elapsedTime:j}=De({isLoading:R.isFetching,interval:E==null?void 0:E.interval,onInterval:E==null?void 0:E.onInterval});return{...R,overtime:{elapsedTime:j}}},"useInfiniteList");var Qt=r.createContext(void 0),wi=p(({liveProvider:e,children:t})=>r.createElement(Qt.Provider,{value:e},t),"LiveContextProvider"),Pi=p(e=>{let t=T.useRef(e);return mt(t.current,e)||(t.current=e),t.current},"useMemoized"),xn=p((e,t)=>{let a=Pi(t);return T.useMemo(e,a)},"useDeepMemo"),Ht=r.createContext({resources:[]}),xi=p(({resources:e,children:t})=>{let a=xn(()=>Yo(e??[]),[e]);return r.createElement(Ht.Provider,{value:{resources:a}},t)},"ResourceContextProvider"),Sn=r.createContext("new"),Si=Sn.Provider,ee=p(()=>r.useContext(Sn),"useRouterType"),kn={},Vt=T.createContext(kn),ki=p(({children:e,router:t})=>r.createElement(Vt.Provider,{value:t??kn},e),"RouterBindingsProvider"),Fi=p(()=>{let e=T.useContext(Vt);return r.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse"),Re=p(()=>{let e=Fi();return r.useMemo(()=>e(),[e])},"useParsed");function Z(e){let{resources:t}=T.useContext(Ht),a=ee(),n=Re(),o={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},i=p((v,g=!0)=>{let m=$e(v,t,a==="legacy");if(m)return{resource:m,identifier:m.identifier??m.name};if(g){let y={name:v,identifier:v},E=y.identifier??y.name;return{resource:y,identifier:E}}},"select"),l=Li(),{useParams:s}=ue(),u=s();if(a==="legacy"){let v=o.resourceNameOrRouteName?o.resourceNameOrRouteName:u.resource,g=v?l(v):void 0,m=(o==null?void 0:o.recordItemId)??u.id,y=u.action,E=(o==null?void 0:o.resourceName)??(g==null?void 0:g.name),f=(g==null?void 0:g.identifier)??(g==null?void 0:g.name);return{resources:t,resource:g,resourceName:E,id:m,action:y,select:i,identifier:f}}let c,d=typeof e=="string"?e:o==null?void 0:o.resourceNameOrRouteName;if(d){let v=$e(d,t);v?c=v:c={name:d}}else n!=null&&n.resource&&(c=n.resource);return{resources:t,resource:c,resourceName:c==null?void 0:c.name,id:n.id,action:n.action,select:i,identifier:(c==null?void 0:c.identifier)??(c==null?void 0:c.name)}}p(Z,"useResource");var Li=p(()=>{let{resources:e}=T.useContext(Ht);return T.useCallback(t=>$e(t,e,!0)||{name:t,route:t},[e])},"useResourceWithRoute"),Xe=p(()=>{let{resources:e}=Z(),t=ft(),{keys:a,preferLegacyKeys:n}=pe();return T.useCallback(async({resource:o,dataProviderName:i,invalidates:l,id:s,invalidationFilters:u={type:"all",refetchType:"active"},invalidationOptions:c={cancelRefetch:!1}})=>{if(l===!1)return;let d=te(o,i,e),v=a().data(d).resource(o??"");await Promise.all(l.map(g=>{switch(g){case"all":return t.invalidateQueries(a().data(d).get(n),u,c);case"list":return t.invalidateQueries(v.action("list").get(n),u,c);case"many":return t.invalidateQueries(v.action("many").get(n),u,c);case"resourceAll":return t.invalidateQueries(v.get(n),u,c);case"detail":return t.invalidateQueries(v.action("one").id(s||"").get(n),u,c);default:return}}))},[])},"useInvalidate"),sr=p(({resource:e,params:t,channel:a,types:n,enabled:o=!0,liveMode:i,onLiveEvent:l,dataProviderName:s,meta:u})=>{var c;let{resource:d,identifier:v}=Z(e),g=T.useContext(Qt),{liveMode:m,onLiveEvent:y}=T.useContext(yt),E=i??m,f=Xe(),C=s??(u==null?void 0:u.dataProviderName)??((c=d==null?void 0:d.meta)==null?void 0:c.dataProviderName);T.useEffect(()=>{let h,P=p(b=>{E==="auto"&&f({resource:v,dataProviderName:C,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),l==null||l(b),y==null||y(b)},"callback");return E&&E!=="off"&&o&&(h=g==null?void 0:g.subscribe({channel:a,params:{resource:d==null?void 0:d.name,...t},types:n,callback:P,dataProviderName:C,meta:{...u,dataProviderName:C}})),()=>{h&&(g==null||g.unsubscribe(h))}},[o])},"useResourceSubscription"),Jr=p(e=>{let{liveMode:t}=T.useContext(yt);return e??t},"useLiveMode");p(({params:e,channel:t,types:a=["*"],enabled:n=!0,onLiveEvent:o,dataProviderName:i="default",meta:l})=>{let s=T.useContext(Qt);T.useEffect(()=>{let u;return n&&(u=s==null?void 0:s.subscribe({channel:t,params:e,types:a,callback:o,dataProviderName:i,meta:{...l,dataProviderName:i}})),()=>{u&&(s==null||s.unsubscribe(u))}},[n])},"useSubscription");var Mt=p(()=>{let e=T.useContext(Qt);return e==null?void 0:e.publish},"usePublish"),Gt=p(()=>{let{notifications:e,notificationDispatch:t}=T.useContext(wn);return{notifications:e,notificationDispatch:t}},"useCancelNotification"),ea=T.createContext({}),Ti=p(({open:e,close:t,children:a})=>r.createElement(ea.Provider,{value:{open:e,close:t}},a),"NotificationContextProvider"),wt=p(()=>{let{open:e,close:t}=T.useContext(ea);return{open:e,close:t}},"useNotification"),Qe=p(()=>{let{open:e}=wt();return T.useCallback((t,a)=>{t!==!1&&(t?e==null||e(t):a&&(e==null||e(a)))},[])},"useHandleNotification"),Ot=r.createContext({}),Ni=p(({children:e,i18nProvider:t})=>r.createElement(Ot.Provider,{value:{i18nProvider:t}},e),"TranslationContextProvider");p(()=>{let{i18nProvider:e}=T.useContext(Ot);return T.useCallback(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale");var _=p(()=>{let{i18nProvider:e}=T.useContext(Ot);return T.useMemo(()=>{function t(a,n,o){return(e==null?void 0:e.translate(a,n,o))??o??(typeof n=="string"&&typeof o>"u"?n:a)}return p(t,"translate"),t},[e])},"useTranslate");p(()=>{let{i18nProvider:e}=T.useContext(Ot);return T.useCallback(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale");p(({resourceName:e,resource:t,sorter:a,sorters:n,filters:o,maxItemCount:i,pageSize:l=20,mapData:s=p(E=>E,"mapData"),exportOptions:u,unparseConfig:c,meta:d,metaData:v,dataProviderName:g,onError:m,download:y}={})=>{let[E,f]=T.useState(!1),C=Ie(),h=Te(),{resource:P,resources:b,identifier:F}=Z(K(t,e)),x=`${ct()(F,"plural")}-${new Date().toLocaleString()}`,{getList:w}=C(te(F,g,b)),$=h({resource:P,meta:K(d,v)});return{isLoading:E,triggerExport:p(async()=>{f(!0);let L=[],D=1,M=!0;for(;M;)try{let{data:O,total:B}=await w({resource:(P==null?void 0:P.name)??"",filters:o,sort:K(n,a),sorters:K(n,a),pagination:{current:D,pageSize:l,mode:"server"},meta:$,metaData:$});D++,L.push(...O),i&&L.length>=i&&(L=L.slice(0,i),M=!1),B===L.length&&(M=!1)}catch(O){f(!1),M=!1,m==null||m(O);return}let S=typeof c<"u"&&c!==null;bt(S&&typeof u<"u"&&u!==null,`[useExport]: resource: "${F}" 

Both \`unparseConfig\` and \`exportOptions\` are set, \`unparseConfig\` will take precedence`);let k={filename:x,useKeysAsHeaders:!0,useBom:!0,title:"My Generated Report",quoteStrings:'"',...u};bt((u==null?void 0:u.decimalSeparator)!==void 0,`[useExport]: resource: "${F}" 

Use of \`decimalSeparator\` no longer supported, please use \`mapData\` instead.

See https://refine.dev/docs/api-reference/core/hooks/import-export/useExport/`),S?c={quotes:!0,...c}:c={columns:k.useKeysAsHeaders?void 0:k.headers,delimiter:k.fieldSeparator,header:k.showLabels||k.useKeysAsHeaders,quoteChar:k.quoteStrings,quotes:!0};let q=Ha.unparse(L.map(s),c);if(k.showTitle&&(q=`${k.title}\r

${q}`),typeof window<"u"&&q.length>0&&(y??!0)){let O=k.useTextFile?".txt":".csv",B=`text/${k.useTextFile?"plain":"csv"};charset=utf8;`,N=`${(k.filename??"download").replace(/ /g,"_")}${O}`;oi(N,`${k!=null&&k.useBom?"\uFEFF":""}${q}`,B)}return f(!1),q},"triggerExport")}},"useExport");var $i=p(({resource:e,action:t,id:a,onMutationSuccess:n,onMutationError:o,redirect:i,successNotification:l,errorNotification:s,meta:u,metaData:c,queryMeta:d,mutationMeta:v,mutationMode:g,liveMode:m,onLiveEvent:y,liveParams:E,undoableTimeout:f,dataProviderName:C,invalidates:h,queryOptions:P,createMutationOptions:b,updateMutationOptions:F,overtimeOptions:x,autoSave:w,optimisticUpdateMap:$}={})=>{let L=Xe(),{options:D}=he(),M=Te(),{resource:S,id:k,action:q,identifier:O}=Z(e),{identifier:B}=Z(),N=p(()=>e&&e!==B?a:a??k,"getDefaultId")(),[z,W]=r.useState(N);r.useEffect(()=>{W(N)},[N]);let I=p(()=>t||(q==="edit"||q==="clone"?q:"create"),"getAction")(),Q=M({resource:S,meta:K(u,c)}),{mutationMode:R}=Ct(),j=g??R,U=I==="create",H=I==="edit",V=I==="clone";bt((V||H)&&!!e&&!a&&(P==null?void 0:P.enabled)!==!1,`[useForm]: action: "${I}", resource: "${O}", id: ${z} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let Y=Go({redirectFromProps:i,action:I,redirectOptions:D.redirect}),J=Cn({resource:O,id:z??"",queryOptions:{enabled:z!==void 0&&(H||V),...P},liveMode:m,onLiveEvent:y,liveParams:E,meta:{...Q,...d},metaData:{...Q,...d},dataProviderName:C}),{isFetching:G}=J,X=Pn({mutationOptions:b}),{mutate:fe,isLoading:ae}=X,ne=ka({mutationOptions:F}),{mutate:ve,isLoading:oe}=ne,ye=ka({}),{setWarnWhen:Ee}=et(),Ne=Di(),be=p(async Ce=>{Ee(!1);let He=p(xe=>{Ne({redirect:Y,resource:S,id:xe,meta:K(u,c)})},"onSuccess");return j!=="pessimistic"&&setTimeout(()=>{He()}),new Promise((xe,at)=>{if(j!=="pessimistic"&&xe(),!!S)return fe({values:Ce,resource:O??S.name,successNotification:l,errorNotification:s,meta:{...Q,...v},metaData:{...Q,...v},dataProviderName:C,invalidates:h},{onSuccess:(ke,Ve,Ge)=>{var nt;n&&n(ke,Ce,Ge);let ot=(nt=ke==null?void 0:ke.data)==null?void 0:nt.id;He(ot),xe(ke)},onError:(ke,Ve,Ge)=>{if(o)return o(ke,Ce,Ge);at()}})})},"onFinishCreate");r.useEffect(()=>()=>{w!=null&&w.invalidateOnUnmount&&ye.status==="success"&&L({id:z,invalidates:h||["list","many","detail"],dataProviderName:C,resource:O})},[w==null?void 0:w.invalidateOnUnmount,ye.status]);let Ue=p(Ce=>{if(!S||!H)return;let He={id:z??"",values:Ce,resource:O??S.name,successNotification:!1,errorNotification:!1,meta:{...Q,...v},metaData:{...Q,...v},dataProviderName:C,invalidates:[],mutationMode:"pessimistic"};return ye.mutate(He,{onSuccess:(xe,at,ke)=>{n&&n(xe,Ce,ke,!0)},onError:(xe,at,ke)=>{if(o)return o(xe,Ce,ke,!0)}})},"onFinishAutoSaveMutation"),Zt=Qa(Ce=>Ue(Ce),(w==null?void 0:w.debounce)||1e3),At=U||V?{formLoading:G||ae,mutationResult:X,onFinish:be}:{formLoading:G||oe,mutationResult:ne,onFinish:p(async Ce=>{if(Ee(!1),!S)return;let He={id:z??"",values:Ce,resource:O??S.name,mutationMode:j,undoableTimeout:f,successNotification:l,errorNotification:s,meta:{...Q,...v},metaData:{...Q,...v},dataProviderName:C,invalidates:h,optimisticUpdateMap:$},xe=p(()=>{Ne({redirect:Y,resource:S,id:z,meta:K(u,c)})},"onSuccess");return j!=="pessimistic"&&setTimeout(()=>{xe()}),new Promise((at,ke)=>(j!=="pessimistic"&&at(),setTimeout(()=>{ve(He,{onSuccess:(Ve,Ge,nt)=>{n&&n(Ve,Ce,nt),j==="pessimistic"&&xe(),at(Ve)},onError:(Ve,Ge,nt)=>{if(o)return o(Ve,Ce,nt);ke()}})})))},"onFinishUpdate")},{elapsedTime:br}=De({isLoading:At.mutationResult.isLoading||J.isFetching,interval:x==null?void 0:x.interval,onInterval:x==null?void 0:x.onInterval});return{...At,queryResult:J,onFinishAutoSave:Zt,autoSaveProps:{status:ye.status,data:ye.data,error:ye.error},id:z,setId:W,redirect:(Ce,He)=>{Ne({redirect:Ce!==void 0?Ce:H?"list":"edit",resource:S,id:He??z,meta:K(u,c)})},overtime:{elapsedTime:br}}},"useForm"),Di=p(()=>{let{show:e,edit:t,list:a,create:n}=Pe();return T.useCallback(({redirect:o,resource:i,id:l,meta:s={}})=>{if(o&&i)return i.show&&o==="show"&&l?e(i,l,void 0,s):i.edit&&o==="edit"&&l?t(i,l,void 0,s):i.create&&o==="create"?n(i,void 0,s):a(i,"push",s)},[])},"useRedirectionAfterSubmission"),ur=p(()=>{let e=ee(),{resource:t,resources:a}=Z(),n=Re();return r.useCallback(({resource:o,action:i,meta:l})=>{var s;let u=o||t;if(!u)return;let c=(s=Ae(u,a,e==="legacy").find(d=>d.action===i))==null?void 0:s.route;return c?ze(c,u==null?void 0:u.meta,n,l):void 0},[a,t,n])},"useGetToPath"),qe=p(()=>{let e=T.useContext(Vt),{select:t}=Z(),a=ur(),n=r.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return T.useCallback(o=>{if(typeof o.to!="object")return n({...o,to:o.to});let{resource:i}=t(o.to.resource);qi(o.to,i);let l=a({resource:i,action:o.to.action,meta:{id:o.to.id,...o.to.meta}});return n({...o,to:l})},[t,n])},"useGo"),qi=p((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors"),cr=p(()=>{let e=T.useContext(Vt);return r.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack"),Pe=p(()=>{let{resources:e}=Z(),t=ee(),{useHistory:a}=ue(),n=a(),o=Re(),i=qe(),l=cr(),s=p((m,y="push")=>{t==="legacy"?n[y](m):i({to:m,type:y})},"handleUrl"),u=p((m,y={})=>{var E;if(t==="legacy"){let h=typeof m=="string"?$e(m,e,!0)??{name:m,route:m}:m,P=Ae(h,e,!0).find(b=>b.action==="create");return P?ze(P.route,h==null?void 0:h.meta,o,y):""}let f=typeof m=="string"?$e(m,e)??{name:m}:m,C=(E=Ae(f,e).find(h=>h.action==="create"))==null?void 0:E.route;return C?i({to:ze(C,f==null?void 0:f.meta,o,y),type:"path"}):""},"createUrl"),c=p((m,y,E={})=>{var f;let C=encodeURIComponent(y);if(t==="legacy"){let b=typeof m=="string"?$e(m,e,!0)??{name:m,route:m}:m,F=Ae(b,e,!0).find(x=>x.action==="edit");return F?ze(F.route,b==null?void 0:b.meta,o,{...E,id:C}):""}let h=typeof m=="string"?$e(m,e)??{name:m}:m,P=(f=Ae(h,e).find(b=>b.action==="edit"))==null?void 0:f.route;return P?i({to:ze(P,h==null?void 0:h.meta,o,{...E,id:C}),type:"path"}):""},"editUrl"),d=p((m,y,E={})=>{var f;let C=encodeURIComponent(y);if(t==="legacy"){let b=typeof m=="string"?$e(m,e,!0)??{name:m,route:m}:m,F=Ae(b,e,!0).find(x=>x.action==="clone");return F?ze(F.route,b==null?void 0:b.meta,o,{...E,id:C}):""}let h=typeof m=="string"?$e(m,e)??{name:m}:m,P=(f=Ae(h,e).find(b=>b.action==="clone"))==null?void 0:f.route;return P?i({to:ze(P,h==null?void 0:h.meta,o,{...E,id:C}),type:"path"}):""},"cloneUrl"),v=p((m,y,E={})=>{var f;let C=encodeURIComponent(y);if(t==="legacy"){let b=typeof m=="string"?$e(m,e,!0)??{name:m,route:m}:m,F=Ae(b,e,!0).find(x=>x.action==="show");return F?ze(F.route,b==null?void 0:b.meta,o,{...E,id:C}):""}let h=typeof m=="string"?$e(m,e)??{name:m}:m,P=(f=Ae(h,e).find(b=>b.action==="show"))==null?void 0:f.route;return P?i({to:ze(P,h==null?void 0:h.meta,o,{...E,id:C}),type:"path"}):""},"showUrl"),g=p((m,y={})=>{var E;if(t==="legacy"){let h=typeof m=="string"?$e(m,e,!0)??{name:m,route:m}:m,P=Ae(h,e,!0).find(b=>b.action==="list");return P?ze(P.route,h==null?void 0:h.meta,o,y):""}let f=typeof m=="string"?$e(m,e)??{name:m}:m,C=(E=Ae(f,e).find(h=>h.action==="list"))==null?void 0:E.route;return C?i({to:ze(C,f==null?void 0:f.meta,o,y),type:"path"}):""},"listUrl");return{create:p((m,y="push",E={})=>{s(u(m,E),y)},"create"),createUrl:u,edit:p((m,y,E="push",f={})=>{s(c(m,y,f),E)},"edit"),editUrl:c,clone:p((m,y,E="push",f={})=>{s(d(m,y,f),E)},"clone"),cloneUrl:d,show:p((m,y,E="push",f={})=>{s(v(m,y,f),E)},"show"),showUrl:v,list:p((m,y="push",E={})=>{s(g(m,E),y)},"list"),listUrl:g,push:p((m,...y)=>{t==="legacy"?n.push(m,...y):i({to:m,type:"push"})},"push"),replace:p((m,...y)=>{t==="legacy"?n.replace(m,...y):i({to:m,type:"replace"})},"replace"),goBack:p(()=>{t==="legacy"?n.goBack():l()},"goBack")}},"useNavigation"),mu=p(({resource:e,id:t,successNotification:a,errorNotification:n,meta:o,metaData:i,liveMode:l,onLiveEvent:s,dataProviderName:u,queryOptions:c,overtimeOptions:d}={})=>{let{resource:v,id:g,identifier:m}=Z(e),{identifier:y}=Z(),E=Te(),f=p(()=>e&&e!==y?t:t??g,"getDefaultId")(),[C,h]=T.useState(f);r.useEffect(()=>{h(f)},[f]);let P=E({resource:v,meta:K(o,i)});bt(!!e&&!t,`[useShow]: resource: "${m}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let b=Cn({resource:m,id:C??"",queryOptions:{enabled:C!==void 0,...c},successNotification:a,errorNotification:n,meta:P,metaData:P,liveMode:l,onLiveEvent:s,dataProviderName:u}),{elapsedTime:F}=De({isLoading:b.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{queryResult:b,showId:C,setShowId:h,overtime:{elapsedTime:F}}},"useShow"),Mi=p(({resourceName:e,resource:t,mapData:a=p(d=>d,"mapData"),paparseOptions:n,batchSize:o=Number.MAX_SAFE_INTEGER,onFinish:i,meta:l,metaData:s,onProgress:u,dataProviderName:c}={})=>{let[d,v]=T.useState(0),[g,m]=T.useState(0),[y,E]=T.useState(!1),{resource:f,identifier:C}=Z(t??e),h=Te(),P=Ei(),b=Pn(),F=h({resource:f,meta:K(l,s)}),x;o===1?x=b:x=P;let w=p(()=>{m(0),v(0),E(!1)},"handleCleanup"),$=p(D=>{let M={succeeded:D.filter(S=>S.type==="success"),errored:D.filter(S=>S.type==="error")};i==null||i(M),E(!1)},"handleFinish");T.useEffect(()=>{u==null||u({totalAmount:g,processedAmount:d})},[g,d]);let L=p(({file:D})=>(w(),new Promise(M=>{E(!0),Ha.parse(D,{complete:async({data:S})=>{let k=Ao(S,a);if(m(k.length),o===1){let q=k.map(B=>p(async()=>({response:await b.mutateAsync({resource:C??"",values:B,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:F,metaData:F}),value:B}),"fn")),O=await ha(q,({response:B,value:N})=>(v(z=>z+1),{response:[B.data],type:"success",request:[N]}),(B,N)=>({response:[B],type:"error",request:[k[N]]}));M(O)}else{let q=Fo(k,o),O=q.map(N=>p(async()=>({response:await P.mutateAsync({resource:C??"",values:N,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:F,metaData:F}),value:N,currentBatchLength:N.length}),"fn")),B=await ha(O,({response:N,currentBatchLength:z,value:W})=>(v(I=>I+z),{response:N.data,type:"success",request:W}),(N,z)=>({response:[N],type:"error",request:q[z]}));M(B)}},...n})}).then(M=>($(M),M))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:D=>{D.target.files&&D.target.files.length>0&&L({file:D.target.files[0]})}},mutationResult:x,isLoading:y,handleChange:L}},"useImport"),Fn=p(({defaultVisible:e=!1}={})=>{let[t,a]=T.useState(e),n=T.useCallback(()=>a(!0),[t]),o=T.useCallback(()=>a(!1),[t]);return{visible:t,show:n,close:o}},"useModal"),Ln=p(({resource:e,action:t,meta:a,legacy:n})=>ur()({resource:e,action:t,meta:a,legacy:n}),"useToPath"),Se=p(()=>{let e=T.useContext(Vt);return e!=null&&e.Link?e.Link:p(({to:t,...a})=>r.createElement("a",{href:t,...a}),"FallbackLink")},"useLink"),dt={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Oi=r.createContext(dt),ta=Oi,Ii=p(({children:e,useHistory:t,useLocation:a,useParams:n,Prompt:o,Link:i,routes:l})=>r.createElement(ta.Provider,{value:{useHistory:t??dt.useHistory,useLocation:a??dt.useLocation,useParams:n??dt.useParams,Prompt:o??dt.Prompt,Link:i??dt.Link,routes:l??dt.routes}},e),"LegacyRouterContextProvider"),ue=p(()=>{let e=T.useContext(ta),{useHistory:t,useLocation:a,useParams:n,Prompt:o,Link:i,routes:l}=e??dt;return{useHistory:t,useLocation:a,useParams:n,Prompt:o,Link:i,routes:l}},"useRouterContext"),tt=r.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),Ai=p(({can:e,children:t,options:a})=>r.createElement(tt.Provider,{value:{can:e,options:a?{...a,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...a.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1},queryOptions:void 0}}},t),"AccessControlContextProvider"),ra=p(e=>{if(!e)return;let{icon:t,list:a,edit:n,create:o,show:i,clone:l,children:s,meta:u,options:c,...d}=e,{icon:v,...g}=u??{},{icon:m,...y}=c??{};return{...d,...u?{meta:g}:{},...c?{options:y}:{}}},"sanitizeResource"),Pt=p(({action:e,resource:t,params:a,queryOptions:n})=>{let{can:o,options:i}=T.useContext(tt),{keys:l,preferLegacyKeys:s}=pe(),{queryOptions:u}=i||{},c={...u,...n},{resource:d,...v}=a??{},g=ra(d),m=We({queryKey:l().access().resource(t).action(e).params({params:{...v,resource:g},enabled:c==null?void 0:c.enabled}).get(s),queryFn:()=>(o==null?void 0:o({action:e,resource:t,params:{...v,resource:g}}))??Promise.resolve({can:!0}),enabled:typeof o<"u",...c,meta:{...c==null?void 0:c.meta,...re()},retry:!1});return typeof o>"u"?{data:{can:!0}}:m},"useCan");p(()=>{let{can:e}=r.useContext(tt);return{can:r.useMemo(()=>e?p(async({params:t,...a})=>{let n=t!=null&&t.resource?ra(t.resource):void 0;return e({...a,...t?{params:{...t,resource:n}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache");var aa=p(e=>{let[t,a]=T.useState([]),[n,o]=T.useState([]),[i,l]=T.useState([]),{resource:s,sort:u,sorters:c,filters:d=[],optionLabel:v="title",optionValue:g="id",searchField:m=typeof v=="string"?v:"title",debounce:y=300,successNotification:E,errorNotification:f,defaultValueQueryOptions:C,queryOptions:h,fetchSize:P,pagination:b,hasPagination:F=!1,liveMode:x,defaultValue:w=[],onLiveEvent:$,onSearch:L,liveParams:D,meta:M,metaData:S,dataProviderName:k,overtimeOptions:q}=e,O=T.useCallback(G=>typeof v=="string"?ga(G,v):v(G),[v]),B=T.useCallback(G=>typeof g=="string"?ga(G,g):g(G),[g]),{resource:N,identifier:z}=Z(s),W=Te()({resource:N,meta:K(M,S)}),I=Array.isArray(w)?w:[w],Q=T.useCallback(G=>{l(G.data.map(X=>({label:O(X),value:B(X)})))},[v,g]),R=C??h,j=vi({resource:z,ids:I,queryOptions:{...R,enabled:I.length>0&&((R==null?void 0:R.enabled)??!0),onSuccess:G=>{var X;Q(G),(X=R==null?void 0:R.onSuccess)==null||X.call(R,G)}},meta:W,metaData:W,liveMode:"off",dataProviderName:k}),U=T.useCallback(G=>{o(G.data.map(X=>({label:O(X),value:B(X)})))},[v,g]),H=bn({resource:z,sorters:K(c,u),filters:d.concat(t),pagination:{current:b==null?void 0:b.current,pageSize:(b==null?void 0:b.pageSize)??P,mode:b==null?void 0:b.mode},hasPagination:F,queryOptions:{...h,onSuccess:G=>{var X;U(G),(X=h==null?void 0:h.onSuccess)==null||X.call(h,G)}},successNotification:E,errorNotification:f,meta:W,metaData:W,liveMode:x,liveParams:D,onLiveEvent:$,dataProviderName:k}),V=p(G=>{if(L){a(L(G));return}if(!G){a([]);return}a([{field:m,operator:"contains",value:G}])},"onSearch"),{elapsedTime:Y}=De({isLoading:H.isFetching||j.isFetching,interval:q==null?void 0:q.interval,onInterval:q==null?void 0:q.onInterval}),J=T.useMemo(()=>Lo([...n,...i],"value"),[n,i]);return{queryResult:H,defaultValueQueryResult:j,options:J,onSearch:Qa(V,y),overtime:{elapsedTime:Y}}},"useSelect"),Fa=[],La=[];function na({initialCurrent:e,initialPageSize:t,hasPagination:a=!0,pagination:n,initialSorter:o,permanentSorter:i=La,defaultSetFilterBehavior:l,initialFilter:s,permanentFilter:u=Fa,filters:c,sorters:d,syncWithLocation:v,resource:g,successNotification:m,errorNotification:y,queryOptions:E,liveMode:f,onLiveEvent:C,liveParams:h,meta:P,metaData:b,dataProviderName:F,overtimeOptions:x}={}){var w,$,L,D,M;let{syncWithLocation:S}=ai(),k=v??S,q=Jr(f),O=ee(),{useLocation:B}=ue(),{search:N,pathname:z}=B(),W=Te(),I=Re(),Q=((c==null?void 0:c.mode)||"server")==="server",R=((d==null?void 0:d.mode)||"server")==="server",j=a===!1?"off":"server",U=((n==null?void 0:n.mode)??j)!=="off",H=K(n==null?void 0:n.current,e),V=K(n==null?void 0:n.pageSize,t),Y=K(P,b),{parsedCurrent:J,parsedPageSize:G,parsedSorter:X,parsedFilters:fe}=fn(N??"?"),ae=K(c==null?void 0:c.initial,s),ne=K(c==null?void 0:c.permanent,u)??Fa,ve=K(d==null?void 0:d.initial,o),oe=K(d==null?void 0:d.permanent,i)??La,ye=K(c==null?void 0:c.defaultBehavior,l)??"merge",Ee,Ne,be,Ue;k?(Ee=((w=I==null?void 0:I.params)==null?void 0:w.current)||J||H||1,Ne=(($=I==null?void 0:I.params)==null?void 0:$.pageSize)||G||V||10,be=((L=I==null?void 0:I.params)==null?void 0:L.sorters)||(X.length?X:ve),Ue=((D=I==null?void 0:I.params)==null?void 0:D.filters)||(fe.length?fe:ae)):(Ee=H||1,Ne=V||10,be=ve,Ue=ae);let{replace:Zt}=Pe(),At=qe(),{resource:br,identifier:Ce}=Z(g),He=W({resource:br,meta:Y});r.useEffect(()=>{bt(typeof Ce>"u","useTable: `resource` is not defined.")},[Ce]);let[xe,at]=T.useState(Sa(oe,be??[])),[ke,Ve]=T.useState(xa(ne,Ue??[])),[Ge,nt]=T.useState(Ee),[ot,ua]=T.useState(Ne),ca=p(()=>{if(O==="new"){let{sorters:ma,filters:Is,pageSize:As,current:Bs,...zn}=(I==null?void 0:I.params)??{};return zn}let{sorter:Fe,filters:_e,pageSize:wr,current:Pr,...xr}=Et.parse(N,{ignoreQueryPrefix:!0});return xr},"getCurrentQueryParams"),On=p(({pagination:{current:Fe,pageSize:_e},sorter:wr,filters:Pr})=>{if(O==="new")return At({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...U?{current:Fe,pageSize:_e}:{},sorters:wr,filters:Pr,...ca()}})??"";let xr=Et.parse(N==null?void 0:N.substring(1)),ma=wa({pagination:{pageSize:_e,current:Fe},sorters:xe??wr,filters:Pr,...xr});return`${z??""}?${ma??""}`},"createLinkForSyncWithLocation");T.useEffect(()=>{N===""&&(nt(Ee),ua(Ne),at(Sa(oe,be??[])),Ve(xa(ne,Ue??[])))},[N]),T.useEffect(()=>{if(k){let Fe=ca();if(O==="new")At({type:"replace",options:{keepQuery:!0},query:{...U?{pageSize:ot,current:Ge}:{},sorters:kt(xe,oe,mt),filters:kt(ke,ne,mt)}});else{let _e=wa({...U?{pagination:{pageSize:ot,current:Ge}}:{},sorters:kt(xe,oe,mt),filters:kt(ke,ne,mt),...Fe});return Zt==null?void 0:Zt(`${z}?${_e}`,void 0,{shallow:!0})}}},[k,Ge,ot,xe,ke]);let Cr=bn({resource:Ce,hasPagination:a,pagination:{current:Ge,pageSize:ot,mode:n==null?void 0:n.mode},filters:Q?Xt(ne,ke):void 0,sorters:R?Pa(oe,xe):void 0,queryOptions:E,successNotification:m,errorNotification:y,meta:He,metaData:He,liveMode:q,liveParams:h,onLiveEvent:C,dataProviderName:F}),In=p(Fe=>{Ve(_e=>Xt(ne,Fe,_e))},"setFiltersAsMerge"),An=p(Fe=>{Ve(Xt(ne,Fe))},"setFiltersAsReplace"),Bn=p(Fe=>{Ve(_e=>Xt(ne,Fe(_e)))},"setFiltersWithSetter"),Rn=p((Fe,_e=ye)=>{typeof Fe=="function"?Bn(Fe):_e==="replace"?An(Fe):In(Fe)},"setFiltersFn"),da=p(Fe=>{at(()=>Pa(oe,Fe))},"setSortWithUnion"),{elapsedTime:Un}=De({isLoading:Cr.isFetching,interval:x==null?void 0:x.interval,onInterval:x==null?void 0:x.onInterval});return{tableQueryResult:Cr,sorters:xe,setSorters:da,sorter:xe,setSorter:da,filters:ke,setFilters:Rn,current:Ge,setCurrent:nt,pageSize:ot,setPageSize:ua,pageCount:ot?Math.ceil((((M=Cr.data)==null?void 0:M.total)??0)/ot):1,createLinkForSyncWithLocation:On,overtime:{elapsedTime:Un}}}p(na,"useTable");var dr=r.createContext({}),Bi=p(({create:e,get:t,update:a,children:n})=>r.createElement(dr.Provider,{value:{create:e,get:t,update:a}},n),"AuditLogContextProvider"),It=p(({logMutationOptions:e,renameMutationOptions:t}={})=>{let a=ft(),n=T.useContext(dr),{keys:o,preferLegacyKeys:i}=pe(),l=de(),{resources:s}=T.useContext(Ht),{data:u,refetch:c,isLoading:d}=Kt({v3LegacyAuthProviderCompatible:!!(l!=null&&l.isLegacy),queryOptions:{enabled:!!(n!=null&&n.create)}}),v=we(async m=>{var y,E,f,C,h;let P=$e(m.resource,s),b=K((y=P==null?void 0:P.meta)==null?void 0:y.audit,(E=P==null?void 0:P.options)==null?void 0:E.audit,(C=(f=P==null?void 0:P.options)==null?void 0:f.auditLog)==null?void 0:C.permissions);if(b&&!Uo(b,m.action))return;let F;return d&&n!=null&&n.create&&(F=await c()),await((h=n.create)==null?void 0:h.call(n,{...m,author:u??(F==null?void 0:F.data)}))},{mutationKey:o().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...re()}}),g=we(async m=>{var y;return await((y=n.update)==null?void 0:y.call(n,m))},{onSuccess:m=>{m!=null&&m.resource&&a.invalidateQueries(o().audit().resource((m==null?void 0:m.resource)??"").action("list").get(i))},mutationKey:o().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...re()}});return{log:v,rename:g}},"useLog");p(({resource:e,action:t,meta:a,author:n,metaData:o,queryOptions:i})=>{let{get:l}=T.useContext(dr),{keys:s,preferLegacyKeys:u}=pe();return We({queryKey:s().audit().resource(e).action("list").params(a).get(u),queryFn:()=>(l==null?void 0:l({resource:e,action:t,author:n,meta:a,metaData:o}))??Promise.resolve([]),enabled:typeof l<"u",...i,retry:!1,meta:{...i==null?void 0:i.meta,...re()}})},"useLogList");var Ri=p(({meta:e={}}={})=>{let t=ee(),{i18nProvider:a}=T.useContext(Ot),n=Re(),o=_(),{resources:i,resource:l,action:s}=Z(),{options:{textTransformers:u}}=he(),c=[];if(!(l!=null&&l.name))return{breadcrumbs:c};let d=p(v=>{var g,m,y,E,f,C;let h=typeof v=="string"?$e(v,i,t==="legacy")??{name:v}:v;if(h){let P=K((g=h==null?void 0:h.meta)==null?void 0:g.parent,h==null?void 0:h.parentName);P&&d(P);let b=Ae(h,i,t==="legacy").find(w=>w.action==="list"),F=(m=b==null?void 0:b.resource)!=null&&m.list?b==null?void 0:b.route:void 0,x=F?t==="legacy"?F:ze(F,h==null?void 0:h.meta,n,e):void 0;c.push({label:K((y=h.meta)==null?void 0:y.label,(E=h.options)==null?void 0:E.label)??o(`${h.name}.${h.name}`,u.humanize(h.name)),href:x,icon:K((f=h.meta)==null?void 0:f.icon,(C=h.options)==null?void 0:C.icon,h.icon)})}},"addBreadcrumb");if(d(l),s&&s!=="list"){let v=`actions.${s}`,g=o(v);typeof a<"u"&&g===v?(bt(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${s}" action. Please add "actions.${s}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),c.push({label:o(`buttons.${s}`,u.humanize(s))})):c.push({label:o(v,u.humanize(s))})}return{breadcrumbs:c}},"useBreadcrumb"),rr=p((e,t,a=!1)=>{let n=[],o=pt(e,t);for(;o;)n.push(o),o=pt(o,t);return n.reverse(),`/${[...n,e].map(i=>lt((a?i.route:void 0)??i.identifier??i.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),Ui=p((e,t=!1)=>{let a={item:{name:"__root__"},children:{}};e.forEach(o=>{let i=[],l=pt(o,e);for(;l;)i.push(l),l=pt(l,e);i.reverse();let s=a;i.forEach(c=>{let d=(t?c.route:void 0)??c.identifier??c.name;s.children[d]||(s.children[d]={item:c,children:{}}),s=s.children[d]});let u=(t?o.route:void 0)??o.identifier??o.name;s.children[u]||(s.children[u]={item:o,children:{}})});let n=p(o=>{let i=[];return Object.keys(o.children).forEach(l=>{let s=rr(o.children[l].item,e,t),u={...o.children[l].item,key:s,children:n(o.children[l])};i.push(u)}),i},"flatten");return n(a)},"createTree"),Ta=p(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),oa=p(({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let a=_(),n=ur(),o=ee(),{resource:i,resources:l}=Z(),{pathname:s}=Re(),{useLocation:u}=ue(),{pathname:c}=u(),d=ct(),v=`/${((o==="legacy"?Ta(c):s?Ta(s):void 0)??"").replace(/^\//,"")}`,g=i?rr(i,l,o==="legacy"):v??"",m=r.useMemo(()=>{if(!i)return[];let f=pt(i,l),C=[rr(i,l)];for(;f;)C.push(rr(f,l)),f=pt(f,l);return C},[]),y=r.useCallback(f=>{var C,h,P,b,F,x;if((((C=f==null?void 0:f.meta)==null?void 0:C.hide)??((h=f==null?void 0:f.options)==null?void 0:h.hide))||!(f!=null&&f.list)&&f.children.length===0)return;let w=f.list?n({resource:f,action:"list",legacy:o==="legacy",meta:e}):void 0;if(!(t&&w&&w.match(/(\/|^):(.+?)(\/|$){1}/)))return{...f,route:w,icon:K((P=f.meta)==null?void 0:P.icon,(b=f.options)==null?void 0:b.icon,f.icon),label:K((F=f==null?void 0:f.meta)==null?void 0:F.label,(x=f==null?void 0:f.options)==null?void 0:x.label)??a(`${f.name}.${f.name}`,d(f.name,"plural"))}},[o,e,n,a,t]),E=r.useMemo(()=>{let f=Ui(l,o==="legacy"),C=p(h=>h.flatMap(P=>{let b=C(P.children),F=y({...P,children:b});return F?[F]:[]}),"prepare");return C(f)},[l,o,y]);return{defaultOpenKeys:m,selectedKey:g,menuItems:E}},"useMenu"),Te=p(()=>{let{params:e}=Re();return p(({resource:t,meta:a}={})=>{let{meta:n}=ra(t)??{meta:{}},{filters:o,sorters:i,current:l,pageSize:s,...u}=e??{};return{...n,...u,...a}},"getMetaFn")},"useMeta");p(()=>{let[e,t]=T.useState(),a=_(),{push:n}=Pe(),o=qe(),i=ee(),{resource:l,action:s}=Z();return T.useEffect(()=>{l&&s&&t(a("pages.error.info",{action:s,resource:l.name},`You may have forgotten to add the "${s}" component to "${l.name}" resource.`))},[l,s]),r.createElement(r.Fragment,null,r.createElement("h1",null,a("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&r.createElement("p",null,e),r.createElement("button",{onClick:()=>{i==="legacy"?n("/"):o({to:"/"})}},a("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent");var zi=p(()=>{let[e,t]=T.useState(""),[a,n]=T.useState(""),o=_(),i=de(),{mutate:l}=jt({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)});return r.createElement(r.Fragment,null,r.createElement("h1",null,o("pages.login.title","Sign in your account")),r.createElement("form",{onSubmit:s=>{s.preventDefault(),l({username:e,password:a})}},r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,o("pages.login.username",void 0,"username"),":"),r.createElement("td",null,r.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:s=>t(s.target.value)}))),r.createElement("tr",null,r.createElement("td",null,o("pages.login.password",void 0,"password"),":"),r.createElement("td",null,r.createElement("input",{type:"password",required:!0,size:20,value:a,onChange:s=>n(s.target.value)}))))),r.createElement("br",null),r.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),Wi=p(({providers:e,registerLink:t,forgotPasswordLink:a,rememberMe:n,contentProps:o,wrapperProps:i,renderContent:l,formProps:s,title:u=void 0,hideForm:c})=>{let d=ee(),v=Se(),{Link:g}=ue(),m=d==="legacy"?g:v,[y,E]=T.useState(""),[f,C]=T.useState(""),[h,P]=T.useState(!1),b=_(),F=de(),{mutate:x}=jt({v3LegacyAuthProviderCompatible:!!(F!=null&&F.isLegacy)}),w=p((D,M)=>r.createElement(m,{to:D},M),"renderLink"),$=p(()=>e?e.map(D=>r.createElement("div",{key:D.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},r.createElement("button",{onClick:()=>x({providerName:D.name}),style:{display:"flex",alignItems:"center"}},D==null?void 0:D.icon,D.label??r.createElement("label",null,D.label)))):null,"renderProviders"),L=r.createElement("div",{...o},r.createElement("h1",{style:{textAlign:"center"}},b("pages.login.title","Sign in to your account")),$(),!c&&r.createElement(r.Fragment,null,r.createElement("hr",null),r.createElement("form",{onSubmit:D=>{D.preventDefault(),x({email:y,password:f,remember:h})},...s},r.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},r.createElement("label",{htmlFor:"email-input"},b("pages.login.fields.email","Email")),r.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:y,onChange:D=>E(D.target.value)}),r.createElement("label",{htmlFor:"password-input"},b("pages.login.fields.password","Password")),r.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:f,onChange:D=>C(D.target.value)}),n??r.createElement(r.Fragment,null,r.createElement("label",{htmlFor:"remember-me-input"},b("pages.login.buttons.rememberMe","Remember me"),r.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:h,value:h.toString(),onChange:()=>{P(!h)}}))),r.createElement("br",null),a??w("/forgot-password",b("pages.login.buttons.forgotPassword","Forgot password?")),r.createElement("input",{type:"submit",value:b("pages.login.signin","Sign in")}),t??r.createElement("span",null,b("pages.login.buttons.noAccount","Dont have an account?")," ",w("/register",b("pages.login.register","Sign up")))))),t!==!1&&c&&r.createElement("div",{style:{textAlign:"center"}},b("pages.login.buttons.noAccount","Dont have an account?")," ",w("/register",b("pages.login.register","Sign up"))));return r.createElement("div",{...i},l?l(L,u):L)},"LoginPage"),Ki=p(({providers:e,loginLink:t,wrapperProps:a,contentProps:n,renderContent:o,formProps:i,title:l=void 0,hideForm:s})=>{let u=ee(),c=Se(),{Link:d}=ue(),v=u==="legacy"?d:c,[g,m]=T.useState(""),[y,E]=T.useState(""),f=_(),C=de(),{mutate:h,isLoading:P}=_r({v3LegacyAuthProviderCompatible:!!(C!=null&&C.isLegacy)}),b=p((w,$)=>r.createElement(v,{to:w},$),"renderLink"),F=p(()=>e?e.map(w=>r.createElement("div",{key:w.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},r.createElement("button",{onClick:()=>h({providerName:w.name}),style:{display:"flex",alignItems:"center"}},w==null?void 0:w.icon,w.label??r.createElement("label",null,w.label)))):null,"renderProviders"),x=r.createElement("div",{...n},r.createElement("h1",{style:{textAlign:"center"}},f("pages.register.title","Login As A Lecturer")),F(),!s&&r.createElement(r.Fragment,null,r.createElement("hr",null),r.createElement("form",{onSubmit:w=>{w.preventDefault(),h({email:g,password:y})},...i},r.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},r.createElement("label",{htmlFor:"email-input"},f("pages.register.fields.email","Email")),r.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:w=>m(w.target.value)}),r.createElement("label",{htmlFor:"password-input"},f("pages.register.fields.password","Password")),r.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:y,onChange:w=>E(w.target.value)}),r.createElement("input",{type:"submit",value:f("pages.register.buttons.submit","Sign up"),disabled:P}),t??r.createElement(r.Fragment,null,r.createElement("span",null,f("pages.login.buttons.haveAccount","Have an account?")," ",b("/login",f("pages.login.signin","Sign in"))))))),t!==!1&&s&&r.createElement("div",{style:{textAlign:"center"}},f("pages.login.buttons.haveAccount","Have an account?")," ",b("/login",f("pages.login.signin","Sign in"))));return r.createElement("div",{...a},o?o(x,l):x)},"RegisterPage"),ji=p(({loginLink:e,wrapperProps:t,contentProps:a,renderContent:n,formProps:o,title:i=void 0})=>{let l=_(),s=ee(),u=Se(),{Link:c}=ue(),d=s==="legacy"?c:u,[v,g]=T.useState(""),{mutate:m,isLoading:y}=Zr(),E=p((C,h)=>r.createElement(d,{to:C},h),"renderLink"),f=r.createElement("div",{...a},r.createElement("h1",{style:{textAlign:"center"}},l("pages.forgotPassword.title","Forgot your password?")),r.createElement("hr",null),r.createElement("form",{onSubmit:C=>{C.preventDefault(),m({email:v})},...o},r.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},r.createElement("label",{htmlFor:"email-input"},l("pages.forgotPassword.fields.email","Email")),r.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:v,onChange:C=>g(C.target.value)}),r.createElement("input",{type:"submit",disabled:y,value:l("pages.forgotPassword.buttons.submit","Send reset instructions")}),r.createElement("br",null),e??r.createElement("span",null,l("pages.register.buttons.haveAccount","Have an account? ")," ",E("/login",l("pages.login.signin","Sign in"))))));return r.createElement("div",{...t},n?n(f,i):f)},"ForgotPasswordPage"),Qi=p(({wrapperProps:e,contentProps:t,renderContent:a,formProps:n,title:o=void 0})=>{let i=_(),l=de(),{mutate:s,isLoading:u}=Yr({v3LegacyAuthProviderCompatible:!!(l!=null&&l.isLegacy)}),[c,d]=T.useState(""),[v,g]=T.useState(""),m=r.createElement("div",{...t},r.createElement("h1",{style:{textAlign:"center"}},i("pages.updatePassword.title","Update Password")),r.createElement("hr",null),r.createElement("form",{onSubmit:y=>{y.preventDefault(),s({password:c,confirmPassword:v})},...n},r.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},r.createElement("label",{htmlFor:"password-input"},i("pages.updatePassword.fields.password","New Password")),r.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:c,onChange:y=>d(y.target.value)}),r.createElement("label",{htmlFor:"confirm-password-input"},i("pages.updatePassword.fields.confirmPassword","Confirm New Password")),r.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:v,onChange:y=>g(y.target.value)}),r.createElement("input",{type:"submit",disabled:u,value:i("pages.updatePassword.buttons.submit","Update")}))));return r.createElement("div",{...e},a?a(m,o):m)},"UpdatePasswordPage");p(e=>{let{type:t}=e;return r.createElement(r.Fragment,null,p(()=>{switch(t){case"register":return r.createElement(Ki,{...e});case"forgotPassword":return r.createElement(ji,{...e});case"updatePassword":return r.createElement(Qi,{...e});default:return r.createElement(Wi,{...e})}},"renderView")())},"AuthPage");var Hi=p(()=>r.createElement(r.Fragment,null,r.createElement("h1",null,"Welcome on board"),r.createElement("p",null,"Your configuration is completed."),r.createElement("p",null,"Now you can get started by adding your resources to the"," ",r.createElement("code",null,"`resources`")," property of ",r.createElement("code",null,"`<Refine>`")),r.createElement("div",{style:{display:"flex",gap:8}},r.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},r.createElement("button",null,"Documentation")),r.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},r.createElement("button",null,"Examples")),r.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},r.createElement("button",null,"Community")))),"ReadyPage"),Vi=[{title:"Documentation",description:"Learn about the technical details of using Refine in your projects.",link:"https://refine.dev/docs",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use Refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/tutorial",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Templates",description:"Explore a range of pre-built templates, perfect everything from admin panels to dashboards and CRMs.",link:"https://refine.dev/templates",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],Gi=p(()=>{let e=Ea("(max-width: 1010px)"),t=Ea("(max-width: 650px)"),a=p(()=>t?"1, 280px":e?"2, 280px":"4, 1fr","getGridTemplateColumns"),n=p(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),o=p(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return r.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},r.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},r.createElement("div",{style:{zIndex:2,position:"absolute",width:t?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),r.createElement("div",{style:{height:t?"40px":"80px"}}),r.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:t?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:t?112:224,height:t?58:116}})),r.createElement("div",{style:{height:t?"120px":e?"200px":"30vh",minHeight:t?"120px":"200px"}}),r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},r.createElement("h1",{style:{fontSize:n(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),r.createElement("h4",{style:{fontSize:o(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),r.createElement("div",{style:{height:"64px"}}),r.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${a()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},Vi.map(i=>r.createElement(_i,{key:`welcome-page-${i.title}`,card:i})))))},"ConfigSuccessPage"),_i=p(({card:e})=>{let{title:t,description:a,iconUrl:n,link:o}=e,[i,l]=T.useState(!1);return r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement("a",{onPointerEnter:()=>l(!0),onPointerLeave:()=>l(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:o},r.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`}}),r.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),r.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...i&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),r.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},a))},"Card"),Zi=p(()=>r.createElement("div",{style:{position:"fixed",zIndex:11,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},r.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"24px",background:"#14141FBF",backdropFilter:"blur(3px)"}},r.createElement("div",{style:{maxWidth:"640px",width:"100%",background:"#1D1E30",borderRadius:"16px",border:"1px solid #303450",boxShadow:"0px 0px 120px -24px #000000"}},r.createElement("div",{style:{padding:"16px 20px",borderBottom:"1px solid #303450",display:"flex",alignItems:"center",gap:"8px",position:"relative"}},r.createElement(Xi,{style:{position:"absolute",left:0,top:0}}),r.createElement("div",{style:{lineHeight:"24px",fontSize:"16px",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"16px"}},r.createElement(Ji,null),r.createElement("span",{style:{fontWeight:400}},"Configuration Error"))),r.createElement("div",{style:{padding:"20px",color:"#A3ADC2",lineHeight:"20px",fontSize:"14px",display:"flex",flexDirection:"column",gap:"20px"}},r.createElement("p",{style:{margin:0,padding:0,lineHeight:"28px",fontSize:"16px"}},r.createElement("code",{style:{display:"inline-block",background:"#30345080",padding:"0 4px",lineHeight:"24px",fontSize:"16px",borderRadius:"4px",color:"#FFFFFF"}},"<Refine />")," ","is not initialized. Please make sure you have it mounted in your app and placed your components inside it."),r.createElement("div",null,r.createElement(Yi,null)))))),"ConfigErrorPage"),Yi=p(()=>r.createElement("pre",{style:{display:"block",overflowX:"auto",borderRadius:"8px",fontSize:"14px",lineHeight:"24px",backgroundColor:"#14141F",color:"#E5ECF2",padding:"16px",margin:"0",maxHeight:"400px",overflow:"auto"}},r.createElement("span",{style:{color:"#FF7B72"}},"import")," ","{"," Refine, WelcomePage"," ","}"," ",r.createElement("span",{style:{color:"#FF7B72"}},"from")," ",r.createElement("span",{style:{color:"#A5D6FF"}},'"@refinedev/core"'),";",`
`,`
`,r.createElement("span",{style:{color:"#FF7B72"}},"export")," ",r.createElement("span",{style:{color:"#FF7B72"}},"default")," ",r.createElement("span",null,r.createElement("span",{style:{color:"#FF7B72"}},"function")," ",r.createElement("span",{style:{color:"#FFA657"}},"App"),"(",r.createElement("span",{style:{color:"rgb(222, 147, 95)"}}),")"," "),"{",`
`,"  ",r.createElement("span",{style:{color:"#FF7B72"}},"return")," (",`
`,"    ",r.createElement("span",null,r.createElement("span",{style:{color:"#79C0FF"}},"<",r.createElement("span",{style:{color:"#79C0FF"}},"Refine"),`
`,"      ",r.createElement("span",{style:{color:"#E5ECF2",opacity:.6}},"// ",r.createElement("span",null,"...")),`
`,"    ",">"),`
`,"      ",r.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"      ",r.createElement("span",{style:{color:"#79C0FF"}},"<",r.createElement("span",{style:{color:"#79C0FF"}},"WelcomePage")," />"),`
`,"      ",r.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"    ",r.createElement("span",{style:{color:"#79C0FF"}},"</",r.createElement("span",{style:{color:"#79C0FF"}},"Refine"),">")),`
`,"  ",");",`
`,"}"),"ExampleImplementation"),Xi=p(e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:204,height:56,viewBox:"0 0 204 56",fill:"none",...e},r.createElement("path",{fill:"url(#welcome-page-error-gradient-a)",d:"M12 0H0v12L12 0Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-b)",d:"M28 0h-8L0 20v8L28 0Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-c)",d:"M36 0h8L0 44v-8L36 0Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-d)",d:"M60 0h-8L0 52v4h4L60 0Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-e)",d:"M68 0h8L20 56h-8L68 0Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-f)",d:"M92 0h-8L28 56h8L92 0Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-g)",d:"M100 0h8L52 56h-8l56-56Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-h)",d:"M124 0h-8L60 56h8l56-56Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-i)",d:"M140 0h-8L76 56h8l56-56Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-j)",d:"M132 0h8L84 56h-8l56-56Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-k)",d:"M156 0h-8L92 56h8l56-56Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-l)",d:"M164 0h8l-56 56h-8l56-56Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-m)",d:"M188 0h-8l-56 56h8l56-56Z"}),r.createElement("path",{fill:"url(#welcome-page-error-gradient-n)",d:"M204 0h-8l-56 56h8l56-56Z"}),r.createElement("defs",null,r.createElement("radialGradient",{id:"welcome-page-error-gradient-a",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-b",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-c",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-d",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-e",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-f",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-g",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-h",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-i",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-j",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-k",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-l",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-m",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),r.createElement("radialGradient",{id:"welcome-page-error-gradient-n",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),r.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})))),"ErrorGradient"),Ji=p(e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e},r.createElement("path",{fill:"#FF4C4D",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z",clipRule:"evenodd"}),r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7 8a1 1 0 1 0 2 0V5a1 1 0 1 0-2 0v3Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"})),"ErrorIcon"),el=p(()=>{let{__initialized:e}=he();return r.createElement(r.Fragment,null,r.createElement(Gi,null),!e&&r.createElement(Zi,null))},"WelcomePage"),tl="4.48.0",rl=p(()=>{var e;let t=lr(),a=T.useContext(dr),n=T.useContext(Qt),o=T.useContext(ta),i=T.useContext(Xr),{i18nProvider:l}=T.useContext(Ot),s=T.useContext(ea),u=T.useContext(tt),{resources:c}=Z(),d=he(),v=!!a.create||!!a.get||!!a.update,g=!!(n!=null&&n.publish)||!!(n!=null&&n.subscribe)||!!(n!=null&&n.unsubscribe),m=!!o.useHistory||!!o.Link||!!o.Prompt||!!o.useLocation||!!o.useParams,y=!!i,E=!!(l!=null&&l.changeLocale)||!!(l!=null&&l.getLocale)||!!(l!=null&&l.translate),f=!!s.close||!!s.open,C=!!u.can,h=(e=d==null?void 0:d.options)==null?void 0:e.projectId;return{providers:{auth:t,auditLog:v,live:g,router:m,data:y,i18n:E,notification:f,accessControl:C},version:tl,resourceCount:c.length,projectId:h}},"useTelemetryData"),al=p(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),nl=p(e=>{let t=new Image;t.src=e},"throughImage"),ol=p(e=>{fetch(e)},"throughFetch"),il=p(e=>{typeof Image<"u"?nl(e):typeof fetch<"u"&&ol(e)},"transport"),ll=p(()=>{let e=rl(),t=r.useRef(!1);return r.useEffect(()=>{if(t.current)return;let a=al(e);a&&(il(`https://telemetry.refine.dev/telemetry?payload=${a}`),t.current=!0)},[]),null},"Telemetry"),sl=p(e=>{let t=["go","parse","back","Link"],a=Object.keys(e).filter(n=>!t.includes(n));return a.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${a.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),ul=p(e=>{let t=r.useRef(!1);r.useEffect(()=>{t.current===!1&&e&&sl(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning"),pu=p(({legacyAuthProvider:e,authProvider:t,dataProvider:a,legacyRouterProvider:n,routerProvider:o,notificationProvider:i,accessControlProvider:l,auditLogProvider:s,resources:u,DashboardPage:c,ReadyPage:d,LoginPage:v,catchAll:g,children:m,liveProvider:y,i18nProvider:E,Title:f,Layout:C,Sider:h,Header:P,Footer:b,OffLayoutArea:F,onLiveEvent:x,options:w})=>{let{optionsWithDefaults:$,disableTelemetryWithDefault:L,reactQueryWithDefaults:D}=Vo({options:w}),M=xn(()=>{var q;return D.clientConfig instanceof pa?D.clientConfig:new pa({...D.clientConfig,defaultOptions:{...D.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(q=D.clientConfig.defaultOptions)==null?void 0:q.queries}}})},[D.clientConfig]),S=r.useMemo(()=>typeof i=="function"?i:()=>i??{},[i])();if(ul(o),n&&!o&&(u??[]).length===0)return d?r.createElement(d,null):r.createElement(Hi,null);let{RouterComponent:k=r.Fragment}=o?{}:n??{};return r.createElement(xo,{client:M},r.createElement(Ti,{...S},r.createElement(ei,{...e??{},isProvided:!!e},r.createElement(ti,{...t??{},isProvided:!!t},r.createElement(Ci,{...a},r.createElement(wi,{liveProvider:y},r.createElement(Si,{value:n&&!o?"legacy":"new"},r.createElement(ki,{router:o},r.createElement(Ii,{...n},r.createElement(xi,{resources:u??[]},r.createElement(Ni,{i18nProvider:E},r.createElement(Ai,{...l??{}},r.createElement(Bi,{...s??{}},r.createElement(yi,null,r.createElement(Ho,{mutationMode:$.mutationMode,warnWhenUnsavedChanges:$.warnWhenUnsavedChanges,syncWithLocation:$.syncWithLocation,Title:f,undoableTimeout:$.undoableTimeout,catchAll:g,DashboardPage:c,LoginPage:v,Layout:C,Sider:h,Footer:b,Header:P,OffLayoutArea:F,hasDashboard:!!c,liveMode:$.liveMode,onLiveEvent:x,options:$},r.createElement(ri,null,r.createElement(k,null,m,!L&&r.createElement(ll,null),r.createElement(gl,null))))))))))))))))))},"Refine"),cl=p(({notification:e})=>{let t=_(),{notificationDispatch:a}=Gt(),{open:n}=wt(),[o,i]=T.useState(),l=p(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||n==null||n({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Fr(e.seconds)},`You have ${Fr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Fr(e.seconds)}),e.seconds>0)){o&&clearTimeout(o);let s=setTimeout(()=>{a({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(s)}},"cancelNotification");return T.useEffect(()=>{l()},[e]),null},"UndoableQueue");p(({children:e,Layout:t,Sider:a,Header:n,Title:o,Footer:i,OffLayoutArea:l})=>{let{Layout:s,Footer:u,Header:c,Sider:d,Title:v,OffLayoutArea:g}=he();return r.createElement(t??s,{Sider:a??d,Header:n??c,Footer:i??u,Title:o??v,OffLayoutArea:l??g},e,r.createElement(dl,null))},"LayoutWrapper");var dl=p(()=>{let{Prompt:e}=ue(),t=_(),{warnWhen:a,setWarnWhen:n}=et(),o=p(i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue),"warnWhenListener");return T.useEffect(()=>(a&&window.addEventListener("beforeunload",o),window.removeEventListener("beforeunload",o)),[a]),r.createElement(e,{when:a,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:n})},"UnsavedPrompt");function ml({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:a,fallback:n,loading:o}){var i;let l=de(),s=ee(),u=!!(l!=null&&l.isProvided),c=!!(l!=null&&l.isLegacy),d=s==="legacy",v=Re(),g=qe(),{useLocation:m}=ue(),y=m(),{isFetching:E,isSuccess:f,data:{authenticated:C,redirectTo:h}={}}=En({v3LegacyAuthProviderCompatible:c}),P=u?c?f:C:!0;if(!u)return r.createElement(r.Fragment,null,a??null);if(E)return r.createElement(r.Fragment,null,o??null);if(P)return r.createElement(r.Fragment,null,a??null);if(typeof n<"u")return r.createElement(r.Fragment,null,n??null);let b=c?typeof e=="string"?e:"/login":typeof e=="string"?e:h,F=`${d?y==null?void 0:y.pathname:v.pathname}`.replace(/(\?.*|#.*)$/,"");if(b){if(d){let x=t?`?to=${encodeURIComponent(F)}`:"";return r.createElement(vl,{to:`${b}${x}`})}return r.createElement(pl,{config:{to:b,query:t?{to:(i=v.params)!=null&&i.to?v.params.to:g({to:F,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"}})}return null}p(ml,"Authenticated");var pl=p(({config:e})=>{let t=qe();return r.useEffect(()=>{t(e)},[t,e]),null},"Redirect"),vl=p(({to:e})=>{let{replace:t}=Pe();return r.useEffect(()=>{t(e)},[t,e]),null},"RedirectLegacy"),gl=p(()=>{let{useLocation:e}=ue(),{checkAuth:t}=Ke(),a=e();return T.useEffect(()=>{t==null||t().catch(()=>!1)},[a==null?void 0:a.pathname]),null},"RouteChangeHandler"),$t=p(({resource:e,action:t,params:a,fallback:n,onUnauthorized:o,children:i,queryOptions:l,...s})=>{let{resource:u,id:c,action:d}=Z(e),{identifier:v}=Z(),g=p(()=>{let C=(a==null?void 0:a.id)??c;return e&&e!==v?a==null?void 0:a.id:C},"getDefaultId")(),m=e??(u==null?void 0:u.name),y=t??d??"",E=a??{id:g,resource:u},{data:f}=Pt({resource:m,action:y,params:E,queryOptions:l});return T.useEffect(()=>{o&&(f==null?void 0:f.can)===!1&&o({resource:m,action:y,reason:f==null?void 0:f.reason,params:E})},[f==null?void 0:f.can]),f!=null&&f.can?r.isValidElement(i)?r.cloneElement(i,s):r.createElement(r.Fragment,null,i):(f==null?void 0:f.can)===!1?r.createElement(r.Fragment,null,n??null):null},"CanAccess"),fl=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `],yl="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub";p(()=>(T.useEffect(()=>{let e=document.createElement("style");document.head.appendChild(e),fl.forEach(t=>{var a;return(a=e.sheet)==null?void 0:a.insertRule(t,e.sheet.cssRules.length)})},[]),r.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},r.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26"}},r.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},r.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},r.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},r.createElement(Jt,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),r.createElement(Jt,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),r.createElement(Na,{style:{position:"absolute",right:"10px"},id:"3"})),r.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},r.createElement(Jt,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),r.createElement(Jt,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),r.createElement(Na,{style:{position:"absolute",right:"-70px"},id:"6"})))),r.createElement(hl,{text:yl})))),"GitHubBanner");var hl=p(({text:e})=>r.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},r.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},r.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},""),r.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},e),r.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},""))),"Text"),Jt=p(({style:e,...t})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},r.createElement("circle",{cx:40,r:40,fill:`url(#${t.id}-a)`,fillOpacity:.5}),r.createElement("defs",null,r.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#47EBEB"}),r.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),Na=p(({style:e,...t})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...t,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},r.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${t.id}-a)`,fillOpacity:.5}),r.createElement("defs",null,r.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#47EBEB"}),r.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig"),El=p(({status:e,elements:{success:t=r.createElement(er,{key:"autoSave.success",defaultMessage:"saved"}),error:a=r.createElement(er,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:n=r.createElement(er,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:o=r.createElement(er,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return r.createElement(r.Fragment,null,t);case"error":return r.createElement(r.Fragment,null,a);case"loading":return r.createElement(r.Fragment,null,n);default:return r.createElement(r.Fragment,null,o)}},"AutoSaveIndicator"),er=p(({key:e,defaultMessage:t})=>{let a=_();return r.createElement("span",null,a(e,t))},"Message"),$a={Title:"refine-pageHeader-title",SubTitle:"refine-pageHeader-subTitle"},rt={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"},bl=Object.defineProperty,A=(e,t)=>bl(e,"name",{value:t,configurable:!0}),mr=A(({action:e,resource:t,onMutationSuccess:a,onMutationError:n,autoSave:o,submitOnEnter:i=!1,warnWhenUnsavedChanges:l,redirect:s,successNotification:u,errorNotification:c,meta:d,metaData:v,queryMeta:g,mutationMeta:m,liveMode:y,liveParams:E,mutationMode:f,dataProviderName:C,onLiveEvent:h,invalidates:P,undoableTimeout:b,queryOptions:F,createMutationOptions:x,updateMutationOptions:w,id:$,overtimeOptions:L,optimisticUpdateMap:D,disableServerSideValidation:M=!1}={})=>{var S,k;let{options:q}=he(),O=(q==null?void 0:q.disableServerSideValidation)||M,B=_(),[N]=se.useForm(),z=Ua({form:N}),{form:W}=z,I=$i({onMutationSuccess:a||void 0,onMutationError:async(ae,ne,ve)=>{if(O){n==null||n(ae,ne,ve);return}let oe=[],ye=W.getFieldsValue();oe=Object.keys(Br(ye)).map(Ne=>({name:Ca(Ne),errors:void 0})),W.setFields(oe);let Ee=ae==null?void 0:ae.errors;for(let Ne in Ee){let be=Ee[Ne],Ue=[];Array.isArray(be)&&(Ue=be),typeof be=="string"&&(Ue=[be]),typeof be=="boolean"&&be&&(Ue=["Field is not valid."]),typeof be=="object"&&"key"in be&&(Ue=[B(be.key,be.message)]),oe.push({name:Ca(Ne),errors:Ue})}W.setFields([...oe]),n==null||n(ae,ne,ve)},redirect:s,action:e,resource:t,successNotification:u,errorNotification:c,meta:K(d,v),metaData:K(d,v),queryMeta:g,mutationMeta:m,liveMode:y,liveParams:E,mutationMode:f,dataProviderName:C,onLiveEvent:h,invalidates:P,undoableTimeout:b,queryOptions:F,createMutationOptions:x,updateMutationOptions:w,id:$,overtimeOptions:L,optimisticUpdateMap:D,autoSave:o}),{formLoading:Q,onFinish:R,queryResult:j,id:U,onFinishAutoSave:H}=I,{warnWhenUnsavedChanges:V,setWarnWhen:Y}=et(),J=l??V;r.useEffect(()=>{W.resetFields()},[(S=j==null?void 0:j.data)==null?void 0:S.data,U]);let G=A(ae=>{i&&ae.key==="Enter"&&W.submit()},"onKeyUp"),X=A((ae,ne)=>{if(ae&&J&&Y(!0),o!=null&&o.enabled){Y(!1);let ve=(o==null?void 0:o.onFinish)??(oe=>oe);return H(ve(ne))}return ae},"onValuesChange"),fe={disabled:Q,onClick:()=>{W.submit()}};return{form:z.form,formProps:{...z.formProps,onFinish:ae=>R(ae).catch(ne=>ne),onKeyUp:G,onValuesChange:X,initialValues:(k=j==null?void 0:j.data)==null?void 0:k.data},saveButtonProps:fe,...I,onFinish:async ae=>await R(ae??z.form.getFieldsValue(!0))}},"useForm"),Cl=A(({modalProps:e={}}={})=>{let{show:t,close:a,visible:n}=Fn({defaultVisible:e.open});return{modalProps:{...e,onCancel:o=>{var i;(i=e.onCancel)==null||i.call(e,o),a()},open:n,visible:n},show:t,close:a}},"useModal"),vu=A(({syncWithLocation:e,defaultVisible:t=!1,autoSubmitClose:a=!0,autoResetForm:n=!0,autoSave:o,invalidates:i,...l})=>{var s,u;let[c,d]=r.useState(!1),v=Xe(),{resource:g,action:m,identifier:y}=Z(l.resource),E=Re(),f=qe(),C=ct(),h=l.action??m??"",P=!(typeof e=="object"&&(e==null?void 0:e.syncId)===!1),b=typeof e=="object"&&"key"in e?e.key:g&&h&&e?`modal-${y}-${h}`:void 0,F=mr({meta:{...b?{[b]:void 0}:{},...l.meta},autoSave:o,invalidates:i,...l}),{form:x,formProps:w,id:$,setId:L,formLoading:D,onFinish:M,autoSaveProps:S}=F,k=_(),{warnWhen:q,setWarnWhen:O}=et(),{show:B,close:N,modalProps:z}=Cl({modalProps:{open:t}}),W=z.open||!1,I={modalProps:z,form:x,formLoading:D,formProps:w,formResult:void 0,formValues:x.getFieldsValue,defaultFormValuesLoading:!1,initialValues:{},submit:M,close:N,open:z.open||!1,show:B,visible:W};r.useEffect(()=>{var Y,J,G,X;if(c===!1&&b){let fe=(J=(Y=E==null?void 0:E.params)==null?void 0:Y[b])==null?void 0:J.open;if(typeof fe=="boolean"?fe&&B():typeof fe=="string"&&fe==="true"&&B(),P){let ae=(X=(G=E==null?void 0:E.params)==null?void 0:G[b])==null?void 0:X.id;ae&&(L==null||L(ae))}d(!0)}},[b,E,P,L]),r.useEffect(()=>{var Y;c===!0&&(W&&b?f({query:{[b]:{...(Y=E==null?void 0:E.params)==null?void 0:Y[b],open:!0,...P&&$&&{id:$}}},options:{keepQuery:!0},type:"replace"}):b&&!W&&f({query:{[b]:void 0},options:{keepQuery:!0},type:"replace"}))},[$,W,B,b,P]);let Q={disabled:D,loading:D,onClick:()=>{x.submit()}},R=T.useCallback(()=>{if(S.status==="success"&&o!=null&&o.invalidateOnClose&&v({id:$,invalidates:i||["list","many","detail"],dataProviderName:l.dataProviderName,resource:y}),q)if(window.confirm(k("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))O(!1);else return;L==null||L(void 0),I.close()},[q,S.status]),j=T.useCallback(Y=>{typeof Y<"u"&&(L==null||L(Y)),(!(h==="edit"||h==="clone")||typeof Y<"u"||typeof $<"u")&&I.show()},[$]),{visible:U,...H}=z,V={open:U,...H};return{...F,...I,show:j,close:R,open:W,formProps:{...w,...F.formProps,onValuesChange:w==null?void 0:w.onValuesChange,onKeyUp:w==null?void 0:w.onKeyUp,onFinish:async Y=>{await M(Y),a&&N(),n&&x.resetFields()}},modalProps:{...V,width:"1000px",okButtonProps:Q,title:k(`${y}.titles.${l.action}`,`${C(`${l.action} ${((s=g==null?void 0:g.meta)==null?void 0:s.label)??((u=g==null?void 0:g.options)==null?void 0:u.label)??(g==null?void 0:g.label)??y}`,"singular")}`),okText:k("buttons.save","Save"),cancelText:k("buttons.cancel","Cancel"),onCancel:R,forceRender:!0},formLoading:D}},"useModalForm");A(({syncWithLocation:e,defaultVisible:t=!1,autoSubmitClose:a=!0,autoResetForm:n=!0,autoSave:o,invalidates:i,...l})=>{let s=Xe(),[u,c]=r.useState(!1),{visible:d,show:v,close:g}=Fn({defaultVisible:t}),{resource:m,action:y,identifier:E}=Z(l.resource),f=Re(),C=qe(),h=l.action??y??"",P=!(typeof e=="object"&&(e==null?void 0:e.syncId)===!1),b=typeof e=="object"&&"key"in e?e.key:m&&h&&e?`drawer-${(m==null?void 0:m.identifier)??(m==null?void 0:m.name)}-${h}`:void 0,F=mr({meta:{...b?{[b]:void 0}:{},...l.meta},autoSave:o,invalidates:i,...l}),{form:x,formProps:w,formLoading:$,id:L,setId:D,onFinish:M,autoSaveProps:S}=F;r.useEffect(()=>{var I,Q,R,j;if(u===!1&&b){let U=(Q=(I=f==null?void 0:f.params)==null?void 0:I[b])==null?void 0:Q.open;if(typeof U=="boolean"?U?v():g():typeof U=="string"&&U==="true"&&v(),P){let H=(j=(R=f==null?void 0:f.params)==null?void 0:R[b])==null?void 0:j.id;H&&(D==null||D(H))}c(!0)}},[b,f,P,D,u]),r.useEffect(()=>{var I;u===!0&&(d&&b?C({query:{[b]:{...(I=f==null?void 0:f.params)==null?void 0:I[b],open:!0,...P&&L&&{id:L}}},options:{keepQuery:!0},type:"replace"}):b&&!d&&C({query:{[b]:void 0},options:{keepQuery:!0},type:"replace"}))},[L,d,v,g,b,P,u]);let k=_(),{warnWhen:q,setWarnWhen:O}=et(),B={disabled:$,onClick:()=>{x.submit()},loading:$},N={recordItemId:L,onSuccess:()=>{D==null||D(void 0),g()}},z=T.useCallback(()=>{if(S.status==="success"&&o!=null&&o.invalidateOnClose&&s({id:L,invalidates:i||["list","many","detail"],dataProviderName:l.dataProviderName,resource:E}),q)if(window.confirm(k("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))O(!1);else return;g(),D==null||D(void 0)},[q]),W=T.useCallback(I=>{typeof I<"u"&&(D==null||D(I)),(!(h==="edit"||h==="clone")||typeof I<"u"||typeof L<"u")&&v()},[L]);return{...F,show:W,close:z,formProps:{form:x,...F.formProps,onValuesChange:w==null?void 0:w.onValuesChange,onKeyUp:w==null?void 0:w.onKeyUp,onFinish:async I=>{await M(I),a&&g(),n&&x.resetFields()}},drawerProps:{width:"500px",onClose:z,open:d,forceRender:!0},saveButtonProps:B,deleteButtonProps:N,formLoading:$}},"useDrawerForm");A((e={})=>{let t=mr({...e}),{form:a,formProps:n}=t,o=Zn({isBackValidate:!1,form:a,submit:i=>{var l;(l=n==null?void 0:n.onFinish)==null||l.call(n,i)},...e});return{...t,...o,formLoading:t.formLoading,formProps:{...o.formProps,...t.formProps,onValuesChange:n==null?void 0:n.onValuesChange,onKeyUp:n==null?void 0:n.onKeyUp},saveButtonProps:{...t.saveButtonProps,onClick:()=>o.submit()}}},"useStepsForm");var gu=A((e,t)=>{let a=ii(e,t);if(a)return`${a}end`},"getDefaultSortOrder");A((e,t,a="eq")=>li(e,t,a),"getDefaultFilter");var wl=A(e=>{let t=[];if(Array.isArray(e))e.sort((a,n)=>{var o,i;return(((o=a.column)==null?void 0:o.sorter).multiple??0)<(((i=n.column)==null?void 0:i.sorter).multiple??0)?-1:0}).map(a=>{if(a.field&&a.order){let n=Array.isArray(a.field)?a.field.join("."):`${a.field}`;t.push({field:`${a.columnKey??n}`,order:a.order.replace("end","")})}});else if(e.field&&e.order){let a=Array.isArray(e.field)?e.field.join("."):`${e.field}`;t.push({field:`${e.columnKey??a}`,order:e.order.replace("end","")})}return t},"mapAntdSorterToCrudSorting"),Pl=A((e,t,a)=>{let n=[],o=(a??[]).reduce((i,l)=>{let s=l.key||l.field;return{...i,[s]:l}},{});return Object.keys(e).map(i=>{var l,s;let u=e[i],c=((l=t.filter(d=>d.operator!=="or").find(d=>d.field===i))==null?void 0:l.operator)||((s=o[i])==null?void 0:s.operator);c!=="or"&&c!=="and"&&n.push({field:i,operator:c??(Array.isArray(u)?"in":"eq"),value:u})}),n},"mapAntdFilterToCrudFilter"),Ft=A(({to:e,element:t})=>{let{Link:a}=ue(),n=ee(),o=Se();return r.createElement(n==="legacy"?a:o,{to:e,replace:!1,onClick:i=>{i.preventDefault()}},t)},"PaginationLink"),xl=A(({onSearch:e,initialCurrent:t,initialPageSize:a,hasPagination:n=!0,pagination:o,initialSorter:i,permanentSorter:l,initialFilter:s,permanentFilter:u,defaultSetFilterBehavior:c,filters:d,sorters:v,syncWithLocation:g,resource:m,successNotification:y,errorNotification:E,queryOptions:f,liveMode:C,onLiveEvent:h,liveParams:P,meta:b,metaData:F,dataProviderName:x}={})=>{let{tableQueryResult:w,current:$,setCurrent:L,pageSize:D,setPageSize:M,filters:S,setFilters:k,sorters:q,setSorters:O,sorter:B,setSorter:N,createLinkForSyncWithLocation:z,pageCount:W,overtime:I}=na({permanentSorter:l,permanentFilter:u,initialCurrent:t,initialPageSize:a,pagination:o,hasPagination:n,filters:d,sorters:v,initialSorter:i,initialFilter:s,syncWithLocation:g,resource:m,defaultSetFilterBehavior:c,successNotification:y,errorNotification:E,queryOptions:f,liveMode:C,onLiveEvent:h,liveParams:P,meta:K(b,F),metaData:K(b,F),dataProviderName:x}),Q=vt.useBreakpoint(),[R]=se.useForm(),j=Ua({form:R}),U=Jr(C),H=n===!1?"off":"server",V=((o==null?void 0:o.mode)??H)!=="off",Y=K(d==null?void 0:d.initial,s),{data:J,isFetched:G,isLoading:X}=w,fe=A((ve,oe,ye)=>{if(oe&&Object.keys(oe).length>0){let Ee=Pl(oe,S,Y);k(Ee)}if(ye&&Object.keys(ye).length>0){let Ee=wl(ye);O(Ee)}V&&(L==null||L(ve.current||1),M==null||M(ve.pageSize||10))},"onChange"),ae=A(async ve=>{if(e){let oe=await e(ve);k(oe),V&&(L==null||L(1))}},"onFinish"),ne=A(()=>V?{itemRender:(ve,oe,ye)=>{var Ee;let Ne=z({pagination:{pageSize:D,current:ve},sorters:q,filters:S});if(oe==="page")return T.createElement(Ft,{to:Ne,element:`${ve}`});if(oe==="next"||oe==="prev")return T.createElement(Ft,{to:Ne,element:ye});if(oe==="jump-next"||oe==="jump-prev"){let be=(Ee=ye==null?void 0:ye.props)==null?void 0:Ee.children;return T.createElement(Ft,{to:Ne,element:T.Children.count(be)>1?T.createElement(T.Fragment,{},be):be})}return ye},pageSize:D,current:$,simple:!Q.sm,position:Q.sm?["bottomRight"]:["bottomCenter"],total:J==null?void 0:J.total}:!1,"antdPagination");return{searchFormProps:{...j.formProps,onFinish:ae},tableProps:{dataSource:J==null?void 0:J.data,loading:U==="auto"?X:!G,onChange:fe,pagination:ne(),scroll:{x:!0}},tableQueryResult:w,sorters:q,sorter:B,filters:S,setSorters:O,setSorter:N,setFilters:k,current:$,setCurrent:L,pageSize:D,setPageSize:M,pageCount:W,createLinkForSyncWithLocation:z,overtime:I}},"useTable");A(({autoSubmitClose:e=!0,...t}={})=>{let a=xl({...t,successNotification:void 0,errorNotification:void 0}),n=mr({...t,action:"edit",redirect:!1}),{id:o,setId:i,saveButtonProps:l}=n,s={onClick:()=>{i(void 0)}},u=A(d=>({onClick:()=>i(d)}),"editButtonProps"),c=A(d=>d===o,"isEditing");return{...a,...n,formProps:{...n.formProps,onFinish:async d=>{let v=await n.onFinish(d);return e&&i(void 0),v}},saveButtonProps:l,cancelButtonProps:s,editButtonProps:u,isEditing:c}},"useEditableTable");var fu=A(e=>{let{queryResult:t,defaultValueQueryResult:a,onSearch:n,options:o}=aa(e);return{selectProps:{options:o,onSearch:n,loading:a.isFetching,showSearch:!0,filterOption:!1},queryResult:t,defaultValueQueryResult:a}},"useSelect");A(({resource:e,sort:t,sorters:a,filters:n,optionLabel:o,optionValue:i,queryOptions:l,fetchSize:s,pagination:u,liveMode:c,defaultValue:d,onLiveEvent:v,liveParams:g,meta:m,metaData:y,dataProviderName:E})=>{let{queryResult:f,options:C}=aa({resource:e,sort:t,sorters:a,filters:n,optionLabel:o,optionValue:i,queryOptions:l,fetchSize:s,pagination:u,liveMode:c,defaultValue:d,onLiveEvent:v,liveParams:g,meta:K(m,y),metaData:K(m,y),dataProviderName:E});return{checkboxGroupProps:{options:C,defaultValue:d},queryResult:f}},"useCheckboxGroup");A(({resource:e,sort:t,sorters:a,filters:n,optionLabel:o,optionValue:i,queryOptions:l,fetchSize:s,pagination:u,liveMode:c,defaultValue:d,onLiveEvent:v,liveParams:g,meta:m,metaData:y,dataProviderName:E})=>{let{queryResult:f,options:C}=aa({resource:e,sort:t,sorters:a,filters:n,optionLabel:o,optionValue:i,queryOptions:l,fetchSize:s,pagination:u,liveMode:c,defaultValue:d,onLiveEvent:v,liveParams:g,meta:K(m,y),metaData:K(m,y),dataProviderName:E});return{radioGroupProps:{options:C,defaultValue:d},queryResult:f}},"useRadioGroup");A(({resource:e,resourceName:t,mapData:a=A(d=>d,"mapData"),paparseOptions:n,batchSize:o=Number.MAX_SAFE_INTEGER,onFinish:i,meta:l,metaData:s,dataProviderName:u,onProgress:c}={})=>{let d=_(),{resource:v}=Z(e??t),{mutationResult:g,isLoading:m,handleChange:y}=Mi({resource:(v==null?void 0:v.identifier)??(v==null?void 0:v.name),mapData:a,paparseOptions:n,batchSize:o,meta:K(l,s),metaData:K(l,s),dataProviderName:u,onFinish:i,onProgress:c??(({totalAmount:E,processedAmount:f})=>{if(E>0&&f>0){let C=r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},r.createElement(Ia,{type:"circle",percent:Math.floor(f/E*100),size:50,strokeColor:"#1890ff",status:"normal"}),r.createElement("span",{style:{marginLeft:8,width:"100%"}},d("notifications.importProgress",{processed:f,total:E},`Importing: ${f}/${E}`)));Ar.open({description:C,message:null,key:`${v}-import`,duration:0}),f===E&&setTimeout(()=>{Ar.destroy(`${v}-import`)},4500)}})});return{uploadProps:{onChange:y,beforeUpload:()=>!1,showUploadList:!1,accept:".csv"},buttonProps:{type:"default",loading:m},mutationResult:g,isLoading:m}},"useImport");A(({resource:e,initialCurrent:t,initialPageSize:a,pagination:n,hasPagination:o=!0,initialSorter:i,permanentSorter:l,initialFilter:s,permanentFilter:u,defaultSetFilterBehavior:c,filters:d,sorters:v,onSearch:g,queryOptions:m,syncWithLocation:y,successNotification:E,errorNotification:f,liveMode:C,onLiveEvent:h,liveParams:P,meta:b,metaData:F,dataProviderName:x}={})=>{let{sorters:w,sorter:$,filters:L,current:D,pageSize:M,pageCount:S,setFilters:k,setCurrent:q,setPageSize:O,setSorter:B,setSorters:N,createLinkForSyncWithLocation:z,tableQueryResult:W,overtime:I}=na({resource:e,initialSorter:i,permanentSorter:l,initialFilter:s,permanentFilter:u,filters:d,sorters:v,defaultSetFilterBehavior:c,initialCurrent:t,initialPageSize:a,queryOptions:m,successNotification:E,errorNotification:f,liveMode:C,onLiveEvent:h,liveParams:P,meta:K(b,F),metaData:K(b,F),syncWithLocation:y,dataProviderName:x,pagination:n,hasPagination:o}),Q=o===!1?"off":"server",R=((n==null?void 0:n.mode)??Q)!=="off",j=vt.useBreakpoint(),U=Jr(C),[H]=se.useForm(),{data:V,isFetched:Y,isLoading:J}=W,G=A((ae,ne)=>{R&&(q(ae),O(ne||10))},"onChange"),X=A(async ae=>{if(g){let ne=await g(ae);return R&&(q==null||q(1)),k(ne)}},"onFinish"),fe=A(()=>R?{itemRender:(ae,ne,ve)=>{var oe;let ye=z({pagination:{pageSize:M,current:ae},sorters:w,filters:L});if(ne==="page")return T.createElement(Ft,{to:ye,element:`${ae}`});if(ne==="next"||ne==="prev")return T.createElement(Ft,{to:ye,element:ve});if(ne==="jump-next"||ne==="jump-prev"){let Ee=(oe=ve==null?void 0:ve.props)==null?void 0:oe.children;return T.createElement(Ft,{to:ye,element:T.Children.count(Ee)>1?T.createElement(T.Fragment,{},Ee):Ee})}return ve},pageSize:M,current:D,simple:!j.sm,total:V==null?void 0:V.total,onChange:G}:!1,"antdPagination");return{searchFormProps:{form:H,onFinish:X},listProps:{dataSource:V==null?void 0:V.data,loading:U==="auto"?J:!Y,pagination:fe()},queryResult:W,filters:L,setFilters:k,sorter:$,setSorter:B,sorters:w,setSorters:N,current:D,setCurrent:q,pageSize:M,setPageSize:O,pageCount:S,createLinkForSyncWithLocation:z,overtime:I}},"useSimpleList");A(()=>{let[e,t]=T.useState(!1),a=T.useCallback(n=>{Sl(n.fileList).includes(!0)?t(!0):t(!1)},[]);return T.useMemo(()=>({isLoading:e,onChange:a}),[e])},"useFileUploadState");var Sl=A(e=>e.map(t=>{switch(t.status){case"uploading":return!0;default:return!1}}),"mapStatusToLoading"),ia=r.createContext({siderCollapsed:!1,mobileSiderOpen:!1,setSiderCollapsed:()=>{},setMobileSiderOpen:()=>{}}),kl=A(({children:e,initialSiderCollapsed:t})=>{let[a,n]=T.useState(t??!1),[o,i]=T.useState(!1);return r.createElement(ia.Provider,{value:{siderCollapsed:a,mobileSiderOpen:o,setSiderCollapsed:n,setMobileSiderOpen:i}},e)},"ThemedLayoutContextProvider");A(()=>{let{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:a,setSiderCollapsed:n}=T.useContext(ia);return{siderVisible:e,setSiderVisible:a,drawerSiderVisible:t,setDrawerSiderVisible:n}},"useSiderVisible");var Fl=A(()=>{let{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:a,setSiderCollapsed:n}=T.useContext(ia);return{mobileSiderOpen:e,siderCollapsed:t,setMobileSiderOpen:a,setSiderCollapsed:n}},"useThemedLayoutContext"),Ll=A(({message:e,cancelMutation:t,undoableTimeout:a})=>r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},r.createElement(Ia,{type:"circle",percent:(a??0)*20,format:n=>n&&n/20,size:50,strokeColor:"#1890ff",status:"normal"}),r.createElement("span",{style:{marginLeft:8,width:"100%"}},e),r.createElement(le,{style:{flexShrink:0},onClick:t,disabled:a===0,icon:r.createElement(eo,null)})),"UndoableNotification"),yu=A(()=>{let{notification:e}=Wn.useApp(),t="open"in e?e:Ar;return{open:({key:a,message:n,description:o,type:i,cancelMutation:l,undoableTimeout:s})=>{i==="progress"?t.open({key:a,description:r.createElement(Ll,{notificationKey:a,message:n,cancelMutation:()=>{l==null||l(),t.destroy(a??"")},undoableTimeout:s}),message:null,duration:0,closeIcon:r.createElement(r.Fragment,null)}):t.open({key:a,description:n,message:o??null,type:i})},close:a=>t.destroy(a)}},"useNotificationProvider"),Tl={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999},Nl=A(({Title:e,render:t,meta:a})=>{let[n,o]=T.useState(!1),[i,l]=T.useState(!1),s=lr(),u=ee(),c=Se(),{warnWhen:d,setWarnWhen:v}=et(),{Link:g}=ue(),m=u==="legacy"?g:c,y=Vr(),E=_(),{menuItems:f,selectedKey:C,defaultOpenKeys:h}=oa({meta:a}),P=vt.useBreakpoint(),{hasDashboard:b}=he(),F=de(),{mutate:x}=Nt({v3LegacyAuthProviderCompatible:!!(F!=null&&F.isLegacy)}),w=typeof P.lg>"u"?!1:!P.lg,$=e??y??Dl,L=A((N,z)=>N.map(W=>{let{icon:I,label:Q,route:R,key:j,name:U,children:H,parentName:V,meta:Y,options:J}=W;if(H.length>0)return r.createElement($t,{key:W.key,resource:U.toLowerCase(),action:"list",params:{resource:W}},r.createElement(Me.SubMenu,{key:W.key,icon:I??r.createElement(Lt,null),title:Q},L(H,z)));let G=j===z,X=!(K(Y==null?void 0:Y.parent,J==null?void 0:J.parent,V)!==void 0&&H.length===0);return r.createElement($t,{key:W.key,resource:U.toLowerCase(),action:"list",params:{resource:W}},r.createElement(Me.Item,{key:W.key,style:{fontWeight:G?"bold":"normal"},icon:I??(X&&r.createElement(Lt,null))},r.createElement(m,{to:R??""},Q),!n&&G&&r.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),D=A(()=>{d?window.confirm(E("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(v(!1),x()):x()},"handleLogout"),M=s&&r.createElement(Me.Item,{key:"logout",onClick:D,icon:r.createElement(Wr,null)},E("buttons.logout","Logout")),S=b?r.createElement(Me.Item,{key:"dashboard",style:{fontWeight:C==="/"?"bold":"normal"},icon:r.createElement(Kr,null)},r.createElement(m,{to:"/"},E("dashboard.title","Dashboard")),!n&&C==="/"&&r.createElement("div",{className:"ant-menu-tree-arrow"})):null,k=L(f,C),q=A(()=>t?t({dashboard:S,items:k,logout:M,collapsed:n}):r.createElement(r.Fragment,null,S,k,M),"renderSider"),O=A(()=>r.createElement(r.Fragment,null,r.createElement(Me,{theme:"dark",selectedKeys:C?[C]:[],defaultOpenKeys:h,mode:"inline",onClick:()=>{l(!1),P.lg||o(!0)}},q())),"renderMenu"),B=A(()=>r.createElement(r.Fragment,null,r.createElement(Rr,{open:i,onClose:()=>l(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},r.createElement(me,null,r.createElement(me.Sider,{style:{height:"100vh",overflow:"hidden"}},r.createElement($,{collapsed:!1}),O()))),r.createElement(le,{style:Tl,size:"large",onClick:()=>l(!0),icon:r.createElement(nr,null)})),"renderDrawerSider");return r.createElement(Kn,{theme:{components:{Menu:{colorItemBg:"transparent",colorItemText:"#fff",colorItemTextSelected:"#fff",colorItemBgSelected:"transparent",colorItemTextHover:"#fff"}}}},A(()=>w?B():r.createElement(me.Sider,{collapsible:!0,collapsed:n,onCollapse:N=>o(N),collapsedWidth:80,breakpoint:"lg"},r.createElement($,{collapsed:n}),O()),"renderContent")())},"Sider"),$l=A(()=>{let e=de(),{data:t}=Kt({v3LegacyAuthProviderCompatible:!!(e!=null&&e.isLegacy)});return t&&(t.name||t.avatar)?r.createElement(me.Header,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"}},r.createElement(Le,{style:{marginLeft:"8px"}},(t==null?void 0:t.name)&&r.createElement(ce.Text,{style:{color:"white"},strong:!0},t.name),(t==null?void 0:t.avatar)&&r.createElement(Ur,{src:t==null?void 0:t.avatar,alt:t==null?void 0:t.name}))):null},"Header");A(({children:e,Header:t,Sider:a,Title:n,Footer:o,OffLayoutArea:i})=>{let l=vt.useBreakpoint(),s=a??Nl,u=t??$l,c=typeof l.sm>"u"?!0:l.sm;return r.createElement(me,{style:{minHeight:"100vh"}},r.createElement(s,{Title:n}),r.createElement(me,null,r.createElement(u,null),r.createElement(me.Content,null,r.createElement("div",{style:{minHeight:360,padding:c?24:12}},e),i&&r.createElement(i,null)),o&&r.createElement(o,null)))},"Layout");var Dl=A(({collapsed:e})=>{let t=ee(),a=Se(),{Link:n}=ue();return r.createElement(t==="legacy"?n:a,{to:"/"},e?r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{margin:"0 auto",padding:"12px 0",maxHeight:"65.5px"}})):r.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",style:{width:"200px",padding:"12px 24px"}}))},"Title"),ql={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999},Ml=A(({Title:e,render:t,meta:a})=>{let{token:n}=Ze.useToken(),[o,i]=T.useState(!1),[l,s]=T.useState(!1),u=lr(),c=ee(),d=Se(),{warnWhen:v,setWarnWhen:g}=et(),{Link:m}=ue(),y=c==="legacy"?m:d,E=Vr(),f=_(),{menuItems:C,selectedKey:h,defaultOpenKeys:P}=oa({meta:a}),b=vt.useBreakpoint(),{hasDashboard:F}=he(),x=de(),{mutate:w}=Nt({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),$=typeof b.lg>"u"?!1:!b.lg,L=e??E??Bl,D=A((z,W)=>z.map(I=>{let{icon:Q,label:R,route:j,key:U,name:H,children:V,parentName:Y,meta:J,options:G}=I;if(V.length>0)return r.createElement($t,{key:I.key,resource:H.toLowerCase(),action:"list",params:{resource:I}},r.createElement(Me.SubMenu,{key:I.key,icon:Q??r.createElement(Lt,null),title:R},D(V,W)));let X=U===W,fe=!(K(J==null?void 0:J.parent,G==null?void 0:G.parent,Y)!==void 0&&V.length===0);return r.createElement($t,{key:I.key,resource:H.toLowerCase(),action:"list",params:{resource:I}},r.createElement(Me.Item,{key:I.key,icon:Q??(fe&&r.createElement(Lt,null))},r.createElement(y,{to:j??""},R),!o&&X&&r.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),M=A(()=>{v?window.confirm(f("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(g(!1),w()):w()},"handleLogout"),S=u&&r.createElement(Me.Item,{key:"logout",onClick:()=>M(),icon:r.createElement(Wr,null)},f("buttons.logout","Logout")),k=F?r.createElement(Me.Item,{key:"dashboard",icon:r.createElement(Kr,null)},r.createElement(y,{to:"/"},f("dashboard.title","Dashboard")),!o&&h==="/"&&r.createElement("div",{className:"ant-menu-tree-arrow"})):null,q=D(C,h),O=A(()=>t?t({dashboard:k,items:q,logout:S,collapsed:o}):r.createElement(r.Fragment,null,k,q,S),"renderSider"),B=A(()=>r.createElement(r.Fragment,null,r.createElement(Me,{selectedKeys:h?[h]:[],defaultOpenKeys:P,mode:"inline",style:{marginTop:"8px",border:"none"},onClick:()=>{s(!1),b.lg||i(!0)}},O())),"renderMenu"),N=A(()=>r.createElement(r.Fragment,null,r.createElement(Rr,{open:l,onClose:()=>s(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},r.createElement(me,null,r.createElement(me.Sider,{style:{height:"100vh",overflow:"hidden",backgroundColor:n.colorBgContainer,borderRight:`1px solid ${n.colorBgElevated}`}},r.createElement("div",{style:{width:"200px",padding:"0 16px",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"64px",backgroundColor:n.colorBgElevated}},r.createElement(L,{collapsed:!1})),B()))),r.createElement(le,{style:ql,size:"large",onClick:()=>s(!0),icon:r.createElement(nr,null)})),"renderDrawerSider");return $?N():r.createElement(me.Sider,{style:{backgroundColor:n.colorBgContainer,borderRight:`1px solid ${n.colorBgElevated}`},collapsible:!0,collapsed:o,onCollapse:z=>i(z),collapsedWidth:80,breakpoint:"lg",trigger:r.createElement(le,{type:"text",style:{borderRadius:0,height:"100%",width:"100%",backgroundColor:n.colorBgElevated}},o?r.createElement(za,{style:{color:n.colorPrimary}}):r.createElement(Wa,{style:{color:n.colorPrimary}}))},r.createElement("div",{style:{width:o?"80px":"200px",padding:o?"0":"0 16px",display:"flex",justifyContent:o?"center":"flex-start",alignItems:"center",height:"64px",backgroundColor:n.colorBgElevated,fontSize:"14px"}},r.createElement(L,{collapsed:o})),B())},"ThemedSider"),Ol=A(()=>{let{token:e}=Ze.useToken(),t=de(),{data:a}=Kt({v3LegacyAuthProviderCompatible:!!(t!=null&&t.isLegacy)});return a&&(a.name||a.avatar)?r.createElement(me.Header,{style:{backgroundColor:e.colorBgElevated,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"}},r.createElement(Le,null,r.createElement(Le,{size:"middle"},(a==null?void 0:a.name)&&r.createElement(ce.Text,{strong:!0},a.name),(a==null?void 0:a.avatar)&&r.createElement(Ur,{src:a==null?void 0:a.avatar,alt:a==null?void 0:a.name})))):null},"ThemedHeader");A(({children:e,Header:t,Sider:a,Title:n,Footer:o,OffLayoutArea:i})=>{let l=vt.useBreakpoint(),s=a??Ml,u=t??Ol,c=typeof l.sm>"u"?!0:l.sm;return r.createElement(me,{style:{minHeight:"100vh"}},r.createElement(s,{Title:n}),r.createElement(me,null,r.createElement(u,null),r.createElement(me.Content,null,r.createElement("div",{style:{minHeight:360,padding:c?24:12}},e),i&&r.createElement(i,null)),o&&r.createElement(o,null)))},"ThemedLayout");var Il="Refine Project",Al=r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7889 0.422291C12.6627 -0.140764 11.3373 -0.140764 10.2111 0.422291L2.21115 4.42229C0.85601 5.09986 0 6.48491 0 8V16C0 17.5151 0.85601 18.9001 2.21115 19.5777L10.2111 23.5777C11.3373 24.1408 12.6627 24.1408 13.7889 23.5777L21.7889 19.5777C23.144 18.9001 24 17.5151 24 16V8C24 6.48491 23.144 5.09986 21.7889 4.42229L13.7889 0.422291ZM8 8C8 5.79086 9.79086 4 12 4C14.2091 4 16 5.79086 16 8V16C16 18.2091 14.2091 20 12 20C9.79086 20 8 18.2091 8 16V8Z",fill:"currentColor"}),r.createElement("path",{d:"M14 8C14 9.10457 13.1046 10 12 10C10.8954 10 10 9.10457 10 8C10 6.89543 10.8954 6 12 6C13.1046 6 14 6.89543 14 8Z",fill:"currentColor"})),Bl=A(({collapsed:e,icon:t=Al,text:a=Il,wrapperStyles:n})=>{let{token:o}=Ze.useToken(),i=ee(),l=Se(),{Link:s}=ue();return r.createElement(i==="legacy"?s:l,{to:"/",style:{display:"inline-block",textDecoration:"none"}},r.createElement(Le,{style:{display:"flex",alignItems:"center",fontSize:"inherit",...n}},r.createElement("div",{style:{height:"24px",width:"24px",color:o.colorPrimary}},t),!e&&r.createElement(ce.Title,{style:{fontSize:"inherit",marginBottom:0,fontWeight:700}},a)))},"ThemedTitle"),Rl={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999},Ul=A(({Title:e,render:t,meta:a,fixed:n,activeItemDisabled:o=!1})=>{let{token:i}=Ze.useToken(),{siderCollapsed:l,setSiderCollapsed:s,mobileSiderOpen:u,setMobileSiderOpen:c}=Fl(),d=lr(),v=ee(),g=Se(),{warnWhen:m,setWarnWhen:y}=et(),{Link:E}=ue(),f=v==="legacy"?E:g,C=Vr(),h=_(),{menuItems:P,selectedKey:b,defaultOpenKeys:F}=oa({meta:a}),x=vt.useBreakpoint(),{hasDashboard:w}=he(),$=de(),{mutate:L}=Nt({v3LegacyAuthProviderCompatible:!!($!=null&&$.isLegacy)}),D=typeof x.lg>"u"?!1:!x.lg,M=e??C??_t,S=A((Q,R)=>Q.map(j=>{let{icon:U,label:H,route:V,key:Y,name:J,children:G,parentName:X,meta:fe,options:ae}=j;if(G.length>0)return r.createElement($t,{key:j.key,resource:J.toLowerCase(),action:"list",params:{resource:j}},r.createElement(Me.SubMenu,{key:j.key,icon:U??r.createElement(Lt,null),title:H},S(G,R)));let ne=Y===R,ve=!(K(fe==null?void 0:fe.parent,ae==null?void 0:ae.parent,X)!==void 0&&G.length===0),oe=o&&ne?{pointerEvents:"none"}:{};return r.createElement($t,{key:j.key,resource:J.toLowerCase(),action:"list",params:{resource:j}},r.createElement(Me.Item,{key:j.key,icon:U??(ve&&r.createElement(Lt,null)),style:oe},r.createElement(f,{to:V??"",style:oe},H),!l&&ne&&r.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),k=A(()=>{m?window.confirm(h("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(y(!1),L()):L()},"handleLogout"),q=d&&r.createElement(Me.Item,{key:"logout",onClick:()=>k(),icon:r.createElement(Wr,null)},h("buttons.logout","Logout")),O=w?r.createElement(Me.Item,{key:"dashboard",icon:r.createElement(Kr,null)},r.createElement(f,{to:"/"},h("dashboard.title","Dashboard")),!l&&b==="/"&&r.createElement("div",{className:"ant-menu-tree-arrow"})):null,B=S(P,b),N=A(()=>t?t({dashboard:O,items:B,logout:q,collapsed:l}):r.createElement(r.Fragment,null,O,B,q),"renderSider"),z=A(()=>r.createElement(Me,{selectedKeys:b?[b]:[],defaultOpenKeys:F,mode:"inline",style:{paddingTop:"8px",border:"none",overflow:"auto",height:"calc(100% - 72px)"},onClick:()=>{c(!1)}},N()),"renderMenu"),W=A(()=>r.createElement(r.Fragment,null,r.createElement(Rr,{open:u,onClose:()=>c(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},r.createElement(me,null,r.createElement(me.Sider,{style:{height:"100vh",backgroundColor:i.colorBgContainer,borderRight:`1px solid ${i.colorBgElevated}`}},r.createElement("div",{style:{width:"200px",padding:"0 16px",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"64px",backgroundColor:i.colorBgElevated}},r.createElement(M,{collapsed:!1})),z()))),r.createElement(le,{style:Rl,size:"large",onClick:()=>c(!0),icon:r.createElement(nr,null)})),"renderDrawerSider");if(D)return W();let I={backgroundColor:i.colorBgContainer,borderRight:`1px solid ${i.colorBgElevated}`};return n&&(I.position="fixed",I.top=0,I.height="100vh",I.zIndex=999),r.createElement(r.Fragment,null,n&&r.createElement("div",{style:{width:l?"80px":"200px",transition:"all 0.2s"}}),r.createElement(me.Sider,{style:I,collapsible:!0,collapsed:l,onCollapse:(Q,R)=>{R==="clickTrigger"&&s(Q)},collapsedWidth:80,breakpoint:"lg",trigger:r.createElement(le,{type:"text",style:{borderRadius:0,height:"100%",width:"100%",backgroundColor:i.colorBgElevated}},l?r.createElement(za,{style:{color:i.colorPrimary}}):r.createElement(Wa,{style:{color:i.colorPrimary}}))},r.createElement("div",{style:{width:l?"80px":"200px",padding:l?"0":"0 16px",display:"flex",justifyContent:l?"center":"flex-start",alignItems:"center",height:"64px",backgroundColor:i.colorBgElevated,fontSize:"14px"}},r.createElement(M,{collapsed:l})),z()))},"ThemedSiderV2"),zl=A(({isSticky:e,sticky:t})=>{let{token:a}=Ze.useToken(),n=de(),{data:o}=Kt({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy)});if(!(o&&(o.name||o.avatar)))return null;let i={backgroundColor:a.colorBgElevated,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"};return K(t,e)&&(i.position="sticky",i.top=0,i.zIndex=1),r.createElement(me.Header,{style:i},r.createElement(Le,null,r.createElement(Le,{size:"middle"},(o==null?void 0:o.name)&&r.createElement(ce.Text,{strong:!0},o.name),(o==null?void 0:o.avatar)&&r.createElement(Ur,{src:o==null?void 0:o.avatar,alt:o==null?void 0:o.name}))))},"ThemedHeaderV2");A(({children:e,Header:t,Sider:a,Title:n,Footer:o,OffLayoutArea:i,initialSiderCollapsed:l})=>{let s=vt.useBreakpoint(),u=a??Ul,c=t??zl,d=typeof s.sm>"u"?!0:s.sm,v=!!u({Title:n});return r.createElement(kl,{initialSiderCollapsed:l},r.createElement(me,{style:{minHeight:"100vh"},hasSider:v},r.createElement(u,{Title:n}),r.createElement(me,null,r.createElement(c,null),r.createElement(me.Content,null,r.createElement("div",{style:{minHeight:360,padding:d?24:12}},e),i&&r.createElement(i,null)),o&&r.createElement(o,null))))},"ThemedLayoutV2");var Wl="Refine Project",Kl=r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7889 0.422291C12.6627 -0.140764 11.3373 -0.140764 10.2111 0.422291L2.21115 4.42229C0.85601 5.09986 0 6.48491 0 8V16C0 17.5151 0.85601 18.9001 2.21115 19.5777L10.2111 23.5777C11.3373 24.1408 12.6627 24.1408 13.7889 23.5777L21.7889 19.5777C23.144 18.9001 24 17.5151 24 16V8C24 6.48491 23.144 5.09986 21.7889 4.42229L13.7889 0.422291ZM8 8C8 5.79086 9.79086 4 12 4C14.2091 4 16 5.79086 16 8V16C16 18.2091 14.2091 20 12 20C9.79086 20 8 18.2091 8 16V8Z",fill:"currentColor"}),r.createElement("path",{d:"M14 8C14 9.10457 13.1046 10 12 10C10.8954 10 10 9.10457 10 8C10 6.89543 10.8954 6 12 6C13.1046 6 14 6.89543 14 8Z",fill:"currentColor"})),_t=A(({collapsed:e,icon:t=Kl,text:a=Wl,wrapperStyles:n})=>{let{token:o}=Ze.useToken(),i=ee(),l=Se(),{Link:s}=ue();return r.createElement(i==="legacy"?s:l,{to:"/",style:{display:"inline-block",textDecoration:"none"}},r.createElement(Le,{style:{display:"flex",alignItems:"center",fontSize:"inherit",...n}},r.createElement("div",{style:{height:"24px",width:"24px",color:o.colorPrimary}},t),!e&&r.createElement(ce.Title,{style:{fontSize:"inherit",marginBottom:0,fontWeight:700}},a)))},"ThemedTitleV2"),jl=A(({resource:e,resourceNameOrRouteName:t,hideText:a=!1,accessControl:n,meta:o,children:i,onClick:l,...s})=>{let u=T.useContext(tt),c=(n==null?void 0:n.enabled)??u.options.buttons.enableAccessControl,d=(n==null?void 0:n.hideIfUnauthorized)??u.options.buttons.hideIfUnauthorized,v=_(),g=ee(),m=Se(),{Link:y}=ue(),E=g==="legacy"?y:m,{createUrl:f}=Pe(),{resource:C}=Z(e??t),{data:h}=Pt({resource:C==null?void 0:C.name,action:"create",queryOptions:{enabled:c},params:{resource:C}}),P=A(()=>h!=null&&h.can?"":h!=null&&h.reason?h.reason:v("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),b=C?f(C,o):"";return c&&d&&!(h!=null&&h.can)?null:r.createElement(E,{to:b,replace:!1,onClick:F=>{if((h==null?void 0:h.can)===!1){F.preventDefault();return}l&&(F.preventDefault(),l(F))}},r.createElement(le,{icon:r.createElement(Ka,null),disabled:(h==null?void 0:h.can)===!1,title:P(),className:rt.CreateButton,type:"primary",...s},!a&&(i??v("buttons.create","Create"))))},"CreateButton"),Ql=A(({resource:e,resourceNameOrRouteName:t,recordItemId:a,hideText:n=!1,accessControl:o,meta:i,children:l,onClick:s,...u})=>{let c=T.useContext(tt),d=(o==null?void 0:o.enabled)??c.options.buttons.enableAccessControl,v=(o==null?void 0:o.hideIfUnauthorized)??c.options.buttons.hideIfUnauthorized,g=_(),m=ee(),y=Se(),{Link:E}=ue(),f=m==="legacy"?E:y,{editUrl:C}=Pe(),{id:h,resource:P}=Z(e??t),{data:b}=Pt({resource:P==null?void 0:P.name,action:"edit",params:{id:a??h,resource:P},queryOptions:{enabled:d}}),F=A(()=>b!=null&&b.can?"":b!=null&&b.reason?b.reason:g("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),x=P&&(a??h)?C(P,a??h,i):"";return d&&v&&!(b!=null&&b.can)?null:r.createElement(f,{to:x,replace:!1,onClick:w=>{if((b==null?void 0:b.can)===!1){w.preventDefault();return}s&&(w.preventDefault(),s(w))}},r.createElement(le,{icon:r.createElement(to,null),disabled:(b==null?void 0:b.can)===!1,title:F(),className:rt.EditButton,...u},!n&&(l??g("buttons.edit","Edit"))))},"EditButton"),Tn=A(({resource:e,resourceNameOrRouteName:t,recordItemId:a,onSuccess:n,mutationMode:o,children:i,successNotification:l,errorNotification:s,hideText:u=!1,accessControl:c,metaData:d,meta:v,dataProviderName:g,confirmTitle:m,confirmOkText:y,confirmCancelText:E,invalidates:f,...C})=>{let h=T.useContext(tt),P=(c==null?void 0:c.enabled)??h.options.buttons.enableAccessControl,b=(c==null?void 0:c.hideIfUnauthorized)??h.options.buttons.hideIfUnauthorized,F=_(),{id:x,resource:w,identifier:$}=Z(e??t),{mutationMode:L}=Ct(),D=o??L,{mutate:M,isLoading:S,variables:k}=hi(),{data:q}=Pt({resource:w==null?void 0:w.name,action:"delete",params:{id:a??x,resource:w},queryOptions:{enabled:P}}),O=A(()=>q!=null&&q.can?"":q!=null&&q.reason?q.reason:F("buttons.notAccessTitle","You don't have permission to access"),"disabledTitle"),{setWarnWhen:B}=et();return P&&b&&!(q!=null&&q.can)?null:r.createElement(jn,{key:"delete",okText:y??F("buttons.delete","Delete"),cancelText:E??F("buttons.cancel","Cancel"),okType:"danger",title:m??F("buttons.confirm","Are you sure?"),okButtonProps:{disabled:S},onConfirm:()=>{(a??x)&&$&&(B(!1),M({id:a??x??"",resource:$,mutationMode:D,successNotification:l,errorNotification:s,meta:K(v,d),metaData:K(v,d),dataProviderName:g,invalidates:f},{onSuccess:N=>{n==null||n(N)}}))},disabled:typeof(C==null?void 0:C.disabled)<"u"?C.disabled:(q==null?void 0:q.can)===!1},r.createElement(le,{danger:!0,loading:(a??x)===(k==null?void 0:k.id)&&S,icon:r.createElement(ro,null),title:O(),disabled:(q==null?void 0:q.can)===!1,className:rt.DeleteButton,...C},!u&&(i??F("buttons.delete","Delete"))))},"DeleteButton"),Nn=A(({resource:e,resourceNameOrRouteName:t,recordItemId:a,hideText:n=!1,dataProviderName:o,children:i,onClick:l,meta:s,metaData:u,...c})=>{let d=_(),v=ft(),g=Xe(),{resources:m,identifier:y,id:E}=Z(e??t),f=!!v.isFetching({queryKey:Ro(y,te(y,o,m)).detail(a??E)}),C=A(()=>{g({id:a??E,invalidates:["detail"],dataProviderName:o,resource:y})},"handleInvalidate");return r.createElement(le,{onClick:h=>{l?l(h):C()},icon:r.createElement(ao,{spin:f}),className:rt.RefreshButton,...c},!n&&(i??d("buttons.refresh","Refresh")))},"RefreshButton"),hu=A(({resource:e,resourceNameOrRouteName:t,recordItemId:a,hideText:n=!1,accessControl:o,meta:i,children:l,onClick:s,...u})=>{let c=T.useContext(tt),d=(o==null?void 0:o.enabled)??c.options.buttons.enableAccessControl,v=(o==null?void 0:o.hideIfUnauthorized)??c.options.buttons.hideIfUnauthorized,{showUrl:g}=Pe(),m=ee(),y=Se(),{Link:E}=ue(),f=m==="legacy"?E:y,C=_(),{id:h,resource:P}=Z(e??t),{data:b}=Pt({resource:P==null?void 0:P.name,action:"show",params:{id:a??h,resource:P},queryOptions:{enabled:d}}),F=A(()=>b!=null&&b.can?"":b!=null&&b.reason?b.reason:C("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),x=P&&(a||h)?g(P,a??h,i):"";return d&&v&&!(b!=null&&b.can)?null:r.createElement(f,{to:x,replace:!1,onClick:w=>{if((b==null?void 0:b.can)===!1){w.preventDefault();return}s&&(w.preventDefault(),s(w))}},r.createElement(le,{icon:r.createElement(no,null),disabled:(b==null?void 0:b.can)===!1,title:F(),className:rt.ShowButton,...u},!n&&(l??C("buttons.show","Show"))))},"ShowButton"),$n=A(({resource:e,resourceNameOrRouteName:t,hideText:a=!1,accessControl:n,meta:o,children:i,onClick:l,...s})=>{var u;let c=T.useContext(tt),d=(n==null?void 0:n.enabled)??c.options.buttons.enableAccessControl,v=(n==null?void 0:n.hideIfUnauthorized)??c.options.buttons.hideIfUnauthorized,{listUrl:g}=Pe(),m=ee(),y=Se(),{Link:E}=ue(),f=ct(),C=m==="legacy"?E:y,h=_(),{resource:P,identifier:b}=Z(e??t),{data:F}=Pt({resource:P==null?void 0:P.name,action:"list",queryOptions:{enabled:d},params:{resource:P}}),x=A(()=>F!=null&&F.can?"":F!=null&&F.reason?F.reason:h("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),w=P?g(P,o):"";return d&&v&&!(F!=null&&F.can)?null:r.createElement(C,{to:w,replace:!1,onClick:$=>{if((F==null?void 0:F.can)===!1){$.preventDefault();return}l&&($.preventDefault(),l($))}},r.createElement(le,{icon:r.createElement(nr,null),disabled:(F==null?void 0:F.can)===!1,title:x(),className:rt.ListButton,...s},!a&&(i??h(`${b??e??t}.titles.list`,f(((u=P==null?void 0:P.meta)==null?void 0:u.label)??(P==null?void 0:P.label)??b??K(e,t),"plural")))))},"ListButton");A(({hideText:e=!1,children:t,...a})=>{let n=_();return r.createElement(le,{type:"default",icon:r.createElement(oo,null),className:rt.ExportButton,...a},!e&&(t??n("buttons.export","Export")))},"ExportButton");var Dn=A(({hideText:e=!1,children:t,...a})=>{let n=_();return r.createElement(le,{type:"primary",icon:r.createElement(io,null),className:rt.SaveButton,...a},!e&&(t??n("buttons.save","Save")))},"SaveButton");A(({resourceNameOrRouteName:e,resource:t,recordItemId:a,hideText:n=!1,accessControl:o,meta:i,children:l,onClick:s,...u})=>{let c=T.useContext(tt),d=(o==null?void 0:o.enabled)??c.options.buttons.enableAccessControl,v=(o==null?void 0:o.hideIfUnauthorized)??c.options.buttons.hideIfUnauthorized,{cloneUrl:g}=Pe(),m=ee(),y=Se(),{Link:E}=ue(),f=m==="legacy"?E:y,C=_(),{id:h,resource:P}=Z(t??e),{data:b}=Pt({resource:P==null?void 0:P.name,action:"create",params:{id:a??h,resource:P},queryOptions:{enabled:d}}),F=A(()=>b!=null&&b.can?"":b!=null&&b.reason?b.reason:C("buttons.notAccessTitle","You don't have permission to access"),"createButtonDisabledTitle"),x=P&&(a||h)?g(P,a??h,i):"";return d&&v&&!(b!=null&&b.can)?null:r.createElement(f,{to:x,replace:!1,onClick:w=>{if((b==null?void 0:b.can)===!1){w.preventDefault();return}s&&(w.preventDefault(),s(w))}},r.createElement(le,{icon:r.createElement(Ka,null),disabled:(b==null?void 0:b.can)===!1,title:F(),className:rt.CloneButton,...u},!n&&(l??C("buttons.clone","Clone"))))},"CloneButton");A(({uploadProps:e,buttonProps:t,hideText:a=!1,children:n})=>{let o=_();return r.createElement(Qn,{...e},r.createElement(le,{icon:r.createElement(lo,null),className:rt.ImportButton,...t},!a&&(n??o("buttons.import","Import"))))},"ImportButton");var Eu=A(({canCreate:e,title:t,children:a,createButtonProps:n,resource:o,wrapperProps:i,contentProps:l,headerProps:s,breadcrumb:u,headerButtonProps:c,headerButtons:d})=>{var v,g;let m=_(),{options:{breadcrumb:y}={}}=he(),E=ee(),f=ct(),{resource:C,identifier:h}=Z(o),P=e??(((C==null?void 0:C.canCreate)??!!(C!=null&&C.create))||n),b=typeof u>"u"?y:u,F=P?{size:"middle",resource:E==="legacy"?C==null?void 0:C.route:h,...n}:void 0,x=P?r.createElement(jl,{...F}):null;return r.createElement("div",{...i??{}},r.createElement(Er,{ghost:!1,title:t??m(`${h}.titles.list`,f(((v=C==null?void 0:C.meta)==null?void 0:v.label)??((g=C==null?void 0:C.options)==null?void 0:g.label)??(C==null?void 0:C.label)??h,"plural")),extra:d?r.createElement(Le,{wrap:!0,...c},typeof d=="function"?d({defaultButtons:x,createButtonProps:F}):d):x,breadcrumb:typeof b<"u"?r.createElement(r.Fragment,null,b)??void 0:r.createElement(hr,null),...s??{}},r.createElement("div",{...l??{}},a)))},"List");A(({title:e,saveButtonProps:t,children:a,resource:n,isLoading:o=!1,breadcrumb:i,wrapperProps:l,headerProps:s,contentProps:u,headerButtonProps:c,headerButtons:d,footerButtonProps:v,footerButtons:g,goBack:m})=>{var y,E;let f=_(),{options:{breadcrumb:C}={}}=he(),h=ee(),P=cr(),{goBack:b}=Pe(),F=ct(),{resource:x,action:w,identifier:$}=Z(n),L=typeof i>"u"?C:i,D={...o?{disabled:!0}:{},...t,htmlType:"submit"},M=r.createElement(r.Fragment,null,r.createElement(Dn,{...D}));return r.createElement("div",{...l??{}},r.createElement(Er,{ghost:!1,backIcon:m,onBack:w!=="list"||typeof w<"u"?h==="legacy"?b:P:void 0,title:e??f(`${$}.titles.create`,`Create ${F(((y=x==null?void 0:x.meta)==null?void 0:y.label)??((E=x==null?void 0:x.options)==null?void 0:E.label)??(x==null?void 0:x.label)??$,"singular")}`),breadcrumb:typeof L<"u"?r.createElement(r.Fragment,null,L)??void 0:r.createElement(hr,null),extra:r.createElement(Le,{wrap:!0,...c??{}},d?typeof d=="function"?d({defaultButtons:null}):d:null),...s??{}},r.createElement(zr,{spinning:o},r.createElement(gt,{bordered:!1,actions:[r.createElement(Le,{key:"action-buttons",style:{float:"right",marginRight:24},...v??{}},g?typeof g=="function"?g({defaultButtons:M,saveButtonProps:D}):g:M)],...u??{}},a))))},"Create");A(({title:e,saveButtonProps:t,mutationMode:a,recordItemId:n,children:o,deleteButtonProps:i,canDelete:l,resource:s,isLoading:u=!1,dataProviderName:c,breadcrumb:d,wrapperProps:v,headerProps:g,contentProps:m,headerButtonProps:y,headerButtons:E,footerButtonProps:f,footerButtons:C,goBack:h,autoSaveProps:P})=>{var b,F,x;let w=_(),{options:{breadcrumb:$}={}}=he(),{mutationMode:L}=Ct(),D=a??L,M=ee(),S=cr(),k=qe(),{goBack:q,list:O}=Pe(),B=ct(),{resource:N,action:z,id:W,identifier:I}=Z(s),Q=Ln({resource:N,action:"list"}),R=n??W,j=typeof d>"u"?$:d,U=(N==null?void 0:N.list)&&!n,H=l??((((b=N==null?void 0:N.meta)==null?void 0:b.canDelete)??(N==null?void 0:N.canDelete))||i),V=U?{...u?{disabled:!0}:{},resource:M==="legacy"?N==null?void 0:N.route:I}:void 0,Y={...u?{disabled:!0}:{},resource:M==="legacy"?N==null?void 0:N.route:I,recordItemId:R,dataProviderName:c},J=H?{...u?{disabled:!0}:{},resource:M==="legacy"?N==null?void 0:N.route:I,mutationMode:D,onSuccess:()=>{M==="legacy"?O((N==null?void 0:N.route)??(N==null?void 0:N.name)??""):k({to:Q})},recordItemId:R,dataProviderName:c,...i}:void 0,G={...u?{disabled:!0}:{},...t},X=r.createElement(r.Fragment,null,P&&r.createElement(ts,{...P}),U&&r.createElement($n,{...V}),r.createElement(Nn,{...Y})),fe=r.createElement(r.Fragment,null,H&&r.createElement(Tn,{...J}),r.createElement(Dn,{...G}));return r.createElement("div",{...v??{}},r.createElement(Er,{ghost:!1,backIcon:h,onBack:z!=="list"&&typeof z<"u"?M==="legacy"?q:S:void 0,title:e??w(`${I}.titles.edit`,`Edit ${B(((F=N==null?void 0:N.meta)==null?void 0:F.label)??((x=N==null?void 0:N.options)==null?void 0:x.label)??(N==null?void 0:N.label)??I,"singular")}`),extra:r.createElement(Le,{wrap:!0,...y??{}},E?typeof E=="function"?E({defaultButtons:X,listButtonProps:V,refreshButtonProps:Y}):E:X),breadcrumb:typeof j<"u"?r.createElement(r.Fragment,null,j)??void 0:r.createElement(hr,null),...g??{}},r.createElement(zr,{spinning:u},r.createElement(gt,{bordered:!1,actions:[r.createElement(Le,{key:"footer-buttons",wrap:!0,style:{float:"right",marginRight:24},...f??{}},C?typeof C=="function"?C({defaultButtons:fe,deleteButtonProps:J,saveButtonProps:G}):C:fe)],...m??{}},o))))},"Edit");A(({title:e,canEdit:t,canDelete:a,isLoading:n=!1,children:o,resource:i,recordItemId:l,dataProviderName:s,breadcrumb:u,contentProps:c,headerProps:d,wrapperProps:v,headerButtons:g,footerButtons:m,footerButtonProps:y,headerButtonProps:E,goBack:f})=>{var C,h,P;let b=_(),{options:{breadcrumb:F}={}}=he(),x=ee(),w=cr(),$=qe(),{goBack:L,list:D}=Pe(),M=ct(),{resource:S,action:k,id:q,identifier:O}=Z(i),B=Ln({resource:S,action:"list"}),N=l??q,z=typeof u>"u"?F:u,W=(S==null?void 0:S.list)&&!l,I=a??((C=S==null?void 0:S.meta)==null?void 0:C.canDelete)??(S==null?void 0:S.canDelete),Q=t??(S==null?void 0:S.canEdit)??!!(S!=null&&S.edit),R=W?{resource:x==="legacy"?S==null?void 0:S.route:O}:void 0,j=Q?{...n?{disabled:!0}:{},type:"primary",resource:x==="legacy"?S==null?void 0:S.route:O,recordItemId:N}:void 0,U=I?{...n?{disabled:!0}:{},resource:x==="legacy"?S==null?void 0:S.route:O,recordItemId:N,onSuccess:()=>{x==="legacy"?D((S==null?void 0:S.route)??(S==null?void 0:S.name)??""):$({to:B})},dataProviderName:s}:void 0,H={...n?{disabled:!0}:{},resource:x==="legacy"?S==null?void 0:S.route:O,recordItemId:N,dataProviderName:s},V=r.createElement(r.Fragment,null,W&&r.createElement($n,{...R}),Q&&r.createElement(Ql,{...j}),I&&r.createElement(Tn,{...U}),r.createElement(Nn,{...H}));return r.createElement("div",{...v??{}},r.createElement(Er,{ghost:!1,backIcon:f,onBack:k!=="list"&&typeof k<"u"?x==="legacy"?L:w:void 0,title:e??b(`${O}.titles.show`,`Show ${M(((h=S==null?void 0:S.meta)==null?void 0:h.label)??((P=S==null?void 0:S.options)==null?void 0:P.label)??(S==null?void 0:S.label)??O,"singular")}`),extra:r.createElement(Le,{key:"extra-buttons",wrap:!0,...E??{}},g?typeof g=="function"?g({defaultButtons:V,deleteButtonProps:U,editButtonProps:j,listButtonProps:R,refreshButtonProps:H}):g:V),breadcrumb:typeof z<"u"?r.createElement(r.Fragment,null,z)??void 0:r.createElement(hr,null),...d??{}},r.createElement(zr,{spinning:n},r.createElement(gt,{bordered:!1,actions:m?[r.createElement(Le,{key:"footer-buttons",wrap:!0,...y},typeof m=="function"?m({defaultButtons:null}):m)]:void 0,...c??{}},o))))},"Show");A(({value:e,...t})=>r.createElement(ce.Text,{...t},e),"TextField");A(({value:e,...t})=>r.createElement(Hn,{...t},e==null?void 0:e.toString()),"TagField");A(({value:e,...t})=>r.createElement(ce.Link,{href:`mailto:${e}`,...t},e),"EmailField");A(({value:e,imageTitle:t,...a})=>r.createElement(Vn,{...a,src:e,title:t}),"ImageField");A(({value:e,valueLabelTrue:t="true",valueLabelFalse:a="false",trueIcon:n=r.createElement(so,null),falseIcon:o=r.createElement(uo,null),...i})=>r.createElement(Aa,{title:e?t:a,...i},e?r.createElement("span",null,n):r.createElement("span",null,o)),"BooleanField");var bu=A(({value:e,locales:t,format:a="L",...n})=>{Ut.extend(Yn);let o=Ut.locale();return r.createElement(ce.Text,{...n},Ut(e).locale(t||o).format(a))},"DateField");A(({title:e,src:t,...a})=>r.createElement(Hl,{value:t,title:e,...a},e??t),"FileField");var Hl=A(({children:e,value:t,...a})=>r.createElement(ce.Link,{href:t,...a},e??t),"UrlField");function qn(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}A(qn,"toLocaleStringSupportsOptions");A(({value:e,locale:t,options:a,...n})=>{let o=Number(e);return r.createElement(ce.Text,{...n},qn()?o.toLocaleString(t,a):o)},"NumberField");var Cu=A(({value:e=""})=>r.createElement(Xn,{remarkPlugins:[Jn]},e),"MarkdownField"),wu=A(e=>{let{setSelectedKeys:t,confirm:a,clearFilters:n,mapValue:o,selectedKeys:i,children:l}=e,[s,u]=T.useState(i),c=_(),d=A(()=>{n&&(u([]),n())},"clearFilter"),v=A(()=>{let E=g(s),f;typeof E=="number"?f=`${E}`:Ut.isDayjs(E)?f=[E.toISOString()]:f=E,t(f),a==null||a()},"onFilter"),g=A(E=>o?o(E):E,"mappedValue"),m=A(E=>{if(typeof E=="object"){if(Array.isArray(E)){let b=g(E);return u(b),t(b)}let C=!E||!E.target||Ut.isDayjs(E)?{target:{value:E}}:E,{target:h}=C,P=g(h.value);u(P);return}let f=g(E);u(f)},"onChange"),y=r.Children.map(l,E=>r.isValidElement(E)?r.cloneElement(E,{onChange:m,value:g(s)}):E);return r.createElement("div",{style:{padding:10,display:"flex",flexDirection:"column",alignItems:"flex-end"}},r.createElement("div",{style:{marginBottom:15}},y),r.createElement(Le,null,r.createElement(le,{type:"primary",size:"small",onClick:()=>v()},r.createElement(co,null)," ",c("buttons.filter","Filter")),r.createElement(le,{danger:!0,size:"small",onClick:()=>d()},c("buttons.clear","Clear"))))},"FilterDropdown"),Pu=A(()=>{let[e,t]=T.useState(),a=_(),{push:n}=Pe(),o=qe(),i=ee(),{resource:l,action:s}=Z();return T.useEffect(()=>{l&&s&&t(a("pages.error.info",{action:s,resource:l==null?void 0:l.name},`You may have forgotten to add the "${s}" component to "${l==null?void 0:l.name}" resource.`))},[l,s]),r.createElement(Gn,{status:"404",title:"404",extra:r.createElement(Le,{direction:"vertical",size:"large"},r.createElement(Le,null,r.createElement(ce.Text,null,a("pages.error.404","Sorry, the page you visited does not exist.")),e&&r.createElement(Aa,{title:e},r.createElement(mo,{}))),r.createElement(le,{type:"primary",onClick:()=>{i==="legacy"?n("/"):o({to:"/"})}},a("pages.error.backHome","Back Home")))})},"ErrorComponent"),Vl={background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"},Gl={maxWidth:"408px",margin:"auto"},_l={textAlign:"center",color:"#626262",fontSize:"30px",letterSpacing:"-0.04em"},Zl={display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"28px"};A(()=>{let[e]=se.useForm(),t=_(),a=de(),{mutate:n,isLoading:o}=jt({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)}),i=r.createElement(ce.Title,{level:3,style:_l},t("pages.login.title","Sign in your account"));return r.createElement(me,{style:Vl},r.createElement(Dt,{justify:"center",align:"middle",style:{height:"100vh"}},r.createElement(qt,{xs:22},r.createElement("div",{style:Gl},r.createElement("div",{style:Zl},r.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),r.createElement(gt,{title:i,headStyle:{borderBottom:0}},r.createElement(se,{layout:"vertical",form:e,onFinish:l=>{n(l)},requiredMark:!1,initialValues:{remember:!1}},r.createElement(se.Item,{name:"username",label:t("pages.login.username","Username"),rules:[{required:!0}]},r.createElement(it,{size:"large",placeholder:t("pages.login.username","Username")})),r.createElement(se.Item,{name:"password",label:t("pages.login.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},r.createElement(it,{type:"password",placeholder:"",size:"large"})),r.createElement("div",{style:{marginBottom:"12px"}},r.createElement(se.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.createElement(Ba,{style:{fontSize:"12px"}},t("pages.login.remember","Remember me"))),r.createElement("a",{style:{float:"right",fontSize:"12px"},href:"#"},t("pages.login.forgotPassword","Forgot password?"))),r.createElement(le,{type:"primary",size:"large",htmlType:"submit",loading:o,block:!0},t("pages.login.signin","Sign in"))),r.createElement("div",{style:{marginTop:8}},r.createElement(ce.Text,{style:{fontSize:12}},t("pages.login.noAccount","Dont have an account?")," ",r.createElement("a",{href:"#",style:{fontWeight:"bold"}},t("pages.login.signup","Sign up")))))))))},"LoginPage");var xt={root:{height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover",backgroundColor:"#331049"},title:{color:"white",fontWeight:800,fontSize:"64px",marginBottom:"8px"},p1:{color:"white",marginBottom:0,fontSize:"20px",fontWeight:"bold"},p2:{color:"white",fontSize:"20px"},code:{backgroundColor:"white",color:"#331049"}};A(()=>T.createElement(Dt,{align:"middle",justify:"center",style:xt.root},T.createElement(qt,{style:{textAlign:"center"}},T.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),T.createElement(ce.Title,{style:xt.title},"Welcome on board"),T.createElement("p",{style:xt.p1},"Your configuration is completed."),T.createElement("p",{style:xt.p2},"Now you can get started by adding your resources to the"," ",T.createElement("code",{style:xt.code},"resources")," property of"," ",T.createElement("code",{style:xt.code},"<Refine>")),T.createElement(Le,{size:"large",wrap:!0,style:{marginTop:"70px",justifyContent:"center"}},T.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},T.createElement(le,{size:"large",icon:T.createElement(po,null)},"Documentation")),T.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},T.createElement(le,{size:"large",icon:T.createElement(vo,null)},"Examples")),T.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},T.createElement(le,{size:"large",icon:T.createElement(go,null)},"Community"))))),"ReadyPage");A(()=>r.createElement(el,null),"WelcomePage");var pr={},vr={maxWidth:"400px",margin:"auto",padding:"32px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.02), 0px 1px 6px -1px rgba(0, 0, 0, 0.02), 0px 1px 2px rgba(0, 0, 0, 0.03)"},gr={borderBottom:0,padding:0},fr={padding:0,marginTop:"32px"},yr={textAlign:"center",marginBottom:0,fontSize:"24px",lineHeight:"32px",fontWeight:700,overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"},Yl=A(({providers:e,registerLink:t,forgotPasswordLink:a,rememberMe:n,contentProps:o,wrapperProps:i,renderContent:l,formProps:s,title:u,hideForm:c})=>{let{token:d}=Ze.useToken(),[v]=se.useForm(),g=_(),m=ee(),y=Se(),{Link:E}=ue(),f=m==="legacy"?E:y,C=de(),{mutate:h,isLoading:P}=jt({v3LegacyAuthProviderCompatible:!!(C!=null&&C.isLegacy)}),b=u===!1?null:r.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},u??r.createElement(_t,{collapsed:!1})),F=r.createElement(ce.Title,{level:3,style:{color:d.colorPrimaryTextHover,...yr}},g("pages.login.title","Sign in to your account")),x=A(()=>e&&e.length>0?r.createElement(r.Fragment,null,e.map($=>r.createElement(le,{key:$.name,type:"default",block:!0,icon:$.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>h({providerName:$.name})},$.label)),!c&&r.createElement(Ra,null,r.createElement(ce.Text,{style:{color:d.colorTextLabel}},g("pages.login.divider","or")))):null,"renderProviders"),w=r.createElement(gt,{title:F,headStyle:gr,bodyStyle:fr,style:{...vr,backgroundColor:d.colorBgElevated},...o??{}},x(),!c&&r.createElement(se,{layout:"vertical",form:v,onFinish:$=>h($),requiredMark:!1,initialValues:{remember:!1},...s},r.createElement(se.Item,{name:"email",label:g("pages.login.fields.email","Email"),rules:[{required:!0},{type:"email",message:g("pages.login.errors.validEmail","Invalid email address")}]},r.createElement(it,{size:"large",placeholder:g("pages.login.fields.email","Email")})),r.createElement(se.Item,{name:"password",label:g("pages.login.fields.password","Password"),rules:[{required:!0}]},r.createElement(it,{type:"password",autoComplete:"current-password",placeholder:"",size:"large"})),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"}},n??r.createElement(se.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.createElement(Ba,{style:{fontSize:"12px"}},g("pages.login.buttons.rememberMe","Remember me"))),a??r.createElement(f,{style:{color:d.colorPrimaryTextHover,fontSize:"12px",marginLeft:"auto"},to:"/forgot-password"},g("pages.login.buttons.forgotPassword","Forgot password?"))),!c&&r.createElement(se.Item,null,r.createElement(le,{type:"primary",size:"large",htmlType:"submit",loading:P,block:!0},g("pages.login.signin","Sign in")))),t??r.createElement("div",{style:{marginTop:c?16:8}},r.createElement(ce.Text,{style:{fontSize:12}},g("pages.login.buttons.noAccount","Dont have an account?")," ",r.createElement(f,{to:"/register",style:{fontWeight:"bold",color:d.colorPrimaryTextHover}},g("pages.login.signup","Sign up")))));return r.createElement(me,{style:pr,...i??{}},r.createElement(Dt,{justify:"center",align:c?"top":"middle",style:{padding:"16px 0",minHeight:"100dvh",paddingTop:c?"15dvh":"16px"}},r.createElement(qt,{xs:22},l?l(w,b):r.createElement(r.Fragment,null,b,w))))},"LoginPage"),Xl=A(({providers:e,loginLink:t,wrapperProps:a,contentProps:n,renderContent:o,formProps:i,title:l,hideForm:s})=>{let{token:u}=Ze.useToken(),[c]=se.useForm(),d=_(),v=ee(),g=Se(),{Link:m}=ue(),y=v==="legacy"?m:g,E=de(),{mutate:f,isLoading:C}=_r({v3LegacyAuthProviderCompatible:!!(E!=null&&E.isLegacy)}),h=l===!1?null:r.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},l??r.createElement(_t,{collapsed:!1})),P=r.createElement(ce.Title,{level:3,style:{color:u.colorPrimaryTextHover,...yr}},d("pages.register.title","Login As A Lecturer")),b=A(()=>e&&e.length>0?r.createElement(r.Fragment,null,e.map(x=>r.createElement(le,{key:x.name,type:"default",block:!0,icon:x.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>f({providerName:x.name})},x.label)),!s&&r.createElement(Ra,null,r.createElement(ce.Text,{style:{color:u.colorTextLabel}},d("pages.login.divider","or")))):null,"renderProviders"),F=r.createElement(gt,{title:P,headStyle:gr,bodyStyle:fr,style:{...vr,backgroundColor:u.colorBgElevated},...n??{}},b(),!s&&r.createElement(se,{layout:"vertical",form:c,onFinish:x=>f(x),requiredMark:!1,...i},r.createElement(se.Item,{name:"email",label:d("pages.register.email","Email"),rules:[{required:!0},{type:"email",message:d("pages.register.errors.validEmail","Invalid email address")}]},r.createElement(it,{size:"large",placeholder:d("pages.register.fields.email","Email")})),r.createElement(se.Item,{name:"password",label:d("pages.register.fields.password","Password"),rules:[{required:!0}]},r.createElement(it,{type:"password",placeholder:"",size:"large"})),r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"}},t??r.createElement(ce.Text,{style:{fontSize:12,marginLeft:"auto"}},d("pages.login.buttons.haveAccount","Have an account?")," ",r.createElement(y,{style:{fontWeight:"bold",color:u.colorPrimaryTextHover},to:"/login"},d("pages.login.signin","Sign in")))),r.createElement(se.Item,{style:{marginBottom:0}},r.createElement(le,{type:"primary",size:"large",htmlType:"submit",loading:C,block:!0},d("pages.register.buttons.submit","Sign up")))),s&&t!==!1&&r.createElement("div",{style:{marginTop:s?16:8}},r.createElement(ce.Text,{style:{fontSize:12}},d("pages.login.buttons.haveAccount","Have an account?")," ",r.createElement(y,{style:{fontWeight:"bold",color:u.colorPrimaryTextHover},to:"/login"},d("pages.login.signin","Sign in")))));return r.createElement(me,{style:pr,...a??{}},r.createElement(Dt,{justify:"center",align:s?"top":"middle",style:{padding:"16px 0",minHeight:"100dvh",paddingTop:s?"15dvh":"16px"}},r.createElement(qt,{xs:22},o?o(F,h):r.createElement(r.Fragment,null,h,F))))},"RegisterPage"),Jl=A(({loginLink:e,wrapperProps:t,contentProps:a,renderContent:n,formProps:o,title:i})=>{let{token:l}=Ze.useToken(),[s]=se.useForm(),u=_(),c=ee(),d=Se(),{Link:v}=ue(),g=c==="legacy"?v:d,{mutate:m,isLoading:y}=Zr(),E=i===!1?null:r.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},i??r.createElement(_t,{collapsed:!1})),f=r.createElement(ce.Title,{level:3,style:{color:l.colorPrimaryTextHover,...yr}},u("pages.forgotPassword.title","Forgot your password?")),C=r.createElement(gt,{title:f,headStyle:gr,bodyStyle:fr,style:{...vr,backgroundColor:l.colorBgElevated},...a??{}},r.createElement(se,{layout:"vertical",form:s,onFinish:h=>m(h),requiredMark:!1,...o},r.createElement(se.Item,{name:"email",label:u("pages.forgotPassword.fields.email","Email"),rules:[{required:!0},{type:"email",message:u("pages.forgotPassword.errors.validEmail","Invalid email address")}]},r.createElement(it,{type:"email",size:"large",placeholder:u("pages.forgotPassword.fields.email","Email")})),r.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},e??r.createElement(ce.Text,{style:{fontSize:12,marginLeft:"auto"}},u("pages.register.buttons.haveAccount","Have an account? ")," ",r.createElement(g,{style:{fontWeight:"bold",color:l.colorPrimaryTextHover},to:"/login"},u("pages.login.signin","Sign in")))),r.createElement(se.Item,{style:{marginTop:"24px",marginBottom:0}},r.createElement(le,{type:"primary",size:"large",htmlType:"submit",loading:y,block:!0},u("pages.forgotPassword.buttons.submit","Send reset instructions")))));return r.createElement(me,{style:pr,...t??{}},r.createElement(Dt,{justify:"center",align:"middle",style:{padding:"16px 0",minHeight:"100dvh"}},r.createElement(qt,{xs:22},n?n(C,E):r.createElement(r.Fragment,null,E,C))))},"ForgotPasswordPage"),es=A(({wrapperProps:e,contentProps:t,renderContent:a,formProps:n,title:o})=>{let{token:i}=Ze.useToken(),[l]=se.useForm(),s=_(),u=de(),{mutate:c,isLoading:d}=Yr({v3LegacyAuthProviderCompatible:!!(u!=null&&u.isLegacy)}),v=o===!1?null:r.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},o??r.createElement(_t,{collapsed:!1})),g=r.createElement(ce.Title,{level:3,style:{color:i.colorPrimaryTextHover,...yr}},s("pages.updatePassword.title","Set New Password")),m=r.createElement(gt,{title:g,headStyle:gr,bodyStyle:fr,style:{...vr,backgroundColor:i.colorBgElevated},...t??{}},r.createElement(se,{layout:"vertical",form:l,onFinish:y=>c(y),requiredMark:!1,...n},r.createElement(se.Item,{name:"password",label:s("pages.updatePassword.fields.password","New Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},r.createElement(it,{type:"password",placeholder:"",size:"large"})),r.createElement(se.Item,{name:"confirmPassword",label:s("pages.updatePassword.fields.confirmPassword","Confirm New Password"),hasFeedback:!0,dependencies:["password"],rules:[{required:!0},({getFieldValue:y})=>({validator(E,f){return!f||y("password")===f?Promise.resolve():Promise.reject(new Error(s("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match")))}})]},r.createElement(it,{type:"password",placeholder:"",size:"large"})),r.createElement(se.Item,{style:{marginBottom:0}},r.createElement(le,{type:"primary",size:"large",htmlType:"submit",loading:d,block:!0},s("pages.updatePassword.buttons.submit","Update")))));return r.createElement(me,{style:pr,...e??{}},r.createElement(Dt,{justify:"center",align:"middle",style:{padding:"16px 0",minHeight:"100dvh"}},r.createElement(qt,{xs:22},a?a(m,v):r.createElement(r.Fragment,null,v,m))))},"UpdatePasswordPage"),xu=A(e=>{let{type:t}=e;return r.createElement(r.Fragment,null,A(()=>{switch(t){case"register":return r.createElement(Xl,{...e});case"forgotPassword":return r.createElement(Jl,{...e});case"updatePassword":return r.createElement(es,{...e});default:return r.createElement(Yl,{...e})}},"renderView")())},"AuthPage"),hr=A(({breadcrumbProps:e,showHome:t=!0,hideIcons:a=!1,meta:n})=>{let o=ee(),{breadcrumbs:i}=Ri({meta:n}),l=Se(),{Link:s}=ue(),{hasDashboard:u}=he(),{resources:c}=Z(),d=sn("/",c),v=o==="legacy"?s:l;if(i.length===1)return null;let g=i.map(({label:m,icon:y,href:E})=>({key:`breadcrumb-item-${m}`,title:r.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:4}},!a&&y,E?r.createElement(v,{to:E},m):r.createElement("span",null,m))}));return r.createElement(_n,{items:A(()=>{var m,y;return t&&(u||d.found)?[{key:"breadcrumb-item-home",title:r.createElement(v,{to:"/"},((y=(m=d==null?void 0:d.resource)==null?void 0:m.meta)==null?void 0:y.icon)??r.createElement(fo,null))},...g]:g},"getBreadcrumbItems")(),...e})},"Breadcrumb"),Er=A(({children:e,...t})=>{let a=typeof t.backIcon>"u"?r.createElement(le,{type:"text",icon:r.createElement(yo,null)}):t.backIcon,n=typeof t.title=="string"?r.createElement(ce.Title,{className:$a.Title,level:4,style:{marginBottom:0}},t.title):t.title,o=typeof t.title=="string"?r.createElement(ce.Title,{className:$a.SubTitle,level:5,type:"secondary",style:{marginBottom:0}},t.subTitle):t.subTitle;return r.createElement(ho,{...t,backIcon:a,title:n,subTitle:o,style:{padding:0,...t.style}},e)},"PageHeader"),ts=A(({status:e,elements:{success:t=r.createElement(tr,{key:"autoSave.success",defaultMessage:"saved",icon:r.createElement(Eo,null)}),error:a=r.createElement(tr,{key:"autoSave.error",defaultMessage:"auto save failure",icon:r.createElement(bo,null)}),loading:n=r.createElement(tr,{key:"autoSave.loading",defaultMessage:"saving...",icon:r.createElement(Co,null)}),idle:o=r.createElement(tr,{key:"autoSave.idle",defaultMessage:"waiting for changes",icon:r.createElement(wo,null)})}={}})=>r.createElement(El,{status:e,elements:{success:t,error:a,loading:n,idle:o}}),"AutoSaveIndicator"),tr=A(({key:e,defaultMessage:t,icon:a})=>{let n=_(),{token:o}=Ze.useToken();return r.createElement(ce.Text,{style:{marginRight:5,color:o.colorTextTertiary,fontSize:".8rem"}},n(e,t),r.createElement("span",{style:{marginLeft:".2rem"}},a))},"Message");A(e=>{let{fileList:t}=e;return[...t]},"getValueFromEvent");var Su=()=>null,ku=({children:e})=>e,Da=e=>{if(typeof e>"u")return e;let t=Number(e);return`${t}`===e?t:e},rs={addQueryPrefix:!0,skipNulls:!0,arrayFormat:"indices",encode:!1,encodeValuesOnly:!0},Fu={go:()=>{let{search:e,hash:t}=Wt(),a=fa();return T.useCallback(({to:n,type:o,query:i,hash:l,options:{keepQuery:s,keepHash:u}={}})=>{let c={...s&&e&&Sr.parse(e,{ignoreQueryPrefix:!0}),...i};c.to&&(c.to=encodeURIComponent(`${c.to}`));let d=Object.keys(c).length>0,v=`#${(l||u&&t||"").replace(/^#/,"")}`,g=v.length>1,m=`${n||""}${d?Sr.stringify(c,rs):""}${g?v:""}`;return o==="path"?m:a(m,{replace:o==="replace"})},[t,e,a])},back:()=>{let e=fa();return T.useCallback(()=>{e(-1)},[e])},parse:()=>{var e;let t=No(),{pathname:a,search:n}=Wt(),{resources:o}=T.useContext(Ht),{resource:i,action:l,matchedRoute:s}=r.useMemo(()=>sn(a,o),[o,a]);return Object.entries(t).length===0&&s&&(t=((e=Do(s,a))==null?void 0:e.params)||{}),T.useCallback(()=>{let u=Sr.parse(n,{ignoreQueryPrefix:!0}),c={...t,...u};return{...i&&{resource:i},...l&&{action:l},...(t==null?void 0:t.id)&&{id:decodeURIComponent(t.id)},pathname:a,params:{...c,current:Da(c.current),pageSize:Da(c.pageSize),to:c.to?decodeURIComponent(c.to):void 0}}},[a,n,t,i,l])},Link:r.forwardRef(function(e,t){return r.createElement(To,{...e,ref:t})})},Lu=({resource:e,meta:t})=>{let a=ur(),{resource:n,resources:o}=Z(e),i=n||o.find(l=>l.list);if(i){let l=a({resource:i,action:"list",meta:t});return l?r.createElement(Va,{to:l}):(console.warn("No resource is found to navigate to."),null)}return console.warn("No resource is found to navigate to."),null};function as(e,t=!0){let{navigator:a}=r.useContext($o);r.useEffect(()=>{if(!t)return;let n=a.go,o=a.push;return a.push=(...i)=>{e()!==!1&&o(...i)},a.go=(...i)=>{e()!==!1&&n(...i)},()=>{a.push=o,a.go=n}},[a,e,t])}function ns(e,t=!0,a,n=!1){let o=r.useCallback(l=>(l.preventDefault(),l.returnValue=e,l.returnValue),[e]);r.useEffect(()=>(t&&!n&&window.addEventListener("beforeunload",o),()=>{window.removeEventListener("beforeunload",o)}),[o,t,n]);let i=r.useCallback(()=>{let l=window.confirm(e);return l&&a&&a(),l},[e]);as(i,t)}var Tu=({translationKey:e="warnWhenUnsavedChanges",message:t="Are you sure you want to leave? You have unsaved changes."})=>{let a=_(),{pathname:n}=Wt(),{warnWhen:o,setWarnWhen:i}=et();r.useEffect(()=>()=>i==null?void 0:i(!1),[n]);let l=r.useMemo(()=>a(e,t),[e,t,a]);return ns(l,o,()=>{i==null||i(!1)}),null},Nu=({to:e})=>{let{pathname:t,search:a}=Wt(),n=`${t}${a}`,o=n.length>1?`?to=${encodeURIComponent(n)}`:"";return r.createElement(Va,{to:`${e}${o}`})};function $u({handler:e}){var t;let a=Wt(),{action:n,id:o,params:i,pathname:l,resource:s}=Re(),u=_(),c=ct(),d=(s==null?void 0:s.identifier)??(s==null?void 0:s.name),v=(s==null?void 0:s.label)??((t=s==null?void 0:s.meta)==null?void 0:t.label)??c(d,n==="list"?"plural":"singular");return T.useLayoutEffect(()=>{let g=vn(u,s,n,`${o}`,v);e?document.title=e({action:n,resource:s,params:i,pathname:l,autoGeneratedTitle:g}):document.title=g},[a]),r.createElement(r.Fragment,null)}const la={parse:JSON.parse,stringify:JSON.stringify};var os=function(t){var a=t.uri,n=t.name,o=t.type;this.uri=a,this.name=n,this.type=o},is=os,Mn=function(t){return typeof File<"u"&&t instanceof File||typeof Blob<"u"&&t instanceof Blob||t instanceof is};const ls=jr(Mn);var ss=Mn,us=function e(t,a,n){a===void 0&&(a=""),n===void 0&&(n=ss);var o,i=new Map;function l(d,v){var g=i.get(v);g?g.push.apply(g,d):i.set(v,d)}if(n(t))o=null,l([a],t);else{var s=a?a+".":"";if(typeof FileList<"u"&&t instanceof FileList)o=Array.prototype.map.call(t,function(d,v){return l([""+s+v],d),null});else if(Array.isArray(t))o=t.map(function(d,v){var g=e(d,""+s+v,n);return g.files.forEach(l),g.clone});else if(t&&t.constructor===Object){o={};for(var u in t){var c=e(t[u],""+s+u,n);c.files.forEach(l),o[u]=c.clone}}else o=t}return{clone:o,files:i}};const cs=jr(us);var ds=typeof self=="object"?self.FormData:window.FormData;const ms=jr(ds),ps=e=>ls(e)||e!==null&&typeof e=="object"&&typeof e.pipe=="function",vs=(e,t,a,n=la)=>{const{clone:o,files:i}=cs({query:e,variables:t,operationName:a},"",ps);if(i.size===0){if(!Array.isArray(e))return n.stringify(o);if(typeof t<"u"&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");const d=e.reduce((v,g,m)=>(v.push({query:g,variables:t?t[m]:void 0}),v),[]);return n.stringify(d)}const l=typeof FormData>"u"?ms:FormData,s=new l;s.append("operations",n.stringify(o));const u={};let c=0;return i.forEach(d=>{u[++c]=d}),s.append("map",n.stringify(u)),c=0,i.forEach((d,v)=>{s.append(`${++c}`,v)}),s},gs=e=>e.toUpperCase(),fs=e=>{const t={};return e.forEach((a,n)=>{t[n]=a}),t},ys=(e,t,a)=>e.document?e:{document:e,variables:t,requestHeaders:a,signal:void 0},hs=(e,t,a)=>e.query?e:{query:e,variables:t,requestHeaders:a,signal:void 0},Es=(e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0},bs=(e,t,...a)=>{const[n,o]=a;return e.document?e:{url:e,document:t,variables:n,requestHeaders:o,signal:void 0}},qa=e=>{var n,o;let t;const a=e.definitions.filter(i=>i.kind==="OperationDefinition");return a.length===1&&(t=(o=(n=a[0])==null?void 0:n.name)==null?void 0:o.value),t},Mr=e=>{if(typeof e=="string"){let a;try{const n=qo(e);a=qa(n)}catch{}return{query:e,operationName:a}}const t=qa(e);return{query:Mo(e),operationName:t}};class zt extends Error{constructor(t,a){const n=`${zt.extractMessage(t)}: ${JSON.stringify({response:t,request:a})}`;super(n),Object.setPrototypeOf(this,zt.prototype),this.response=t,this.request=a,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,zt)}static extractMessage(t){var a,n;return((n=(a=t.errors)==null?void 0:a[0])==null?void 0:n.message)??`GraphQL Error (Code: ${t.status})`}}const St=e=>{let t={};return e&&(typeof Headers<"u"&&e instanceof Headers||Oo&&ya.Headers&&e instanceof ya.Headers?t=fs(e):Array.isArray(e)?e.forEach(([a,n])=>{a&&n!==void 0&&(t[a]=n)}):t=e),t},Ma=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),Cs=e=>{if(!Array.isArray(e.query)){const n=e,o=[`query=${encodeURIComponent(Ma(n.query))}`];return e.variables&&o.push(`variables=${encodeURIComponent(n.jsonSerializer.stringify(n.variables))}`),n.operationName&&o.push(`operationName=${encodeURIComponent(n.operationName)}`),o.join("&")}if(typeof e.variables<"u"&&!Array.isArray(e.variables))throw new Error("Cannot create query with given variable type, array expected");const t=e,a=e.query.reduce((n,o,i)=>(n.push({query:Ma(o),variables:t.variables?t.jsonSerializer.stringify(t.variables[i]):void 0}),n),[]);return`query=${encodeURIComponent(t.jsonSerializer.stringify(a))}`},ws=e=>async t=>{const{url:a,query:n,variables:o,operationName:i,fetch:l,fetchOptions:s,middleware:u}=t,c={...t.headers};let d="",v;e==="POST"?(v=vs(n,o,i,s.jsonSerializer),typeof v=="string"&&(c["Content-Type"]="application/json")):d=Cs({query:n,variables:o,operationName:i,jsonSerializer:s.jsonSerializer??la});const g={method:e,headers:c,body:v,...s};let m=a,y=g;if(u){const E=await Promise.resolve(u({...g,url:a,operationName:i,variables:o})),{url:f,...C}=E;m=f,y=C}return d&&(m=`${m}?${d}`),await l(m,y)};class Ps{constructor(t,a={}){this.url=t,this.requestConfig=a,this.rawRequest=async(...n)=>{const[o,i,l]=n,s=hs(o,i,l),{headers:u,fetch:c=kr,method:d="POST",requestMiddleware:v,responseMiddleware:g,...m}=this.requestConfig,{url:y}=this;s.signal!==void 0&&(m.signal=s.signal);const{operationName:E}=Mr(s.query);return Or({url:y,query:s.query,variables:s.variables,headers:{...St(Ir(u)),...St(s.requestHeaders)},operationName:E,fetch:c,method:d,fetchOptions:m,middleware:v}).then(f=>(g&&g(f),f)).catch(f=>{throw g&&g(f),f})}}async request(t,...a){const[n,o]=a,i=ys(t,n,o),{headers:l,fetch:s=kr,method:u="POST",requestMiddleware:c,responseMiddleware:d,...v}=this.requestConfig,{url:g}=this;i.signal!==void 0&&(v.signal=i.signal);const{query:m,operationName:y}=Mr(i.document);return Or({url:g,query:m,variables:i.variables,headers:{...St(Ir(l)),...St(i.requestHeaders)},operationName:y,fetch:s,method:u,fetchOptions:v,middleware:c}).then(E=>(d&&d(E),E.data)).catch(E=>{throw d&&d(E),E})}batchRequests(t,a){const n=Es(t,a),{headers:o,...i}=this.requestConfig;n.signal!==void 0&&(i.signal=n.signal);const l=n.documents.map(({document:u})=>Mr(u).query),s=n.documents.map(({variables:u})=>u);return Or({url:this.url,query:l,variables:s,headers:{...St(Ir(o)),...St(n.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??kr,method:this.requestConfig.method||"POST",fetchOptions:i,middleware:this.requestConfig.requestMiddleware}).then(u=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(u),u.data)).catch(u=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(u),u})}setHeaders(t){return this.requestConfig.headers=t,this}setHeader(t,a){const{headers:n}=this.requestConfig;return n?n[t]=a:this.requestConfig.headers={[t]:a},this}setEndpoint(t){return this.url=t,this}}const Or=async e=>{const{query:t,variables:a,fetchOptions:n}=e,o=ws(gs(e.method??"post")),i=Array.isArray(e.query),l=await o(e),s=await xs(l,n.jsonSerializer??la),u=Array.isArray(s)?!s.some(({data:d})=>!d):!!s.data,c=Array.isArray(s)||!s.errors||Array.isArray(s.errors)&&!s.errors.length||n.errorPolicy==="all"||n.errorPolicy==="ignore";if(l.ok&&c&&u){const{errors:d,...v}=(Array.isArray(s),s),g=n.errorPolicy==="ignore"?v:s;return{...i?{data:g}:g,headers:l.headers,status:l.status}}else{const d=typeof s=="string"?{error:s}:s;throw new zt({...d,status:l.status,headers:l.headers},{query:t,variables:a})}};async function Du(e,t,...a){const n=bs(e,t,...a);return new Ps(n.url).request({...n})}const xs=async(e,t)=>{let a;return e.headers.forEach((n,o)=>{o.toLowerCase()==="content-type"&&(a=n)}),a&&(a.toLowerCase().startsWith("application/json")||a.toLowerCase().startsWith("application/graphql+json")||a.toLowerCase().startsWith("application/graphql-response+json"))?t.parse(await e.text()):e.text()},Ir=e=>typeof e=="function"?e():e;var Ss=e=>{var t,a;return(a=(t=e==null?void 0:e.selectionSet)==null?void 0:t.selections)==null?void 0:a.find(n=>n.kind==="Field"&&n.name.value==="nodes")},sa=e=>{let t=[],a=!0,n=0,o=!1;return Ga(e,{Field:{enter(i){if(a){a=!1;let l=Ss(i)??i;if(typeof l.selectionSet>"u")throw new Error("Operation must have a selection set");return l.selectionSet}t.push(`${n>0?"  ".repeat(o?n:n-1):""}${i.name.value}${i.selectionSet?" {":""}`),i.selectionSet&&(n++,o=!0)},leave(i){i.selectionSet&&(n--,t.push(`${"  ".repeat(n)}}`),o=!1)}}}),t.join(`
`).trim()},ks=e=>{let t=!1;return Ga(e,{OperationDefinition:{enter(a){a.operation==="mutation"&&(t=!0)}}}),t},Fs=(e,{callback:t,params:a,meta:n},o)=>{let i={created:$s,updated:Ds,deleted:qs},{resource:l,filters:s,subscriptionType:u,id:c,ids:d}=a??{},v=i[o],{operation:g,query:m,variables:y,operationName:E}=v({ids:d,id:c,resource:l,filters:s,meta:n,subscriptionType:u}),f=C=>{t(C.data[g])};return e.subscribe({query:m,variables:y,operationName:E},{next:f,error:console.error,complete:()=>null})},Ls={eq:"eq",ne:"neq",lt:"lt",gt:"gt",lte:"lte",gte:"gte",in:"in",nin:"notIn"},Ts=(e,t)=>{if(e==="contains")return{iLike:`%${t}%`};if(e==="ncontains")return{notILike:`%${t}%`};if(e==="startswith")return{iLike:`${t}%`};if(e==="nstartswith")return{notILike:`${t}%`};if(e==="endswith")return{iLike:`%${t}`};if(e==="nendswith")return{notILike:`%${t}`};if(e==="null")return{is:null};if(e==="nnull")return{isNot:null};if(e==="between"){if(!Array.isArray(t))throw new Error("Between operator requires an array");return t.length!==2?{}:{between:{lower:t[0],upper:t[1]}}}return{[Ls[e]]:t}},st=e=>{let t={};return e.filter(a=>Array.isArray(a.value)&&a.value.length===0?!1:!!a.value).map(a=>a.operator==="and"||a.operator==="or"?va(t,a.operator,[st(a.value)]):"field"in a?va(t,a.field,Ts(a.operator,a.value)):{}),t},Oa=e=>e.map(t=>({field:t.field,direction:t.order.toUpperCase()})),Ns=e=>{if(e.mode==="off")return{limit:2147483647};if(e.mode==="server"&&!(!e.current||!e.pageSize))return{limit:e.pageSize,offset:(e.current-1)*e.pageSize}},$s=({resource:e,filters:t,meta:a})=>{let n=(a==null?void 0:a.gqlQuery)??(a==null?void 0:a.gqlMutation);if(n){let u=ie(ge.singular(e),{pascalCase:!0}),c=`Created${u}`,d=`created${u}`,v=`
            subscription ${c}($input: Create${u}SubscriptionFilterInput) {
                ${d}(input: $input) {
                    ${sa(n)}
                }
            }
        `,g={};return t&&(g.input={filter:st(t.filter(m=>!m.field.includes(".")))}),{query:v,variables:g,operation:d,operationName:c}}let o=`created${ie(ge.singular(e),{pascalCase:!0})}`,i={};t&&(i.input={type:ie(`create_${ge.singular(e)}_subscription_filter_input`,{pascalCase:!0}),required:!0,value:{filter:st(t.filter(u=>!u.field.includes(".")))}});let{query:l,variables:s}=Qr({operation:o,fields:a.fields,variables:i});return{query:l,variables:s,operation:o}},Ds=({id:e,resource:t,filters:a,meta:n})=>{let o=(n==null?void 0:n.gqlQuery)??(n==null?void 0:n.gqlMutation);if(o){let c=ie(ge.singular(t),{pascalCase:!0}),d=`Updated${c}`,v=`updatedOne${c}`,g=`
            subscription ${d}($input: UpdateOne${c}SubscriptionFilterInput) {
                ${v}(input: $input) {
                   ${sa(o)}
                }
            }
        `,m={};return a&&(m.input={filter:st(a.filter(y=>!y.field.includes(".")))}),e&&(m.input={filter:{id:{eq:e}}}),{query:g,variables:m,operation:v,operationName:d}}let i=`updatedOne${ie(ge.singular(t),{pascalCase:!0})}`,l={};a&&(l.input={type:ie(`update_one_${ge.singular(t)}_subscription_filter_input`,{pascalCase:!0}),required:!0,value:{filter:st(a.filter(c=>!c.field.includes(".")))}}),e&&(l.input={type:ie(`update_one_${ge.singular(t)}_subscription_filter_input`,{pascalCase:!0}),required:!0,value:{filter:{id:{eq:e}}}});let{query:s,variables:u}=Qr({operation:i,fields:n.fields,variables:l});return{query:s,variables:u,operation:i}},qs=({resource:e,filters:t,meta:a})=>{if(a!=null&&a.gqlQuery){let s=ie(ge.singular(e),{pascalCase:!0}),u=`Deleted${s}`,c=`deletedOne${s}`,d=`
            subscription ${u}($input: DeleteOne${s}SubscriptionFilterInput) {
                ${c}(input: $input) {
                    id
                }
            }
        `,v={};return t&&(v.input={filter:st(t.filter(g=>!g.field.includes(".")))}),{query:d,variables:v,operation:c,operationName:u}}let n=`deletedOne${ie(ge.singular(e),{pascalCase:!0})}`,o={};t&&(o.input={type:ie(`delete_one_${ge.singular(e)}_subscription_filter_input`,{pascalCase:!0}),required:!0,value:{filter:st(t.filter(s=>!s.field.includes(".")))}});let{query:i,variables:l}=Qr({operation:n,fields:a.fields.filter(s=>typeof s!="object"),variables:o});return{query:i,variables:l,operation:n}},Ms=e=>({getList:async({resource:t,pagination:a,sorters:n,filters:o,meta:i})=>{let l=ie(t),s=Ns(a||{}),u={},c,d;if(i!=null&&i.gqlQuery)c=i==null?void 0:i.gqlQuery,d={filter:o?st(o):{},sorting:n?Oa(n):[],paging:s};else{o&&(u.filter={type:ie(`${ge.singular(t)}Filter`,{pascalCase:!0}),required:!0,value:st(o)}),n&&(u.sorting={type:ie(`${ge.singular(t)}Sort`,{pascalCase:!0}),required:!0,list:[!0],value:Oa(n)}),s&&(u.paging={type:"OffsetPaging",required:!0,value:s});let g=Bt({operation:l,fields:[{nodes:i==null?void 0:i.fields},"totalCount"],variables:u});c=g.query,d=g.variables}let v=await e.request(c,d);return{data:v[l].nodes,total:v[l].totalCount}},getMany:async({resource:t,ids:a,meta:n})=>{let o=ie(t);if(n!=null&&n.gqlQuery)return{data:(await e.request(n.gqlQuery,{filter:{id:{in:a}}}))[o].nodes};let{query:i,variables:l}=Bt({operation:o,fields:[{nodes:(n==null?void 0:n.fields)||["id"]}],variables:{filter:{type:ie(`${ge.singular(t)}Filter`,{pascalCase:!0}),required:!0,value:{id:{in:a}}}}});return{data:(await e.request(i,l))[o].nodes}},create:async({resource:t,variables:a,meta:n})=>{let o=`createOne${ie(ge.singular(t),{pascalCase:!0})}`,i=(n==null?void 0:n.gqlMutation)??(n==null?void 0:n.gqlQuery);if(i)return{data:(await e.request(i,{input:{[ie(ge.singular(t))]:a}}))[o]};let{query:l,variables:s}=Yt({operation:o,fields:(n==null?void 0:n.fields)||["id"],variables:{input:{type:`CreateOne${ie(ge.singular(t),{pascalCase:!0})}Input`,required:!0,value:{[ie(ge.singular(t))]:a}}}});return{data:(await e.request(l,s))[o]}},createMany:async({resource:t,variables:a,meta:n})=>{let o=`createMany${ie(t,{pascalCase:!0})}`,i=(n==null?void 0:n.gqlMutation)??(n==null?void 0:n.gqlQuery);if(i)return{data:(await e.request(i,{input:{[ie(t)]:a}}))[o]};let{query:l,variables:s}=Yt({operation:o,fields:(n==null?void 0:n.fields)||["id"],variables:{input:{type:`CreateMany${ie(t,{pascalCase:!0})}Input`,required:!0,value:{[ie(t)]:a}}}});return{data:(await e.request(l,s))[o]}},update:async({resource:t,id:a,variables:n,meta:o})=>{let i=`updateOne${ie(ge.singular(t),{pascalCase:!0})}`,l=(o==null?void 0:o.gqlMutation)??(o==null?void 0:o.gqlQuery);if(l)return{data:(await e.request(l,{input:{id:a,update:n}}))[i]};let{query:s,variables:u}=Yt({operation:i,fields:(o==null?void 0:o.fields)||["id"],variables:{input:{type:`UpdateOne${ie(ge.singular(t),{pascalCase:!0})}Input`,required:!0,value:{id:a,update:n}}}});return{data:(await e.request(s,u))[i]}},updateMany:async({resource:t,ids:a,variables:n,meta:o})=>{let i=ie(t,{pascalCase:!0}),l=`updateMany${i}`,s=Rt`
                mutation UpdateMany${i}($input: UpdateMany${i}Input!) {
                    ${l}(input: $input) {
                        updatedCount
                    }
                }
            `;await e.request(s,{input:{filter:{id:{in:a}},update:n}});let u=ie(t),c,d;if(o!=null&&o.fields){let v=Bt({operation:u,fields:[{nodes:(o==null?void 0:o.fields)||["id"]}],variables:{filter:{type:ie(`${ge.singular(t)}Filter`,{pascalCase:!0}),required:!0,value:{id:{in:a}}}}});c=v.query,d=v.variables}else c=Rt`
                    query GetMany${i}($filter: ${ge.singular(i)}Filter!) {
                        ${u}(filter: $filter) {
                            nodes {
                                id
                            }
                        }
                    }
                `,d={filter:{id:{in:a}}};return{data:(await e.request(c,d))[u].nodes}},getOne:async({resource:t,id:a,meta:n})=>{let o=ie(ge.singular(t)),i=(n==null?void 0:n.gqlQuery)??(n==null?void 0:n.gqlMutation);if(i){let u=i,c={id:a};if(ks(i)){let d=sa(i);u=Rt`
                        query Get${ie(ge.singular(t),{pascalCase:!0})}($id: ID!) {
                            ${o}(id: $id) {
                            ${d}
                            }
                        }
                    `}return{data:(await e.request(u,c))[o]}}let{query:l,variables:s}=Bt({operation:o,fields:(n==null?void 0:n.fields)||["id"],variables:{id:{type:"ID",required:!0,value:a}}});return{data:(await e.request(l,s))[o]}},deleteOne:async({resource:t,id:a,meta:n})=>{let o=ie(ge.singular(t),{pascalCase:!0}),i=`deleteOne${o}`;if(n!=null&&n.gqlMutation)return{data:(await e.request(n.gqlMutation,{input:{id:a}}))[i]};let l=Rt`
                    mutation DeleteOne${o}($input: DeleteOne${o}Input!) {
                        ${i}(input: $input) {
                            id
                        }
                    }
                `;return{data:(await e.request(l,{input:{id:a}}))[i]}},deleteMany:async({resource:t,ids:a})=>{let n=ie(t,{pascalCase:!0}),o=`deleteMany${n}`,i=Rt`
                mutation DeleteMany${n}($input: DeleteMany${n}Input!) {
                    ${o}(input: $input) {
                        deletedCount
                    }
                }
            `,l={input:{filter:{id:{in:a}}}};return await e.request(i,l),{data:[]}},getApiUrl:()=>{throw Error("Not implemented on refine-nestjs-query data provider.")},custom:async({url:t,method:a,headers:n,meta:o})=>{t&&e.setEndpoint(t),n&&e.setHeaders(n);let i=(o==null?void 0:o.gqlMutation)??(o==null?void 0:o.gqlQuery);if(i)return{data:await e.request(i,(o==null?void 0:o.variables)??{})};if(o!=null&&o.rawQuery)return{data:await e.request(o.rawQuery,o.variables)};if(o){if(o.operation){let l,s;if(a==="get"){let u=Bt({operation:o.operation,fields:o.fields,variables:o.variables});l=u.query,s=u.variables}else{let u=Yt({operation:o.operation,fields:o.fields,variables:o.variables});l=u.query,s=u.variables}return{data:(await e.request(l,s))[o.operation]}}throw Error("GraphQL operation name required.")}throw Error("GraphQL needs operation, fields and variables values in meta object.")}}),Os=Ms,qu=e=>{let t=(a,n,o,i,l,s,u)=>{let c=Fs(a,{callback:n,params:o,meta:i},l);u.push(c)};return{subscribe({callback:a,params:n,meta:o}){let{resource:i,subscriptionType:l}=n??{};if(!o||!l||!i)throw new Error("[useSubscription]: `meta`, `subscriptionType` and `resource` are required in `params` for graphql subscriptions");let s=[];return(n==null?void 0:n.subscriptionType)==="useList"&&["created","updated","deleted"].forEach(u=>t(e,a,n,o,u,i,s)),(n==null?void 0:n.subscriptionType)==="useOne"&&t(e,a,n,o,"updated",i,s),()=>{s.forEach(u=>u())}},unsubscribe(a){a()}}},Mu=Os;export{bn as $,jl as A,du as B,xu as C,mu as D,ee as E,ue as F,Ps as G,li as H,Zr as I,_t as J,jt as K,ka as L,Yr as M,ts as N,Ql as O,Fn as P,Cu as Q,cu as R,K as S,mr as T,wu as U,$t as V,Z as W,Kt as X,Tn as Y,de as Z,_,Mu as a,Pn as a0,ku as a1,pu as a2,Fu as a3,yu as a4,ml as a5,Nu as a6,Pu as a7,Lu as a8,Tu as a9,$u as aa,Su as ab,Cn as b,Nt as c,Fl as d,oa as e,Pe as f,Se as g,kl as h,xl as i,Eu as j,bu as k,gu as l,Ei as m,vi as n,hi as o,Cl as p,fu as q,Du as r,qu as s,ur as t,vu as u,hu as v,Dn as w,Re as x,qe as y,Xe as z};
