import{r as l,R as re,a as T}from"./react-f83171f6.js";import{I as ne,a as ue,c as ie,b as ae}from"./instantsearch.js-acc6351b.js";import{s as oe}from"./use-sync-external-store-45a4f913.js";import{a as le}from"./algoliasearch-helper-1f51e904.js";const I="7.7.0";function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}var $=Object.prototype.hasOwnProperty;function h(e,t,r){if(r!=null&&r(e,t))return!0;var n,u;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((u=e.length)===t.length)for(;u--&&h(e[u],t[u],r););return u===-1}if(!n||C(e)==="object"){u=0;for(n in e)if($.call(e,n)&&++u&&!$.call(t,n)||!(n in t)||!h(e[n],t[n],r))return!1;return Object.keys(t).length===u}}return e!==e&&t!==t}function E(e){var t,r,n;return new le.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(r=e.page)!==null&&r!==void 0?r:0,hitsPerPage:(n=e.hitsPerPage)!==null&&n!==void 0?n:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function x(e){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(n){ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ce(e,t,r){return t=fe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e){var t=se(e,"string");return x(t)==="symbol"?t:String(t)}function se(e,t){if(x(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ye(e){var t=e.getHelper(),r=e.getResults()||E(t.state),n=e.getScopedResults().map(function(u){var i=u.indexId===e.getIndexId()?r:E(u.helper.state);return W(W({},u),{},{results:u.results||i})});return{results:r,scopedResults:n}}function z(e,t){if(!e)throw new Error("Invariant failed")}var G=l.createContext(null);function de(){var e=l.useContext(G);return z(e!==null),e}var J=l.createContext(null);function Q(){var e=l.useContext(J);return z(e!==null),e}var ve=l.createContext(null);function Y(){return l.useContext(ve)}function pe(e,t){return he(e)||be(e,t)||ge(e,t)||me()}function me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ge(e,t){if(e){if(typeof e=="string")return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}}function U(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function be(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,u,i,a,f=[],o=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=i.call(r)).done)&&(f.push(n.value),f.length!==t);o=!0);}catch(s){c=!0,u=s}finally{try{if(!o&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw u}}return f}}function he(e){if(Array.isArray(e))return e}function D(e){var t=l.useState(function(){return e}),r=pe(t,2),n=r[0],u=r[1];return h(n,e)||u(e),n}var Se="use",F=re[Se],Oe=typeof window<"u"?l.useLayoutEffect:l.useEffect,we=l.createContext(null);function Z(){return l.useContext(we)}function Pe(e){var t,r=e.widget,n=e.parentIndex,u=e.props,i=e.shouldSsr,a=Z(),f=l.useRef(u);l.useEffect(function(){f.current=u},[u]);var o=l.useRef(r);l.useEffect(function(){o.current=r},[r]);var c=l.useRef(null),s=i&&!n.getWidgets().includes(r),y=Q();if(Oe(function(){var p=o.current;if(!c.current)s||n.addWidgets([r]);else{clearTimeout(c.current);var S=h(u,f.current);S||(n.removeWidgets([p]),n.addWidgets([r]))}return function(){c.current=setTimeout(function(){y._schedule(function(){y._preventWidgetCleanup||n.removeWidgets([p])})})}},[n,r,s,y,u]),(s||(a==null||(t=a.current)===null||t===void 0?void 0:t.status)==="pending")&&n.addWidgets([r]),typeof window>"u"&&a!==null&&a!==void 0&&a.current&&r.$$type!=="ais.index"){var v;F(a.current),r.$$type!=="ais.dynamicWidgets"&&(v=y.helper)!==null&&v!==void 0&&v.lastResults&&F(a.current)}}function R(e){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(e)}var xe=["instantSearchInstance","widgetParams"],Re=["widgetParams"];function je(e,t){return Te(e)||Ce(e,t)||Ie(e,t)||Ae()}function Ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ie(e,t){if(e){if(typeof e=="string")return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}}function N(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,u,i,a,f=[],o=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=i.call(r)).done)&&(f.push(n.value),f.length!==t);o=!0);}catch(s){c=!0,u=s}finally{try{if(!o&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw u}}return f}}function Te(e){if(Array.isArray(e))return e}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=Ee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ee(e){var t=_e(e,"string");return R(t)==="symbol"?t:String(t)}function _e(e,t){if(R(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q(e,t){if(e==null)return{};var r=We(e,t),n,u;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(u=0;u<i.length;u++)n=i[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function We(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,i;for(i=0;i<n.length;i++)u=n[i],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}function ee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Y(),u=Q(),i=de(),a=D(t),f=D(r),o=l.useRef(!0),c=l.useRef(null),s=l.useRef(u.status),y=l.useMemo(function(){var g=e(function(d,A){if(A){o.current=!0;return}if(o.current){var O=d.instantSearchInstance;d.widgetParams;var w=q(d,xe);(!h(w,c.current,function(P,b){return(P==null?void 0:P.constructor)===Function&&(b==null?void 0:b.constructor)===Function})||O.status!==s.current)&&(m(w),c.current=w,s.current=O.status)}},function(){o.current=!1});return L(L({},g(a)),f)},[e,a,f]),v=l.useState(function(){if(y.getWidgetRenderState){var g,d=i.getHelper(),A=i.getWidgetUiState({})[i.getIndexId()];d.state=((g=y.getWidgetSearchParameters)===null||g===void 0?void 0:g.call(y,d.state,{uiState:A}))||d.state;var O=ye(i),w=O.results,P=O.scopedResults,b=y.getWidgetRenderState({helper:d,parent:i,instantSearchInstance:u,results:w,scopedResults:P,state:d.state,renderState:u.renderState,templatesConfig:u.templatesConfig,createURL:i.createURL,searchMetadata:{isSearchStalled:u.status==="stalled"},status:u.status,error:u.error});b.widgetParams;var te=q(b,Re);return te}return{}}),p=je(v,2),S=p[0],m=p[1];return Pe({widget:y,parentIndex:i,props:a,shouldSsr:!!n}),S}function Ue(e,t){return He(e)||Ne(e,t)||Fe(e,t)||De()}function De(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(e,t){if(e){if(typeof e=="string")return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}}function K(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,u,i,a,f=[],o=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=i.call(r)).done)&&(f.push(n.value),f.length!==t);o=!0);}catch(s){c=!0,u=s}finally{try{if(!o&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw u}}return f}}function He(e){if(Array.isArray(e))return e}function Le(){var e=l.useReducer(function(n){return n+1},0),t=Ue(e,2),r=t[1];return r}var qe=l.createContext(null);function Ke(){return l.useContext(qe)}function j(e){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(e)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Me(e,t,r){return t=Be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Be(e){var t=ke(e,"string");return j(t)==="symbol"?t:String(t)}function ke(e,t){if(j(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k=["react (".concat(l.version,")"),"react-instantsearch (".concat(I,")"),"react-instantsearch-core (".concat(I,")")],V="react-instantsearch-server (".concat(I,")"),Ve=function(t){return t?"next.js (".concat(t,")"):null};function Xe(e){var t=Le(),r=Y(),n=Ke(),u=Z(),i=n==null?void 0:n.initialResults,a=l.useRef(e),f=r||i||u,o=l.useRef(null);if(n&&(o=n.ssrSearchRef),o.current===null){var c=new ne(e);c._schedule=function(g){c._schedule.queue.push(g),clearTimeout(c._schedule.timer),c._schedule.timer=setTimeout(function(){c._schedule.queue.forEach(function(d){d()}),c._schedule.queue=[]},0)},c._schedule.queue=[],f&&(c._initialResults=i||{}),X(e.searchClient,[].concat(k,[r&&V,Ve(ze())])),f&&c.start(),r&&r.notifyServer({search:c}),e.routing,o.current=c}{var s=o.current,y=a.current;if(y.indexName!==e.indexName&&(s.helper.setIndex(e.indexName||"").search(),a.current=e),y.searchClient!==e.searchClient&&(X(e.searchClient,[].concat(k,[r&&V])),s.mainHelper.setClient(e.searchClient).search(),a.current=e),y.onStateChange!==e.onStateChange&&(s.onStateChange=e.onStateChange,a.current=e),y.searchFunction!==e.searchFunction&&(s._searchFunction=e.searchFunction,a.current=e),y.stalledSearchDelay!==e.stalledSearchDelay){var v;s._stalledSearchDelay=(v=e.stalledSearchDelay)!==null&&v!==void 0?v:200,a.current=e}h(y.future,e.future)||(s.future=B(B({},ue),e.future),a.current=e)}var p=l.useRef(null),S=oe.useSyncExternalStore(l.useCallback(function(){var m=o.current;return p.current===null?m.started||(m.start(),t()):(clearTimeout(p.current),m._preventWidgetCleanup=!1),function(){function g(){m.dispose()}clearTimeout(m._schedule.timer),p.current=setTimeout(g),m._preventWidgetCleanup=!0}},[t]),function(){return o.current},function(){return o.current});return S}function X(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(r){e.addAlgoliaAgent(r)})}function ze(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=process.env)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var Ge=["children"];function Je(e,t){if(e==null)return{};var r=Qe(e,t),n,u;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(u=0;u<i.length;u++)n=i[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qe(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,i;for(i=0;i<n.length;i++)u=n[i],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}function rt(e){var t=e.children,r=Je(e,Ge),n=Xe(r);return n.started?T.createElement(J.Provider,{value:n},T.createElement(G.Provider,{value:n.mainIndex},t)):null}function nt(e,t){return ee(ie,e,t)}function ut(e,t){return ee(ae,e,t)}export{rt as I,nt as a,ut as u};
