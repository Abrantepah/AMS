import{r as v}from"./repeat-string-d22006ec.js";var F=g;function g(n,e,i){for(var r=n.children||[],t=[],a=-1,l=i.before,f,s,o;++a<r.length;)o=r[a],a+1<r.length?(s=e.handle.handlers[r[a+1].type],s&&s.peek&&(s=s.peek),f=s?s(r[a+1],n,e,{before:"",after:""}).charAt(0):""):f=i.after,t.length>0&&(l==="\r"||l===`
`)&&o.type==="html"&&(t[t.length-1]=t[t.length-1].replace(/(\r?\n|\r)$/," "),l=" "),t.push(e.handle(o,n,e,{before:l,after:f})),l=t[t.length-1].slice(-1);return t.join("")}var p=w;function w(n){var e,i;return n._compiled||(e=n.before?"(?:"+n.before+")":"",i=n.after?"(?:"+n.after+")":"",n.atBreak&&(e="[\\r\\n][\\t ]*"+e),n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(i||""),"g")),n._compiled}var N=d;d.peek=I;var k=p;function d(n,e,i){for(var r=n.value||"",t="`",a=-1,l,f,s,o;new RegExp("(^|[^`])"+t+"([^`]|$)").test(r);)t+="`";for(/[^ \r\n]/.test(r)&&(/[ \r\n`]/.test(r.charAt(0))||/[ \r\n`]/.test(r.charAt(r.length-1)))&&(r=" "+r+" ");++a<i.unsafe.length;)if(l=i.unsafe[a],!!l.atBreak)for(f=k(l);s=f.exec(r);)o=s.index,r.charCodeAt(o)===10&&r.charCodeAt(o-1)===13&&o--,r=r.slice(0,o)+" "+r.slice(s.index+1);return t+r+t}function I(){return"`"}var b=C;function C(n){var e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}var _=$;function $(n){var e=n.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}var x=L,j=v;function L(n,e){for(var i=n.children||[],r=[],t=-1,a;++t<i.length;)a=i[t],r.push(e.handle(a,n,e,{before:`
`,after:`
`})),t+1<i.length&&r.push(l(a,i[t+1]));return r.join("");function l(f,s){for(var o=-1,h;++o<e.join.length&&(h=e.join[o](f,s,n,e),!(h===!0||h===1));){if(typeof h=="number")return j(`
`,1+Number(h));if(h===!1)return`

<!---->

`}return`

`}}var y=B,A=/\r?\n|\r/g;function B(n,e){for(var i=[],r=0,t=0,a;a=A.exec(n);)l(n.slice(r,a.index)),i.push(a[0]),r=a.index+a[0].length,t++;return l(n.slice(r)),i.join("");function l(f){i.push(e(f,t,!f))}}var O=R,u=v,E=b,z=_,M=x,P=y;function R(n,e,i){var r=E(i),t=z(i),a,l,f;return e&&e.ordered&&(r=(e.start>-1?e.start:1)+(i.options.incrementListMarker===!1?0:e.children.indexOf(n))+"."),a=r.length+1,(t==="tab"||t==="mixed"&&(e&&e.spread||n.spread))&&(a=Math.ceil(a/4)*4),f=i.enter("listItem"),l=P(M(n,i),s),f(),l;function s(o,h,c){return h?(c?"":u(" ",a))+o:(c?r:r+u(" ",a-r.length))+o}}var S=m;function m(n,e){var i=-1,r;if(e.extensions)for(;++i<e.extensions.length;)m(n,e.extensions[i]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?n[r]=n[r].concat(e[r]||[]):r==="handlers"?n[r]=Object.assign(n[r],e[r]||{}):n.options[r]=e[r]);return n}export{F as a,S as c,N as i,O as l};
