import{am as a}from"./@ant-design-OtiXosd2.js";import{r as L}from"./react-DH8gkkhY.js";import{f as Le}from"./fast-equals-CrnhxdxQ.js";import{t as me}from"./tiny-invariant-CCEyh0dg.js";import{r as qe}from"./fuse.js-BiqRfhjd.js";import{d as Te}from"./@radix-ui-ByavxYOX.js";import{r as Ne}from"./react-virtual-v1C_eaEV.js";var He={},j={},ye=a&&a.__assign||function(){return ye=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ye.apply(this,arguments)},Ue=a&&a.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fe=a&&a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),We=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ue(t,e,r);return Fe(t,e),t},ze=a&&a.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,c;n<i;n++)(c||!(n in t))&&(c||(c=Array.prototype.slice.call(t,0,n)),c[n]=t[n]);return e.concat(c||Array.prototype.slice.call(t))};Object.defineProperty(j,"__esModule",{value:!0});j.Priority=j.isModKey=j.shouldRejectKeystrokes=j.useThrottledValue=j.getScrollbarWidth=j.useIsomorphicLayout=j.noop=j.createAction=j.randomId=j.usePointerMovedSinceMount=j.useOuterClick=j.swallowEvent=void 0;var F=We(L);function Ge(e){e.stopPropagation(),e.preventDefault()}j.swallowEvent=Ge;function Qe(e,t){var r=F.useRef(t);r.current=t,F.useEffect(function(){function n(i){var c,o;!((c=e.current)===null||c===void 0)&&c.contains(i.target)||i.target===((o=e.current)===null||o===void 0?void 0:o.getRootNode().host)||(i.preventDefault(),i.stopPropagation(),r.current())}return window.addEventListener("pointerdown",n,!0),function(){return window.removeEventListener("pointerdown",n,!0)}},[e])}j.useOuterClick=Qe;function Xe(){var e=F.useState(!1),t=e[0],r=e[1];return F.useEffect(function(){function n(){r(!0)}if(!t)return window.addEventListener("pointermove",n),function(){return window.removeEventListener("pointermove",n)}},[t]),t}j.usePointerMovedSinceMount=Xe;function Ee(){return Math.random().toString(36).substring(2,9)}j.randomId=Ee;function Ye(e){return ye({id:Ee()},e)}j.createAction=Ye;function Ke(){}j.noop=Ke;j.useIsomorphicLayout=typeof window>"u"?Ke:F.useLayoutEffect;function Ze(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var r=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),r}j.getScrollbarWidth=Ze;function Je(e,t){t===void 0&&(t=100);var r=F.useState(e),n=r[0],i=r[1],c=F.useRef(Date.now());return F.useEffect(function(){if(t!==0){var o=setTimeout(function(){i(e),c.current=Date.now()},c.current-(Date.now()-t));return function(){clearTimeout(o)}}},[t,e]),t===0?e:n}j.useThrottledValue=Je;function ke(e){var t,r,n,i=e===void 0?{ignoreWhenFocused:[]}:e,c=i.ignoreWhenFocused,o=ze(["input","textarea"],c,!0).map(function(b){return b.toLowerCase()}),_=document.activeElement,d=_&&(o.indexOf(_.tagName.toLowerCase())!==-1||((t=_.attributes.getNamedItem("role"))===null||t===void 0?void 0:t.value)==="textbox"||((r=_.attributes.getNamedItem("contenteditable"))===null||r===void 0?void 0:r.value)==="true"||((n=_.attributes.getNamedItem("contenteditable"))===null||n===void 0?void 0:n.value)==="plaintext-only");return d}j.shouldRejectKeystrokes=ke;var et=typeof window>"u",tt=!et&&window.navigator.platform==="MacIntel";function rt(e){return tt?e.metaKey:e.ctrlKey}j.isModKey=rt;j.Priority={HIGH:1,NORMAL:0,LOW:-1};var Ce={},J={},_e={},ce={},ne={},ie={},le={};Object.defineProperty(le,"__esModule",{value:!0});le.Command=void 0;var nt=function(){function e(t,r){var n=this;r===void 0&&(r={}),this.perform=function(){var i=t.perform();if(typeof i=="function"){var c=r.history;c&&(n.historyItem&&c.remove(n.historyItem),n.historyItem=c.add({perform:t.perform,negate:i}),n.history={undo:function(){return c.undo(n.historyItem)},redo:function(){return c.redo(n.historyItem)}})}}}return e}();le.Command=nt;var it=a&&a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ie,"__esModule",{value:!0});ie.ActionImpl=void 0;var at=it(me),ut=le,ot=j,ct=function(e){var t=e.keywords,r=t===void 0?"":t,n=e.section,i=n===void 0?"":n;return(r+" "+(typeof i=="string"?i:i.name)).trim()},lt=function(){function e(t,r){var n=this,i;this.priority=ot.Priority.NORMAL,this.ancestors=[],this.children=[],Object.assign(this,t),this.id=t.id,this.name=t.name,this.keywords=ct(t);var c=t.perform;if(this.command=c&&new ut.Command({perform:function(){return c(n)}},{history:r.history}),this.perform=(i=this.command)===null||i===void 0?void 0:i.perform,t.parent){var o=r.store[t.parent];(0,at.default)(o,"attempted to create an action whos parent: "+t.parent+" does not exist in the store."),o.addChild(this)}}return e.prototype.addChild=function(t){t.ancestors.unshift(this);for(var r=this.parentActionImpl;r;)t.ancestors.unshift(r),r=r.parentActionImpl;this.children.push(t)},e.prototype.removeChild=function(t){var r=this,n=this.children.indexOf(t);n!==-1&&this.children.splice(n,1),t.children&&t.children.forEach(function(i){r.removeChild(i)})},Object.defineProperty(e.prototype,"parentActionImpl",{get:function(){return this.ancestors[this.ancestors.length-1]},enumerable:!1,configurable:!0}),e.create=function(t,r){return new e(t,r)},e}();ie.ActionImpl=lt;var oe=a&&a.__assign||function(){return oe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},oe.apply(this,arguments)},st=a&&a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ne,"__esModule",{value:!0});ne.ActionInterface=void 0;var ft=st(me),dt=ie,vt=function(){function e(t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.actions={},this.options=r,this.add(t)}return e.prototype.add=function(t){for(var r=0;r<t.length;r++){var n=t[r];n.parent&&(0,ft.default)(this.actions[n.parent],'Attempted to create action "'+n.name+'" without registering its parent "'+n.parent+'" first.'),this.actions[n.id]=dt.ActionImpl.create(n,{history:this.options.historyManager,store:this.actions})}return oe({},this.actions)},e.prototype.remove=function(t){var r=this;return t.forEach(function(n){var i=r.actions[n.id];if(i){for(var c=i.children;c.length;){var o=c.pop();if(!o)return;delete r.actions[o.id],o.parentActionImpl&&o.parentActionImpl.removeChild(o),o.children&&c.push.apply(c,o.children)}i.parentActionImpl&&i.parentActionImpl.removeChild(i),delete r.actions[n.id]}}),oe({},this.actions)},e}();ne.ActionInterface=vt;var X={};Object.defineProperty(X,"__esModule",{value:!0});X.history=X.HistoryItemImpl=void 0;var pt=j,De=function(){function e(t){this.perform=t.perform,this.negate=t.negate}return e.create=function(t){return new e(t)},e}();X.HistoryItemImpl=De;var ht=function(){function e(){return this.undoStack=[],this.redoStack=[],e.instance||(e.instance=this,this.init()),e.instance}return e.prototype.init=function(){var t=this;typeof window>"u"||window.addEventListener("keydown",function(r){var n;if(!(!t.redoStack.length&&!t.undoStack.length||(0,pt.shouldRejectKeystrokes)())){var i=(n=r.key)===null||n===void 0?void 0:n.toLowerCase();r.metaKey&&i==="z"&&r.shiftKey?t.redo():r.metaKey&&i==="z"&&t.undo()}})},e.prototype.add=function(t){var r=De.create(t);return this.undoStack.push(r),r},e.prototype.remove=function(t){var r=this.undoStack.findIndex(function(i){return i===t});if(r!==-1){this.undoStack.splice(r,1);return}var n=this.redoStack.findIndex(function(i){return i===t});n!==-1&&this.redoStack.splice(n,1)},e.prototype.undo=function(t){if(!t){var r=this.undoStack.pop();return r?(r==null||r.negate(),this.redoStack.push(r),r):void 0}var n=this.undoStack.findIndex(function(i){return i===t});if(n!==-1)return this.undoStack.splice(n,1),t.negate(),this.redoStack.push(t),t},e.prototype.redo=function(t){if(!t){var r=this.redoStack.pop();return r?(r==null||r.perform(),this.undoStack.push(r),r):void 0}var n=this.redoStack.findIndex(function(i){return i===t});if(n!==-1)return this.redoStack.splice(n,1),t.perform(),this.undoStack.push(t),t},e.prototype.reset=function(){this.undoStack.splice(0),this.redoStack.splice(0)},e}(),$e=new ht;X.history=$e;Object.freeze($e);var z={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VisualState=void 0,function(t){t.animatingIn="animating-in",t.showing="showing",t.animatingOut="animating-out",t.hidden="hidden"}(e.VisualState||(e.VisualState={}))})(z);var $=a&&a.__assign||function(){return $=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$.apply(this,arguments)},_t=a&&a.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yt=a&&a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gt=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_t(t,e,r);return yt(t,e),t},bt=a&&a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ce,"__esModule",{value:!0});ce.useStore=void 0;var mt=Le,T=gt(L),Ot=bt(me),St=ne,It=X,k=z;function wt(e){var t=T.useRef($({animations:{enterMs:200,exitMs:100}},e.options)),r=T.useMemo(function(){return new St.ActionInterface(e.actions||[],{historyManager:t.current.enableHistory?It.history:void 0})},[]),n=T.useState({searchQuery:"",currentRootActionId:null,visualState:k.VisualState.hidden,actions:$({},r.actions),activeIndex:0,disabled:!1}),i=n[0],c=n[1],o=T.useRef(i);o.current=i;var _=T.useCallback(function(){return o.current},[]),d=T.useMemo(function(){return new jt(_)},[_]);T.useEffect(function(){o.current=i,d.notify()},[i,d]);var b=T.useCallback(function(f){return c(function(v){return $($({},v),{actions:r.add(f)})}),function(){c(function(u){return $($({},u),{actions:r.remove(f)})})}},[r]),m=T.useRef(null);return T.useMemo(function(){var f={setCurrentRootAction:function(v){c(function(u){return $($({},u),{currentRootActionId:v})})},setVisualState:function(v){c(function(u){return $($({},u),{visualState:typeof v=="function"?v(u.visualState):v})})},setSearch:function(v){return c(function(u){return $($({},u),{searchQuery:v})})},registerActions:b,toggle:function(){return c(function(v){return $($({},v),{visualState:[k.VisualState.animatingOut,k.VisualState.hidden].includes(v.visualState)?k.VisualState.animatingIn:k.VisualState.animatingOut})})},setActiveIndex:function(v){return c(function(u){return $($({},u),{activeIndex:typeof v=="number"?v:v(u.activeIndex)})})},inputRefSetter:function(v){m.current=v},getInput:function(){return(0,Ot.default)(m.current,"Input ref is undefined, make sure you attach `query.inputRefSetter` to your search input."),m.current},disable:function(v){c(function(u){return $($({},u),{disabled:v})})}};return{getState:_,query:f,options:t.current,subscribe:function(v,u){return d.subscribe(v,u)}}},[_,d,b])}ce.useStore=wt;var jt=function(){function e(t){this.subscribers=[],this.getState=t}return e.prototype.subscribe=function(t,r){var n=this,i=new Mt(function(){return t(n.getState())},r);return this.subscribers.push(i),this.unsubscribe.bind(this,i)},e.prototype.unsubscribe=function(t){if(this.subscribers.length){var r=this.subscribers.indexOf(t);if(r>-1)return this.subscribers.splice(r,1)}},e.prototype.notify=function(){this.subscribers.forEach(function(t){return t.collect()})},e}(),Mt=function(){function e(t,r){this.collector=t,this.onChange=r}return e.prototype.collect=function(){try{var t=this.collector();(0,mt.deepEqual)(t,this.collected)||(this.collected=t,this.onChange&&this.onChange(this.collected))}catch(r){console.warn(r)}},e}(),ee={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var Pt=["Shift","Meta","Alt","Control"],Rt=1e3,At="keydown",Bt=typeof navigator=="object"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"Meta":"Control";function ge(e,t){return typeof e.getModifierState=="function"?e.getModifierState(t):!1}function Et(e){return e.trim().split(" ").map(function(t){var r=t.split(/\b\+/),n=r.pop();return r=r.map(function(i){return i==="$mod"?Bt:i}),[r,n]})}function Kt(e,t){return/^[^A-Za-z0-9]$/.test(e.key)&&t[1]===e.key?!0:!(t[1].toUpperCase()!==e.key.toUpperCase()&&t[1]!==e.code||t[0].find(function(r){return!ge(e,r)})||Pt.find(function(r){return!t[0].includes(r)&&t[1]!==r&&ge(e,r)}))}function Ct(e,t,r){var n,i;r===void 0&&(r={});var c=(n=r.timeout)!==null&&n!==void 0?n:Rt,o=(i=r.event)!==null&&i!==void 0?i:At,_=Object.keys(t).map(function(f){return[Et(f),t[f]]}),d=new Map,b=null,m=function(f){f instanceof KeyboardEvent&&(_.forEach(function(v){var u=v[0],l=v[1],p=d.get(u),s=p||u,y=s[0],h=Kt(f,y);h?s.length>1?d.set(u,s.slice(1)):(d.delete(u),l(f)):ge(f,f.key)||d.delete(u)}),b&&clearTimeout(b),b=setTimeout(d.clear.bind(d),c))};return e.addEventListener(o,m),function(){e.removeEventListener(o,m)}}Oe.default=Ct;var Ie;function Dt(){if(Ie)return ee;Ie=1;var e=a&&a.__createBinding||(Object.create?function(s,y,h,g){g===void 0&&(g=h),Object.defineProperty(s,g,{enumerable:!0,get:function(){return y[h]}})}:function(s,y,h,g){g===void 0&&(g=h),s[g]=y[h]}),t=a&&a.__setModuleDefault||(Object.create?function(s,y){Object.defineProperty(s,"default",{enumerable:!0,value:y})}:function(s,y){s.default=y}),r=a&&a.__importStar||function(s){if(s&&s.__esModule)return s;var y={};if(s!=null)for(var h in s)h!=="default"&&Object.prototype.hasOwnProperty.call(s,h)&&e(y,s,h);return t(y,s),y},n=a&&a.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ee,"__esModule",{value:!0}),ee.InternalEvents=void 0;var i=r(L),c=n(Oe),o=z,_=W(),d=j;function b(){return m(),f(),l(),p(),null}ee.InternalEvents=b;function m(){var s,y,h=(0,_.useKBar)(function(O){return{visualState:O.visualState,showing:O.visualState!==o.VisualState.hidden,disabled:O.disabled}}),g=h.query,S=h.options,P=h.visualState,w=h.showing,K=h.disabled;i.useEffect(function(){var O,I=function(){g.setVisualState(function(M){return M===o.VisualState.hidden||M===o.VisualState.animatingOut?M:o.VisualState.animatingOut})};if(K){I();return}var A=S.toggleShortcut||"$mod+k",C=(0,c.default)(window,(O={},O[A]=function(M){var B,D,E,V;M.defaultPrevented||(M.preventDefault(),g.toggle(),w?(D=(B=S.callbacks)===null||B===void 0?void 0:B.onClose)===null||D===void 0||D.call(B):(V=(E=S.callbacks)===null||E===void 0?void 0:E.onOpen)===null||V===void 0||V.call(E))},O.Escape=function(M){var B,D;w&&(M.stopPropagation(),M.preventDefault(),(D=(B=S.callbacks)===null||B===void 0?void 0:B.onClose)===null||D===void 0||D.call(B)),I()},O));return function(){C()}},[S.callbacks,S.toggleShortcut,g,w,K]);var x=i.useRef(),R=i.useCallback(function(O){var I,A,C=0;O===o.VisualState.animatingIn&&(C=((I=S.animations)===null||I===void 0?void 0:I.enterMs)||0),O===o.VisualState.animatingOut&&(C=((A=S.animations)===null||A===void 0?void 0:A.exitMs)||0),clearTimeout(x.current),x.current=setTimeout(function(){var M=!1;g.setVisualState(function(){var B=O===o.VisualState.animatingIn?o.VisualState.showing:o.VisualState.hidden;return B===o.VisualState.hidden&&(M=!0),B}),M&&g.setCurrentRootAction(null)},C)},[(s=S.animations)===null||s===void 0?void 0:s.enterMs,(y=S.animations)===null||y===void 0?void 0:y.exitMs,g]);i.useEffect(function(){switch(P){case o.VisualState.animatingIn:case o.VisualState.animatingOut:R(P);break}},[R,P])}function f(){var s=(0,_.useKBar)(function(g){return{visualState:g.visualState}}),y=s.visualState,h=s.options;i.useEffect(function(){if(!h.disableDocumentLock)if(y===o.VisualState.animatingIn){if(document.body.style.overflow="hidden",!h.disableScrollbarManagement){var g=(0,d.getScrollbarWidth)(),S=getComputedStyle(document.body)["margin-right"];S&&(g+=Number(S.replace(/\D/g,""))),document.body.style.marginRight=g+"px"}}else y===o.VisualState.hidden&&(document.body.style.removeProperty("overflow"),h.disableScrollbarManagement||document.body.style.removeProperty("margin-right"))},[h.disableDocumentLock,h.disableScrollbarManagement,y])}var v=new WeakSet;function u(s){return function(y){v.has(y)||(s(y),v.add(y))}}function l(){var s=(0,_.useKBar)(function(w){return{actions:w.actions,open:w.visualState===o.VisualState.showing,disabled:w.disabled}}),y=s.actions,h=s.query,g=s.open,S=s.options,P=s.disabled;i.useEffect(function(){var w;if(!(g||P)){for(var K=Object.keys(y).map(function(E){return y[E]}),x=[],R=0,O=K;R<O.length;R++){var I=O[R];!((w=I.shortcut)===null||w===void 0)&&w.length&&x.push(I)}x=x.sort(function(E,V){return V.shortcut.join(" ").length-E.shortcut.join(" ").length});for(var A={},C=function(E){var V=E.shortcut.join(" ");A[V]=u(function(Y){var H,U,G,Z,ae,he;(0,d.shouldRejectKeystrokes)()||(Y.preventDefault(),!((H=E.children)===null||H===void 0)&&H.length?(h.setCurrentRootAction(E.id),h.toggle(),(G=(U=S.callbacks)===null||U===void 0?void 0:U.onOpen)===null||G===void 0||G.call(U)):((Z=E.command)===null||Z===void 0||Z.perform(),(he=(ae=S.callbacks)===null||ae===void 0?void 0:ae.onSelectAction)===null||he===void 0||he.call(ae,E)))})},M=0,B=x;M<B.length;M++){var I=B[M];C(I)}var D=(0,c.default)(window,A,{timeout:400});return function(){D()}}},[y,g,S.callbacks,h,P])}function p(){var s=i.useRef(!0),y=(0,_.useKBar)(function(P){return{isShowing:P.visualState===o.VisualState.showing||P.visualState===o.VisualState.animatingIn}}),h=y.isShowing,g=y.query,S=i.useRef(null);i.useEffect(function(){if(s.current){s.current=!1;return}if(h){S.current=document.activeElement;return}var P=document.activeElement;(P==null?void 0:P.tagName.toLowerCase())==="input"&&P.blur();var w=S.current;w&&w!==P&&w.focus()},[h]),i.useEffect(function(){function P(w){var K=g.getInput();w.target!==K&&K.focus()}if(h)return window.addEventListener("keydown",P),function(){window.removeEventListener("keydown",P)}},[h,g])}return ee}var we;function xe(){return we||(we=1,function(e){var t=a&&a.__createBinding||(Object.create?function(d,b,m,f){f===void 0&&(f=m),Object.defineProperty(d,f,{enumerable:!0,get:function(){return b[m]}})}:function(d,b,m,f){f===void 0&&(f=m),d[f]=b[m]}),r=a&&a.__setModuleDefault||(Object.create?function(d,b){Object.defineProperty(d,"default",{enumerable:!0,value:b})}:function(d,b){d.default=b}),n=a&&a.__importStar||function(d){if(d&&d.__esModule)return d;var b={};if(d!=null)for(var m in d)m!=="default"&&Object.prototype.hasOwnProperty.call(d,m)&&t(b,d,m);return r(b,d),b};Object.defineProperty(e,"__esModule",{value:!0}),e.KBarProvider=e.KBarContext=void 0;var i=ce,c=n(L),o=Dt();e.KBarContext=c.createContext({});var _=function(d){var b=(0,i.useStore)(d);return c.createElement(e.KBarContext.Provider,{value:b},c.createElement(o.InternalEvents,null),d.children)};e.KBarProvider=_}(_e)),_e}var je;function W(){if(je)return J;je=1;var e=a&&a.__assign||function(){return e=Object.assign||function(_){for(var d,b=1,m=arguments.length;b<m;b++){d=arguments[b];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(_[f]=d[f])}return _},e.apply(this,arguments)},t=a&&a.__createBinding||(Object.create?function(_,d,b,m){m===void 0&&(m=b),Object.defineProperty(_,m,{enumerable:!0,get:function(){return d[b]}})}:function(_,d,b,m){m===void 0&&(m=b),_[m]=d[b]}),r=a&&a.__setModuleDefault||(Object.create?function(_,d){Object.defineProperty(_,"default",{enumerable:!0,value:d})}:function(_,d){_.default=d}),n=a&&a.__importStar||function(_){if(_&&_.__esModule)return _;var d={};if(_!=null)for(var b in _)b!=="default"&&Object.prototype.hasOwnProperty.call(_,b)&&t(d,_,b);return r(d,_),d};Object.defineProperty(J,"__esModule",{value:!0}),J.useKBar=void 0;var i=n(L),c=xe();function o(_){var d=i.useContext(c.KBarContext),b=d.query,m=d.getState,f=d.subscribe,v=d.options,u=i.useRef(_==null?void 0:_(m())),l=i.useRef(_),p=i.useCallback(function(g){return e(e({},g),{query:b,options:v})},[b,v]),s=i.useState(p(u.current)),y=s[0],h=s[1];return i.useEffect(function(){var g;return l.current&&(g=f(function(S){return l.current(S)},function(S){return h(p(S))})),function(){g&&g()}},[p,f]),y}return J.useKBar=o,J}(function(e){var t=a&&a.__createBinding||(Object.create?function(u,l,p,s){s===void 0&&(s=p),Object.defineProperty(u,s,{enumerable:!0,get:function(){return l[p]}})}:function(u,l,p,s){s===void 0&&(s=p),u[s]=l[p]}),r=a&&a.__setModuleDefault||(Object.create?function(u,l){Object.defineProperty(u,"default",{enumerable:!0,value:l})}:function(u,l){u.default=l}),n=a&&a.__importStar||function(u){if(u&&u.__esModule)return u;var l={};if(u!=null)for(var p in u)p!=="default"&&Object.prototype.hasOwnProperty.call(u,p)&&t(l,u,p);return r(l,u),l},i=a&&a.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.useDeepMatches=e.useMatches=e.NO_GROUP=void 0;var c=n(L),o=W(),_=j,d=i(qe);e.NO_GROUP={name:"none",priority:_.Priority.NORMAL};var b={keys:[{name:"name",weight:.5},{name:"keywords",getFn:function(u){var l;return((l=u.keywords)!==null&&l!==void 0?l:"").split(",")},weight:.5},"subtitle"],ignoreLocation:!0,includeScore:!0,includeMatches:!0,threshold:.2,minMatchCharLength:1};function m(u,l){return l.priority-u.priority}function f(){var u=(0,o.useKBar)(function(R){return{search:R.searchQuery,actions:R.actions,rootActionId:R.currentRootActionId}}),l=u.search,p=u.actions,s=u.rootActionId,y=c.useMemo(function(){return Object.keys(p).reduce(function(R,O){var I=p[O];if(!I.parent&&!s&&R.push(I),I.id===s)for(var A=0;A<I.children.length;A++)R.push(I.children[A]);return R},[]).sort(m)},[p,s]),h=c.useCallback(function(R){for(var O=[],I=0;I<R.length;I++)O.push(R[I]);return function A(C,M){M===void 0&&(M=O);for(var B=0;B<C.length;B++)if(C[B].children.length>0){for(var D=C[B].children,E=0;E<D.length;E++)M.push(D[E]);A(C[B].children,M)}return M}(R)},[]),g=!l,S=c.useMemo(function(){return g?y:h(y)},[h,y,g]),P=c.useMemo(function(){return new d.default(S,b)},[S]),w=v(S,l,P),K=c.useMemo(function(){for(var R,O,I={},A=[],C=[],M=0;M<w.length;M++){var B=w[M],D=B.action,E=B.score||_.Priority.NORMAL,V={name:typeof D.section=="string"?D.section:((R=D.section)===null||R===void 0?void 0:R.name)||e.NO_GROUP.name,priority:typeof D.section=="string"?E:((O=D.section)===null||O===void 0?void 0:O.priority)||0+E};I[V.name]||(I[V.name]=[],A.push(V)),I[V.name].push({priority:D.priority+E,action:D})}C=A.sort(m).map(function(G){return{name:G.name,actions:I[G.name].sort(m).map(function(Z){return Z.action})}});for(var Y=[],M=0;M<C.length;M++){var H=C[M];H.name!==e.NO_GROUP.name&&Y.push(H.name);for(var U=0;U<H.actions.length;U++)Y.push(H.actions[U])}return Y},[w]),x=c.useMemo(function(){return s},[K]);return c.useMemo(function(){return{results:K,rootActionId:x}},[x,K])}e.useMatches=f;function v(u,l,p){var s=c.useMemo(function(){return{filtered:u,search:l}},[u,l]),y=(0,_.useThrottledValue)(s),h=y.filtered,g=y.search;return c.useMemo(function(){if(g.trim()==="")return h.map(function(w){return{score:0,action:w}});var S=[],P=p.search(g);return S=P.map(function(w){var K=w.item,x=w.score;return{score:1/((x??0)+1),action:K}}),S},[h,g,p])}e.useDeepMatches=f})(Ce);var se={},$t=a&&a.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xt=a&&a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Vt=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$t(t,e,r);return xt(t,e),t};Object.defineProperty(se,"__esModule",{value:!0});se.KBarPortal=void 0;var Lt=Te,qt=Vt(L),Tt=z,Nt=W();function Ht(e){var t=e.children,r=e.container,n=(0,Nt.useKBar)(function(i){return{showing:i.visualState!==Tt.VisualState.hidden}}).showing;return n?qt.createElement(Lt.Portal,{container:r},t):null}se.KBarPortal=Ht;var fe={},re=a&&a.__assign||function(){return re=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},re.apply(this,arguments)},Ut=a&&a.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ft=a&&a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Wt=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ut(t,e,r);return Ft(t,e),t},zt=a&&a.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(fe,"__esModule",{value:!0});fe.KBarPositioner=void 0;var Me=Wt(L),Pe={position:"fixed",display:"flex",alignItems:"flex-start",justifyContent:"center",width:"100%",inset:"0px",padding:"14vh 16px 16px"};function Gt(e){return e?re(re({},Pe),e):Pe}fe.KBarPositioner=Me.forwardRef(function(e,t){var r=e.style,n=e.children,i=zt(e,["style","children"]);return Me.createElement("div",re({ref:t,style:Gt(r)},i),n)});var Se={};(function(e){var t=a&&a.__assign||function(){return t=Object.assign||function(f){for(var v,u=1,l=arguments.length;u<l;u++){v=arguments[u];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(f[p]=v[p])}return f},t.apply(this,arguments)},r=a&&a.__createBinding||(Object.create?function(f,v,u,l){l===void 0&&(l=u),Object.defineProperty(f,l,{enumerable:!0,get:function(){return v[u]}})}:function(f,v,u,l){l===void 0&&(l=u),f[l]=v[u]}),n=a&&a.__setModuleDefault||(Object.create?function(f,v){Object.defineProperty(f,"default",{enumerable:!0,value:v})}:function(f,v){f.default=v}),i=a&&a.__importStar||function(f){if(f&&f.__esModule)return f;var v={};if(f!=null)for(var u in f)u!=="default"&&Object.prototype.hasOwnProperty.call(f,u)&&r(v,f,u);return n(v,f),v},c=a&&a.__rest||function(f,v){var u={};for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&v.indexOf(l)<0&&(u[l]=f[l]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,l=Object.getOwnPropertySymbols(f);p<l.length;p++)v.indexOf(l[p])<0&&Object.prototype.propertyIsEnumerable.call(f,l[p])&&(u[l[p]]=f[l[p]]);return u};Object.defineProperty(e,"__esModule",{value:!0}),e.KBarSearch=e.getListboxItemId=e.KBAR_LISTBOX=void 0;var o=i(L),_=z,d=W();e.KBAR_LISTBOX="kbar-listbox";var b=function(f){return"kbar-listbox-item-"+f};e.getListboxItemId=b;function m(f){var v=(0,d.useKBar)(function(O){return{search:O.searchQuery,currentRootActionId:O.currentRootActionId,actions:O.actions,activeIndex:O.activeIndex,showing:O.visualState===_.VisualState.showing}}),u=v.query,l=v.search,p=v.actions,s=v.currentRootActionId,y=v.activeIndex,h=v.showing,g=v.options,S=o.useState(l),P=S[0],w=S[1];o.useEffect(function(){u.setSearch(P)},[P,u]);var K=f.defaultPlaceholder,x=c(f,["defaultPlaceholder"]);o.useEffect(function(){return u.setSearch(""),u.getInput().focus(),function(){return u.setSearch("")}},[s,u]);var R=o.useMemo(function(){var O=K??"Type a command or searchâ€¦";return s&&p[s]?p[s].name:O},[p,s,K]);return o.createElement("input",t({},x,{ref:u.inputRefSetter,autoFocus:!0,autoComplete:"off",role:"combobox",spellCheck:"false","aria-expanded":h,"aria-controls":e.KBAR_LISTBOX,"aria-activedescendant":(0,e.getListboxItemId)(y),value:P,placeholder:R,onChange:function(O){var I,A,C;(I=f.onChange)===null||I===void 0||I.call(f,O),w(O.target.value),(C=(A=g==null?void 0:g.callbacks)===null||A===void 0?void 0:A.onQueryChange)===null||C===void 0||C.call(A,O.target.value)},onKeyDown:function(O){var I;if((I=f.onKeyDown)===null||I===void 0||I.call(f,O),s&&!l&&O.key==="Backspace"){var A=p[s].parent;u.setCurrentRootAction(A)}}}))}e.KBarSearch=m})(Se);var de={},be=a&&a.__assign||function(){return be=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},be.apply(this,arguments)},Qt=a&&a.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xt=a&&a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Yt=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Qt(t,e,r);return Xt(t,e),t};Object.defineProperty(de,"__esModule",{value:!0});de.KBarResults=void 0;var q=Yt(L),Zt=Ne,Re=Se,Jt=W(),kt=j,ue=0,er=function(e){var t=q.useRef(null),r=q.useRef(null),n=q.useRef(e.items);n.current=e.items;var i=(0,Zt.useVirtual)({size:n.current.length,parentRef:r}),c=(0,Jt.useKBar)(function(l){return{search:l.searchQuery,currentRootActionId:l.currentRootActionId,activeIndex:l.activeIndex}}),o=c.query,_=c.search,d=c.currentRootActionId,b=c.activeIndex,m=c.options;q.useEffect(function(){var l=function(p){var s;p.isComposing||(p.key==="ArrowUp"||p.ctrlKey&&p.key==="p"?(p.preventDefault(),p.stopPropagation(),o.setActiveIndex(function(y){var h=y>ue?y-1:y;if(typeof n.current[h]=="string"){if(h===0)return y;h-=1}return h})):p.key==="ArrowDown"||p.ctrlKey&&p.key==="n"?(p.preventDefault(),p.stopPropagation(),o.setActiveIndex(function(y){var h=y<n.current.length-1?y+1:y;if(typeof n.current[h]=="string"){if(h===n.current.length-1)return y;h+=1}return h})):p.key==="Enter"&&(p.preventDefault(),p.stopPropagation(),(s=t.current)===null||s===void 0||s.click()))};return window.addEventListener("keydown",l,{capture:!0}),function(){return window.removeEventListener("keydown",l,{capture:!0})}},[o]);var f=i.scrollToIndex;q.useEffect(function(){f(b,{align:b<=1?"end":"auto"})},[b,f]),q.useEffect(function(){o.setActiveIndex(typeof e.items[ue]=="string"?ue+1:ue)},[_,d,e.items,o]);var v=q.useCallback(function(l){var p,s;typeof l!="string"&&(l.command?(l.command.perform(l),o.toggle()):(o.setSearch(""),o.setCurrentRootAction(l.id)),(s=(p=m.callbacks)===null||p===void 0?void 0:p.onSelectAction)===null||s===void 0||s.call(p,l))},[o,m]),u=(0,kt.usePointerMovedSinceMount)();return q.createElement("div",{ref:r,style:{maxHeight:e.maxHeight||400,position:"relative",overflow:"auto"}},q.createElement("div",{role:"listbox",id:Re.KBAR_LISTBOX,style:{height:i.totalSize+"px",width:"100%"}},i.virtualItems.map(function(l){var p=n.current[l.index],s=typeof p!="string"&&{onPointerMove:function(){return u&&b!==l.index&&o.setActiveIndex(l.index)},onPointerDown:function(){return o.setActiveIndex(l.index)},onClick:function(){return v(p)}},y=l.index===b;return q.createElement("div",be({ref:y?t:null,id:(0,Re.getListboxItemId)(l.index),role:"option","aria-selected":y,key:l.index,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY("+l.start+"px)"}},s),q.cloneElement(e.onRender({item:p,active:y}),{ref:l.measureRef}))})))};de.KBarResults=er;var ve={},tr=a&&a.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rr=a&&a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nr=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tr(t,e,r);return rr(t,e),t};Object.defineProperty(ve,"__esModule",{value:!0});ve.useRegisterActions=void 0;var Ae=nr(L),ir=W();function ar(e,t){t===void 0&&(t=[]);var r=(0,ir.useKBar)().query,n=Ae.useMemo(function(){return e},t);Ae.useEffect(function(){if(n.length){var i=r.registerActions(n);return function(){i()}}},[r,n])}ve.useRegisterActions=ar;var pe={},te=a&&a.__assign||function(){return te=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},te.apply(this,arguments)},ur=a&&a.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),or=a&&a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cr=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ur(t,e,r);return or(t,e),t};Object.defineProperty(pe,"__esModule",{value:!0});pe.KBarAnimator=void 0;var N=cr(L),Q=z,lr=W(),sr=j,Be=[{opacity:0,transform:"scale(.99)"},{opacity:1,transform:"scale(1.01)"},{opacity:1,transform:"scale(1)"}],fr=[{transform:"scale(1)"},{transform:"scale(.98)"},{transform:"scale(1)"}],dr=function(e){var t,r,n=e.children,i=e.style,c=e.className,o=e.disableCloseOnOuterClick,_=(0,lr.useKBar)(function(h){return{visualState:h.visualState,currentRootActionId:h.currentRootActionId}}),d=_.visualState,b=_.currentRootActionId,m=_.query,f=_.options,v=N.useRef(null),u=N.useRef(null),l=((t=f==null?void 0:f.animations)===null||t===void 0?void 0:t.enterMs)||0,p=((r=f==null?void 0:f.animations)===null||r===void 0?void 0:r.exitMs)||0;N.useEffect(function(){if(d!==Q.VisualState.showing){var h=d===Q.VisualState.animatingIn?l:p,g=v.current;g==null||g.animate(Be,{duration:h,easing:d===Q.VisualState.animatingOut?"ease-in":"ease-out",direction:d===Q.VisualState.animatingOut?"reverse":"normal",fill:"forwards"})}},[f,d,l,p]);var s=N.useRef();N.useEffect(function(){if(d===Q.VisualState.showing){var h=v.current,g=u.current;if(!h||!g)return;var S=new ResizeObserver(function(P){for(var w=0,K=P;w<K.length;w++){var x=K[w],R=x.contentRect;s.current||(s.current=R.height),h.animate([{height:s.current+"px"},{height:R.height+"px"}],{duration:l/2,easing:"ease-out",fill:"forwards"}),s.current=R.height}});return S.observe(g),function(){S.unobserve(g)}}},[d,f,l,p]);var y=N.useRef(!0);return N.useEffect(function(){if(y.current){y.current=!1;return}var h=v.current;h&&h.animate(fr,{duration:l,easing:"ease-out"})},[b,l]),(0,sr.useOuterClick)(v,function(){var h,g;o||(m.setVisualState(Q.VisualState.animatingOut),(g=(h=f.callbacks)===null||h===void 0?void 0:h.onClose)===null||g===void 0||g.call(h))}),N.createElement("div",{ref:v,style:te(te(te({},Be[0]),i),{pointerEvents:"auto"}),className:c},N.createElement("div",{ref:u},n))};pe.KBarAnimator=dr;var Ve={};(function(e){var t=a&&a.__createBinding||(Object.create?function(n,i,c,o){o===void 0&&(o=c),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[c]}})}:function(n,i,c,o){o===void 0&&(o=c),n[o]=i[c]}),r=a&&a.__exportStar||function(n,i){for(var c in n)c!=="default"&&!Object.prototype.hasOwnProperty.call(i,c)&&t(i,n,c)};Object.defineProperty(e,"__esModule",{value:!0}),r(ne,e),r(ie,e)})(Ve);(function(e){var t=a&&a.__createBinding||(Object.create?function(i,c,o,_){_===void 0&&(_=o),Object.defineProperty(i,_,{enumerable:!0,get:function(){return c[o]}})}:function(i,c,o,_){_===void 0&&(_=o),i[_]=c[o]}),r=a&&a.__exportStar||function(i,c){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(c,o)&&t(c,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.Priority=e.createAction=void 0;var n=j;Object.defineProperty(e,"createAction",{enumerable:!0,get:function(){return n.createAction}}),Object.defineProperty(e,"Priority",{enumerable:!0,get:function(){return n.Priority}}),r(Ce,e),r(se,e),r(fe,e),r(Se,e),r(de,e),r(W(),e),r(ve,e),r(xe(),e),r(pe,e),r(z,e),r(Ve,e)})(He);export{He as l};
