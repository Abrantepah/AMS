import{b as q}from"./bail-SStH00At.js";import{e as A}from"./extend-jtEkKnIJ.js";import{t as F}from"./trough-jSDOhjDI.js";import{v as G}from"./vfile-fzL750Th.js";/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var H=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)},J=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;const t=Object.getPrototypeOf(r);return t===null||t===Object.prototype},C=q,K=H,h=A,b=J,B=F,g=G,re=x().freeze(),M=[].slice,Q={}.hasOwnProperty,T=B().use(V).use(W).use(X);function V(r,t){t.tree=r.parse(t.file)}function W(r,t,s){r.run(t.tree,t.file,w);function w(y,o,d){y?s(y):(t.tree=o,t.file=d,s())}}function X(r,t){var s=r.stringify(t.tree,t.file);s==null||(typeof s=="string"||K(s)?("value"in t.file&&(t.file.value=s),t.file.contents=s):t.file.result=s)}function x(){var r=[],t=B(),s={},w=-1,y;return o.data=_,o.freeze=d,o.attachers=r,o.use=I,o.parse=$,o.stringify=L,o.run=E,o.runSync=D,o.process=S,o.processSync=N,o;function o(){for(var e=x(),n=-1;++n<r.length;)e.use.apply(null,r[n]);return e.data(h(!0,{},s)),e}function d(){var e,n;if(y)return o;for(;++w<r.length;)e=r[w],e[1]!==!1&&(e[1]===!0&&(e[1]=void 0),n=e[0].apply(o,e.slice(1)),typeof n=="function"&&t.use(n));return y=!0,w=1/0,o}function _(e,n){return typeof e=="string"?arguments.length===2?(P("data",y),s[e]=n,o):Q.call(s,e)&&s[e]||null:e?(P("data",y),s=e,o):s}function I(e){var n;if(P("use",y),e!=null)if(typeof e=="function")c.apply(null,arguments);else if(typeof e=="object")"length"in e?l(e):f(e);else throw new Error("Expected usable value, not `"+e+"`");return n&&(s.settings=h(s.settings||{},n)),o;function f(i){l(i.plugins),i.settings&&(n=h(n||{},i.settings))}function u(i){if(typeof i=="function")c(i);else if(typeof i=="object")"length"in i?c.apply(null,i):f(i);else throw new Error("Expected usable value, not `"+i+"`")}function l(i){var a=-1;if(i!=null)if(typeof i=="object"&&"length"in i)for(;++a<i.length;)u(i[a]);else throw new Error("Expected a list of plugins, not `"+i+"`")}function c(i,a){var p=U(i);p?(b(p[1])&&b(a)&&(a=h(!0,p[1],a)),p[1]=a):r.push(M.call(arguments))}}function U(e){for(var n=-1;++n<r.length;)if(r[n][0]===e)return r[n]}function $(e){var n=g(e),f;return d(),f=o.Parser,m("parse",f),z(f,"parse")?new f(String(n),n).parse():f(String(n),n)}function E(e,n,f){if(O(e),d(),!f&&typeof n=="function"&&(f=n,n=null),!f)return new Promise(u);u(null,f);function u(l,c){t.run(e,g(n),i);function i(a,p,R){p=p||e,a?c(a):l?l(p):f(null,p,R)}}}function D(e,n){var f,u;return E(e,n,l),j("runSync","run",u),f;function l(c,i){u=!0,f=i,C(c)}}function L(e,n){var f=g(n),u;return d(),u=o.Compiler,v("stringify",u),O(e),z(u,"compile")?new u(e,f).compile():u(e,f)}function S(e,n){if(d(),m("process",o.Parser),v("process",o.Compiler),!n)return new Promise(f);f(null,n);function f(u,l){var c=g(e);T.run(o,{file:c},i);function i(a){a?l(a):u?u(c):n(null,c)}}}function N(e){var n,f;return d(),m("processSync",o.Parser),v("processSync",o.Compiler),n=g(e),S(n,u),j("processSync","process",f),n;function u(l){f=!0,C(l)}}}function z(r,t){return typeof r=="function"&&r.prototype&&(Y(r.prototype)||t in r.prototype)}function Y(r){var t;for(t in r)return!0;return!1}function m(r,t){if(typeof t!="function")throw new Error("Cannot `"+r+"` without `Parser`")}function v(r,t){if(typeof t!="function")throw new Error("Cannot `"+r+"` without `Compiler`")}function P(r,t){if(t)throw new Error("Cannot invoke `"+r+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function O(r){if(!r||typeof r.type!="string")throw new Error("Expected node, got `"+r+"`")}function j(r,t,s){if(!s)throw new Error("`"+r+"` finished async. Use `"+t+"` instead")}export{re as u};
