import{e as _,d as I,c as F,h as q,b as T,f as D}from"./@babel-twuf1KuW.js";import{r as a}from"./react-DeXQEnMH.js";import{c as j}from"./classnames-BFJNR4kU.js";import{a as G,j as B,D as H,A as J}from"./rc-util-Dg-Jfa6i.js";import{C as K}from"./rc-motion-DnRgflKg.js";var z=function(e){return e?{left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth}:null},y=function(e){return e!==void 0?"".concat(e,"px"):void 0};function O(t){var e=t.prefixCls,c=t.containerRef,o=t.value,m=t.getValueIndex,l=t.motionName,g=t.onMotionStart,S=t.onMotionEnd,d=t.direction,b=a.useRef(null),R=a.useState(o),M=_(R,2),f=M[0],E=M[1],$=function(h){var s,n=m(h),v=(s=c.current)===null||s===void 0?void 0:s.querySelectorAll(".".concat(e,"-item"))[n];return(v==null?void 0:v.offsetParent)&&v},A=a.useState(null),P=_(A,2),r=P[0],N=P[1],k=a.useState(null),C=_(k,2),i=C[0],V=C[1];G(function(){if(f!==o){var u=$(f),h=$(o),s=z(u),n=z(h);E(o),N(s),V(n),u&&h?g():S()}},[o]);var w=a.useMemo(function(){return y(d==="rtl"?-(r==null?void 0:r.right):r==null?void 0:r.left)},[d,r]),W=a.useMemo(function(){return y(d==="rtl"?-(i==null?void 0:i.right):i==null?void 0:i.left)},[d,i]),X=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},p=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},L=function(){N(null),V(null),S()};return!r||!i?null:a.createElement(K,{visible:!0,motionName:l,motionAppear:!0,onAppearStart:X,onAppearActive:p,onVisibleChanged:L},function(u,h){var s=u.className,n=u.style,v=I(I({},n),{},{"--thumb-start-left":w,"--thumb-start-width":y(r==null?void 0:r.width),"--thumb-active-left":W,"--thumb-active-width":y(i==null?void 0:i.width)}),x={ref:B(b,h),style:v,className:j("".concat(e,"-thumb"),s)};return a.createElement("div",x)})}var Q=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function U(t){if(typeof t.title<"u")return t.title;if(D(t.label)!=="object"){var e;return(e=t.label)===null||e===void 0?void 0:e.toString()}}function Y(t){return t.map(function(e){if(D(e)==="object"&&e!==null){var c=U(e);return I(I({},e),{},{title:c})}return{label:e==null?void 0:e.toString(),title:e==null?void 0:e.toString(),value:e}})}var Z=function(e){var c=e.prefixCls,o=e.className,m=e.disabled,l=e.checked,g=e.label,S=e.title,d=e.value,b=e.onChange,R=function(f){m||b(f,d)};return a.createElement("label",{className:j(o,T({},"".concat(c,"-item-disabled"),m))},a.createElement("input",{className:"".concat(c,"-item-input"),type:"radio",disabled:m,checked:l,onChange:R}),a.createElement("div",{className:"".concat(c,"-item-label"),title:S},g))},ee=a.forwardRef(function(t,e){var c,o,m=t.prefixCls,l=m===void 0?"rc-segmented":m,g=t.direction,S=t.options,d=S===void 0?[]:S,b=t.disabled,R=t.defaultValue,M=t.value,f=t.onChange,E=t.className,$=E===void 0?"":E,A=t.motionName,P=A===void 0?"thumb-motion":A,r=F(t,Q),N=a.useRef(null),k=a.useMemo(function(){return B(N,e)},[N,e]),C=a.useMemo(function(){return Y(d)},[d]),i=H((c=C[0])===null||c===void 0?void 0:c.value,{value:M,defaultValue:R}),V=_(i,2),w=V[0],W=V[1],X=a.useState(!1),p=_(X,2),L=p[0],u=p[1],h=function(v,x){b||(W(x),f==null||f(x))},s=J(r,["children"]);return a.createElement("div",q({},s,{className:j(l,(o={},T(o,"".concat(l,"-rtl"),g==="rtl"),T(o,"".concat(l,"-disabled"),b),o),$),ref:k}),a.createElement("div",{className:"".concat(l,"-group")},a.createElement(O,{prefixCls:l,value:w,containerRef:N,motionName:"".concat(l,"-").concat(P),direction:g,getValueIndex:function(v){return C.findIndex(function(x){return x.value===v})},onMotionStart:function(){u(!0)},onMotionEnd:function(){u(!1)}}),C.map(function(n){return a.createElement(Z,q({},n,{key:n.value,prefixCls:l,className:j(n.className,"".concat(l,"-item"),T({},"".concat(l,"-item-selected"),n.value===w&&!L)),checked:n.value===w,onChange:h,disabled:!!b||!!n.disabled}))})))}),ie=ee;export{ie as T};
