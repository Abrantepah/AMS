import{v as w}from"./vfile-message-Yxcn4erv.js";var l={};l.basename=b;l.dirname=x;l.extname=S;l.join=A;l.sep="/";function b(e,t){var n=0,r=-1,i,f,s,a;if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');if(u(e),i=e.length,t===void 0||!t.length||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";for(f=-1,a=t.length-1;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else f<0&&(s=!0,f=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=f));return n===r?r=f:r<0&&(r=e.length),e.slice(n,r)}function x(e){var t,n,r;if(u(e),!e.length)return".";for(t=-1,r=e.length;--r;)if(e.charCodeAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function S(e){var t=-1,n=0,r=-1,i=0,f,s,a;for(u(e),a=e.length;a--;){if(s=e.charCodeAt(a),s===47){if(f){n=a+1;break}continue}r<0&&(f=!0,r=a+1),s===46?t<0?t=a:i!==1&&(i=1):t>-1&&(i=-1)}return t<0||r<0||i===0||i===1&&t===r-1&&t===n+1?"":e.slice(t,r)}function A(){for(var e=-1,t;++e<arguments.length;)u(arguments[e]),arguments[e]&&(t=t===void 0?arguments[e]:t+"/"+arguments[e]);return t===void 0?".":C(t)}function C(e){var t,n;return u(e),t=e.charCodeAt(0)===47,n=P(e,!t),!n.length&&!t&&(n="."),n.length&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function P(e,t){for(var n="",r=0,i=-1,f=0,s=-1,a,c;++s<=e.length;){if(s<e.length)a=e.charCodeAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||f===1))if(i!==s-1&&f===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=s,f=0;continue}}else if(n.length){n="",r=0,i=s,f=0;continue}}t&&(n=n.length?n+"/..":"..",r=2)}else n.length?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,f=0}else a===46&&f>-1?f++:f=-1}return n}function u(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var p={};p.cwd=O;function O(){return"/"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var E=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)},o=l,j=p,B=E,k=h,D={}.hasOwnProperty,g=["history","path","basename","stem","extname","dirname"];h.prototype.toString=J;Object.defineProperty(h.prototype,"path",{get:I,set:N});Object.defineProperty(h.prototype,"dirname",{get:V,set:z});Object.defineProperty(h.prototype,"basename",{get:F,set:M});Object.defineProperty(h.prototype,"extname",{get:T,set:_});Object.defineProperty(h.prototype,"stem",{get:$,set:q});function h(e){var t,n;if(!e)e={};else if(typeof e=="string"||B(e))e={contents:e};else if("message"in e&&"messages"in e)return e;if(!(this instanceof h))return new h(e);for(this.data={},this.messages=[],this.history=[],this.cwd=j.cwd(),n=-1;++n<g.length;)t=g[n],D.call(e,t)&&(this[t]=e[t]);for(t in e)g.indexOf(t)<0&&(this[t]=e[t])}function I(){return this.history[this.history.length-1]}function N(e){v(e,"path"),this.path!==e&&this.history.push(e)}function V(){return typeof this.path=="string"?o.dirname(this.path):void 0}function z(e){y(this.path,"dirname"),this.path=o.join(e||"",this.basename)}function F(){return typeof this.path=="string"?o.basename(this.path):void 0}function M(e){v(e,"basename"),m(e,"basename"),this.path=o.join(this.dirname||"",e)}function T(){return typeof this.path=="string"?o.extname(this.path):void 0}function _(e){if(m(e,"extname"),y(this.path,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=o.join(this.dirname,this.stem+(e||""))}function $(){return typeof this.path=="string"?o.basename(this.path,this.extname):void 0}function q(e){v(e,"stem"),m(e,"stem"),this.path=o.join(this.dirname||"",e+(this.extname||""))}function J(e){return(this.contents||"").toString(e)}function m(e,t){if(e&&e.indexOf(o.sep)>-1)throw new Error("`"+t+"` cannot be a path: did not expect `"+o.sep+"`")}function v(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function y(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}var L=w,d=k,R=d;d.prototype.message=G;d.prototype.info=K;d.prototype.fail=H;function G(e,t,n){var r=new L(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}function H(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e}function K(){var e=this.message.apply(this,arguments);return e.fatal=null,e}var U=R;export{U as v};
